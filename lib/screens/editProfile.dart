import 'dart:async';
import 'dart:convert';
import 'dart:io';
import 'dart:math' as math;
import 'package:csc_picker/csc_picker.dart';
import 'package:dropdown_search/dropdown_search.dart';
import 'package:flutter/cupertino.dart';
import 'package:flutter/material.dart';

import 'package:dropdown_button2/dropdown_button2.dart';
import 'package:findpro/apis/profileApi.dart';
import 'package:findpro/global/Constants.dart';
import 'package:findpro/models/profileModel.dart';
import 'package:findpro/screens/dashboard.dart';
import 'package:findpro/screens/profile.dart';
import 'package:flutter/material.dart';
import 'package:flutter/scheduler.dart';
import 'package:flutter/services.dart';
import 'package:flutter_rating_bar/flutter_rating_bar.dart';
import 'package:flutter_screenutil/flutter_screenutil.dart';
import 'package:http/http.dart';
import 'package:image_cropper/image_cropper.dart';
import 'package:image_picker/image_picker.dart';
import 'package:intl/intl.dart';
import 'package:permission_handler/permission_handler.dart';
import 'package:shared_preferences/shared_preferences.dart';
import 'package:http/http.dart' as http;
import 'package:shimmer/shimmer.dart';

class EditProfile extends StatefulWidget {
  const EditProfile({super.key, required this.title});

  final String title;

  @override
  State<EditProfile> createState() => _MyHomePageState();
}

class _MyHomePageState extends State<EditProfile> {
  final _formKey = GlobalKey<FormState>();


  TextEditingController nameController = TextEditingController();
  TextEditingController emailController = TextEditingController();
  TextEditingController passwordController = TextEditingController();
  TextEditingController aboutController = TextEditingController();
  TextEditingController phoneController = TextEditingController();
  TextEditingController addressController = TextEditingController();
  TextEditingController pincodeController = TextEditingController();
  TextEditingController dobController = TextEditingController();
  TextEditingController totalExperienceController = TextEditingController();
  TextEditingController minimumChargesController = TextEditingController();
  TextEditingController achievementDateInput = TextEditingController();
  TextEditingController country = TextEditingController();
  TextEditingController state = TextEditingController();
  TextEditingController city = TextEditingController();

  TextEditingController awardTitleController = TextEditingController();
  TextEditingController awardDateController = TextEditingController();
  TextEditingController awardEditTitleController = TextEditingController();
  TextEditingController awardEditDateController = TextEditingController();

  TextEditingController educationController = TextEditingController();
  TextEditingController educationFromController = TextEditingController();
  TextEditingController educationDateController = TextEditingController();

  TextEditingController experienceTitleController = TextEditingController();
  TextEditingController experienceNameController = TextEditingController();
  TextEditingController experienceLocationController = TextEditingController();
  TextEditingController experienceSDateController = TextEditingController();
  TextEditingController experienceEDateController = TextEditingController();
  TextEditingController experienceDesController = TextEditingController();


  TextEditingController serviceController = TextEditingController();
  TextEditingController serviceChargesController = TextEditingController();


  final educationFormKey = GlobalKey<FormState>();
  final achievementFormKey = GlobalKey<FormState>();
  final serviceFormKey = GlobalKey<FormState>();
  final experienceFormKey = GlobalKey<FormState>();

  String? numberVisibility;
  String? workingHours;
  String? monWorkingHours;
  String? tueWorkingHours;

  // String? tueWorkingHours;
  String? wedWorkingHours;
  String? thrWorkingHours;
  String? friWorkingHours;
  String? satWorkingHours;
  String profilePic = '';
  static String name = '';
  static String email = '';
  String id = '';
  String countryValue = "";
  String stateValue = "";
  String cityValue = "";
  String address = "";
  int counter = 0;
  late Timer _timer;
  CroppedFile? _croppedFile;
  File? uploadimage;
  File? uploadGalImage;
  File? uploadAwardImage;
  String? employementType;

  // String? awardType;
  List awardType = [];
  List subCat = [];
  List countryData = [];
  List stateData = [];
  List cityData = [];
  var countryDropdown;
  var stateDropdown;
  var cityDropdown;
  var awarddropdownvalue;
  var awardEditdropdownvalue;
  var subcategoryDropdownvalue;
  var educationDropdownvalue;
  int? a;


  bool hideProgress = false;
  bool showLoading = false;
  bool galleryProgress = false;
  bool achievementProgress = false;

  // List<String> _selectedFromTime=[''];
  // List<String> _selectedToTime=[''];
  String? _selectedFromTime;
  String? _selectedToTime;
  String? monFromTime;
  String? monToTime;
  String? tueFromTime;
  String? tueToTime;
  String? wedFromTime;
  String? wedToTime;
  String? thrFromTime;
  String? thrToTime;
  String? friFromTime;
  String? friToTime;
  String? satFromTime;
  String? satToTime;

  bool showRadioTime = false;
  bool showTime = false;
  bool saveTime = false;

  bool showMonRadioTime = false;
  bool showMonTime = false;
  bool saveMonTime = false;

  bool showTueRadioTime = false;
  bool showTueTime = false;
  bool saveTueTime = false;

  bool showWedRadioTime = false;
  bool showWedTime = false;
  bool saveWedTime = false;

  bool showThrRadioTime = false;
  bool showThrTime = false;
  bool saveThrTime = false;

  bool showFriRadioTime = false;
  bool showFriTime = false;
  bool saveFriTime = false;
  bool stateTextChange = false;

  bool showSatRadioTime = false;
  bool showSatTime = false;
  bool saveSatTime = false;


  String selectedDay = '';
  bool saveButton = false;
  bool showServiceEdit = false;
  bool showExperienceEdit = false;
  bool showEducationEdit = false;
  bool? presentWorking = false;
  bool showGalleryButton = false;
  bool showAwardButton = false;
  bool showWorkingHourProgress = false;
  bool showAddTiming = false;

  List<String> suggestons = [
    "USA",
    "UK",
    "Uganda",
    "Uruguay",
    "United Arab Emirates"
  ];


  Future _cropImage() async {
    if (uploadimage != null) {
      final _croppedFile = await ImageCropper().cropImage(
          sourcePath: uploadimage!.path,
          cropStyle: CropStyle.circle,
          maxWidth: 1080,
          maxHeight: 1080,
          // aspectRatio: CropAspectRatio(ratioX: 1, ratioY: 1),
          aspectRatioPresets:
          [
            CropAspectRatioPreset.square,
            CropAspectRatioPreset.ratio3x2,
            CropAspectRatioPreset.original,
            CropAspectRatioPreset.ratio4x3,
            CropAspectRatioPreset.ratio16x9
          ]

        //       uiSettings: [
        //       AndroidUiSettings(
        //       toolbarTitle: 'Crop',
        //       cropGridColor: Colors.black,
        //       initAspectRatio: CropAspectRatioPreset.original,
        //       lockAspectRatio: false),
        //       IOSUiSettings(title: 'Crop')
        // ]
      );

      if (_croppedFile != null) {
        setState(() {
          uploadimage = File(_croppedFile.path);
          uploadImage();
        });
      }
    }
  }

  chooseImage(BuildContext context) async {
    final pickedFile = await ImagePicker().pickImage(
      source: ImageSource.gallery,
      // imageQuality: 50
    );

    if (pickedFile != null) {
      setState(() {
        uploadimage = File(pickedFile.path);
        _cropImage();
      });
    }
  }

  chooseImageCamera(BuildContext context) async {
    final pickedFileCamera = await ImagePicker().pickImage(
      source: ImageSource.camera,
      // imageQuality: 50
    );

    if (pickedFileCamera != null) {
      setState(() {
        uploadimage = File(pickedFileCamera.path);
        _cropImage();
      });
    }
  }

  Future<void> uploadImage() async {
    setState(() {
      hideProgress = true;
    });

    try {
      List<int> imageBytes = uploadimage!.readAsBytesSync();
      String baseimage = base64Encode(imageBytes);
      print('fgdgfxg${baseimage}');

      //convert file image to Base64 encoding
      var response = await http.post(
          Uri.parse(apiURL + 'update_profile_avatar'),
          body: {
            'image': baseimage,
            'lister_id': id,
          }
      );

      print('fhgfghtf ${response.body}');
      print('fgdgfxg${response}');
      if (response.statusCode == 200) {
        var jsondata = json.decode(response.body);

        Navigator.of(context).pop();
        SharedPreferences profilePrefs = await SharedPreferences.getInstance();
        profilePrefs.setString('uploadImage',
            'https:\/\/www.findpro.net\/uploads\/avatars\/' +
                jsondata['data']['pro_images'][0]['avatar']);
        print('dgff  ${jsondata['data']['pro_images'][0]['avatar']}');
        print('fhgfghtf ${response.body}');
        ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              backgroundColor: Colors.green,
              content: Text(
                "Profile updated", style: TextStyle(color: Colors.white),),
              behavior: SnackBarBehavior.floating,));
        setState(() {
          hideProgress = false;
        });
        uploadimage = null;


        if (jsondata["error"]) {
          print(jsondata["msg"]);
        } else {
          print("Upload successful");
        }
      } else {
        print("Error during connection to server");
      }
    } catch (e) {
      print("Error during converting to Base64");
    }
  }

  Future<void> removeImage() async {
    setState(() {
      hideProgress = true;
    });

    try {
      //   List<int> imageBytes = uploadimage!.readAsBytesSync();
      //   String baseimage = base64Encode(imageBytes);
      //   print('fgdgfxg${baseimage}');

      //convert file image to Base64 encoding
      var response = await http.post(
          Uri.parse(apiURL + 'update_profile_avatar'),
          body: {
            'image': '',
            'lister_id': id,
          }
      );


      print('fhgfghtf ${response.body}');
      print('fgdgfxg${response}');
      if (response.statusCode == 200) {
        var jsondata = json.decode(response.body);

        Navigator.of(context).pop();
        // SharedPreferences profilePrefs = await SharedPreferences.getInstance();
        // profilePrefs.setString('uploadImage',
        //     'https:\/\/www.findpro.net\/uploads\/avatars\/' +
        //         jsondata['data']['pro_images'][0]['avatar']);
        print('dgff  ${jsondata['data']['pro_images'][0]['avatar']}');
        print('fhgfghtf ${response.body}');
        ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              backgroundColor: Colors.green,
              content: Text(
                "Profile removed", style: TextStyle(color: Colors.white),),
              behavior: SnackBarBehavior.floating,));
        setState(() {
          hideProgress = false;
        });
        uploadimage = null;


        if (jsondata["error"]) {
          print(jsondata["msg"]);
        } else {
          print("Upload successful");
        }
      } else {
        print("Error during connection to server");
      }
    } catch (e) {
      print("Error during converting to Base64");
    }
  }

  Future<void> uploadGalleryImage() async {
    try {
      List<int> imageBytes = uploadGalImage!.readAsBytesSync();
      String baseimage = base64Encode(imageBytes);


      //convert file image to Base64 encoding
      var response = await http.post(
          Uri.parse(apiURL + 'process_upload'),
          body: {
            'images': baseimage,
            'lister_id': id,
          }
      );

      print('fhgfghtf ${response.body}');
      print('fgdgfxg${response}');
      if (response.statusCode == 200) {
        var jsondata = json.decode(response.body);
        print('jbkjkb $jsondata');
        Navigator.of(context).pop();
        uploadGalImage = null;
        setState(() {
          galleryProgress = false;
          fetchEditProfileJSONData();
        });

        ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              backgroundColor: Colors.green,
              content: Text(
                "Gallery images updated",
                style: TextStyle(color: Colors.white),),
              behavior: SnackBarBehavior.floating,));

        if (jsondata["error"]) {
          print(jsondata["msg"]);
        } else {
          print("Upload successful");
        }
      } else {
        print("Error during connection to server");
      }
    } catch (e) {
      print("Error during converting to Base64");
    }
  }

  Future<void> deleteGalleryImage(String galleryId) async {
    print('jhjh nkj');

    try {
      var response = await http.post(
          Uri.parse(apiURL + 'remove_image'),
          body: {
            'lister_id': id,
            'image_id': galleryId,
          }
      );

      print('fhgfghtf ${galleryId}');
      print('fhgfghtf ${id}');
      print('fhgfghtf ${response.body}');
      print('fgdgfxg${response}');
      if (response.statusCode == 200) {
        var jsondata = json.decode(response.body);
        Navigator.of(context).pop();
        setState(() {
          fetchEditProfileJSONData();
          showGalleryButton = false;
        });

        ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              backgroundColor: Colors.green,
              content: Text(
                "Image deleted",
                style: TextStyle(color: Colors.white),),
              behavior: SnackBarBehavior.floating,));

        if (jsondata["error"]) {
          print(jsondata["msg"]);
        } else {
          print("Upload successful");
        }
      } else {
        print("Error during connection to server");
      }
    } catch (e) {
      print(e);
    }
  }

  Future<void> uploadAwrdImage() async {
    try {
      List<int> imageBytes = uploadAwardImage!.readAsBytesSync();
      String baseimage = base64Encode(imageBytes);


      //convert file image to Base64 encoding
      var response = await http.post(
          Uri.parse(apiURL + 'insert_award'),
          body: {
            'images': baseimage,
            'lister_id': id,
            'title': awardTitleController.text.toString(),
            'when': awardDateController.text.toString(),
            'awardtype': awarddropdownvalue,
          }
      );


      print('fhgfghtf ${response.body}');
      print('fgdgfxg${response}');
      if (response.statusCode == 200) {
        var jsondata = json.decode(response.body);
        print('jbkjkb $jsondata');
        Navigator.of(context).pop();
        uploadAwardImage = null;
        setState(() {
          achievementProgress = false;
        });
        awardTitleController.clear();
        awardDateController.clear();

        ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              backgroundColor: Colors.green,
              content: Text(
                "Awards updated",
                style: TextStyle(color: Colors.white),),
              behavior: SnackBarBehavior.floating,));

        if (jsondata["error"]) {
          print(jsondata["msg"]);
        } else {
          print("Upload successful");
        }
      } else {
        print("Error during connection to server");
      }
    } catch (e) {
      print("Error during converting to Base64");
    }
  }

  Future<void> deleteAwrdImage(String awardId) async {
    print('jhjh nkj');

    try {
      var response = await http.post(
          Uri.parse(apiURL + 'award_delete'),
          body: {
            'lister_id': id,
            'award_id': awardId,
          }
      );

      print('fhgfghtf ${awardId}');
      print('fhgfghtf ${id}');
      print('fhgfghtf ${response.body}');
      print('fgdgfxg${response}');
      if (response.statusCode == 200) {
        var jsondata = json.decode(response.body);
        Navigator.of(context).pop();
        setState(() {
          fetchEditProfileJSONData();
          showAwardButton = false;
        });

        ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              backgroundColor: Colors.green,
              content: Text(
                "Award deleted",
                style: TextStyle(color: Colors.white),),
              behavior: SnackBarBehavior.floating,));

        if (jsondata["error"]) {
          print(jsondata["msg"]);
        } else {
          print("Upload successful");
        }
      } else {
        print("Error during connection to server");
      }
    } catch (e) {
      print(e);
    }
  }

  Future<void> editAwrd(String awardId) async {
    try {
      List<int> imageBytes = uploadAwardImage!.readAsBytesSync();
      String baseimage = base64Encode(imageBytes);
      var response = await http.post(
          Uri.parse(apiURL + 'update_award'),
          body: {
            'award_id': awardId,
            'lister_id': id,
            'title': awardEditTitleController.text.toString(),
            'when': awardEditDateController.text.toString(),
            'awardtype': awardEditdropdownvalue.toString(),
            'images': baseimage,
          }
      );

      print('fhgfghtf ${response.body}');
      print('fgdgfxg${response}');
      if (response.statusCode == 200) {
        var jsondata = json.decode(response.body);
        print('jbkjkb $jsondata');
        Navigator.of(context).pop();
        setState(() {
          fetchEditProfileJSONData();
          achievementProgress = false;
        });


        // educationController.clear();
        // educationFromController.clear();
        // educationDateController.clear();

        ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              backgroundColor: Colors.green,
              content: Text(
                "Award updated",
                style: TextStyle(color: Colors.white),),
              behavior: SnackBarBehavior.floating,));

        if (jsondata["error"]) {
          print(jsondata["msg"]);
        } else {
          print("Upload successful");
        }
      } else {
        print("Error during connection to server");
      }
    } catch (e) {
      print(e);
    }
  }


  Future<void> uploadService() async {
    SharedPreferences prefs = await SharedPreferences.getInstance();
    String? userId = prefs.getString('loginId');
    try {
      var response = await http.post(
          Uri.parse(apiURL + 'add_new_service'),
          body: {
            'lister_id': (userId != null) ? userId : '0',
            'subcat': subcategoryDropdownvalue.toString(),
            'service_title': serviceController.text.toString(),
            'charges_title': serviceChargesController.text.toString(),
          }
      );

      print('sdfsdgv $userId');
      print('sdfsdgv ${serviceChargesController.text.toString()}');
      print('fhgfghtf ${response.body}');
      print('fgdgfxg${response.statusCode}');
      if (response.statusCode == 200) {
        var jsondata = jsonDecode(response.body);
        print('jbkjkb $jsondata');
        Navigator.of(context).pop();
        setState(() {
          fetchEditProfileJSONData();
        });


        ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              backgroundColor: Colors.green,
              content: Text(
                "Services updated",
                style: TextStyle(color: Colors.white),),
              behavior: SnackBarBehavior.floating,));

        if (jsondata["error"]) {
          print(jsondata["msg"]);
        } else {
          print("Upload successful");
        }
      } else {
        print("Error during connection to server");
      }
    } catch (e) {
      print(e);
      print('thstfhsr');
    }
  }

  Future<void> editService() async {
    try {
      var response = await http.post(
          Uri.parse(apiURL + 'add_new_service'),
          body: {
            'subcat': subcategoryDropdownvalue.toString(),
            'service_title': serviceController.text.toString(),
            'lister_id': id,
          }
      );

      print('sdfsdgv $subcategoryDropdownvalue');
      print('sdfsdgv ${serviceChargesController.text.toString()}');
      print('fhgfghtf ${response.body}');
      print('fgdgfxg${response}');
      if (response.statusCode == 200) {
        var jsondata = json.decode(response.body);
        print('jbkjkb $jsondata');
        Navigator.of(context).pop();


        ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              backgroundColor: Colors.green,
              content: Text(
                "Services updated",
                style: TextStyle(color: Colors.white),),
              behavior: SnackBarBehavior.floating,));

        if (jsondata["error"]) {
          print(jsondata["msg"]);
        } else {
          print("Upload successful");
        }
      } else {
        print("Error during connection to server");
      }
    } catch (e) {
      print(e);
      print('thstfhsr');
    }
  }

  Future<void> uploadEducation() async {
    try {
      var response = await http.post(
          Uri.parse(apiURL + 'education_add'),
          body: {
            'id': id,
            'education': educationController.text.toString(),
            'education_from': educationFromController.text.toString(),
            'when': educationDateController.text.toString(),
            'edu_type': educationDropdownvalue.toString(),
          }
      );


      print('fhgfghtf ${educationDropdownvalue}');
      print('fhgfghtf ${educationController.text}');
      print('fhgfghtf ${educationDateController.text}');
      print('fhgfghtf ${educationFromController.text}');
      print('fhgfghtf ${response.body}');
      print('fgdgfxg${response}');
      if (response.statusCode == 200) {
        var jsondata = json.decode(response.body);
        print('jbkjkb $jsondata');
        Navigator.of(context).pop();
        setState(() {
          fetchEditProfileJSONData();
        });


        ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              backgroundColor: Colors.green,
              content: Text(
                "Education updated",
                style: TextStyle(color: Colors.white),),
              behavior: SnackBarBehavior.floating,));

        if (jsondata["error"]) {
          print(jsondata["msg"]);
        } else {
          print("Upload successful");
        }
      } else {
        print("Error during connection to server");
      }
    } catch (e) {
      print(e);
      print('thstfhsr');
    }
  }

  Future<void> deleteEducation(String educationId) async {
    print('fgfdg ${apiURL + 'education_delete?id=' + educationId}');
    try {
      var response = await http.get(
        Uri.parse(apiURL + 'education_delete?id=' + educationId),
        // body: {
        //   'id': educationId,
        // }
      );

      print('fhgfghtf ${response.body}');
      print('fgdgfxg${response}');
      if (response.statusCode == 200) {
        var jsondata = json.decode(response.body);
        print('jbkjkb $jsondata');
        Navigator.of(context).pop();
        setState(() {
          fetchEditProfileJSONData();
        });


        // educationController.clear();
        // educationFromController.clear();
        // educationDateController.clear();

        ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              backgroundColor: Colors.green,
              content: Text(
                "Education deleted",
                style: TextStyle(color: Colors.white),),
              behavior: SnackBarBehavior.floating,));

        if (jsondata["error"]) {
          print(jsondata["msg"]);
        } else {
          print("Upload successful");
        }
      } else {
        print("Error during connection to server");
      }
    } catch (e) {
      print(e);
    }
  }

  Future<void> editEducation(String educationId) async {
    try {
      var response = await http.post(
          Uri.parse(apiURL + 'education_add'),
          body: {
            'editId': educationId,
            'id': id,
            'education': educationController.text.toString(),
            'education_from': educationFromController.text.toString(),
            'when': educationDateController.text.toString(),
            'edu_type': educationDropdownvalue.toString(),
          }
      );

      print('fhgfghtf ${response.body}');
      print('fgdgfxg${response}');
      if (response.statusCode == 200) {
        var jsondata = json.decode(response.body);
        print('jbkjkb $jsondata');
        Navigator.of(context).pop();
        setState(() {
          fetchEditProfileJSONData();
        });


        // educationController.clear();
        // educationFromController.clear();
        // educationDateController.clear();

        ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              backgroundColor: Colors.green,
              content: Text(
                "Education updated",
                style: TextStyle(color: Colors.white),),
              behavior: SnackBarBehavior.floating,));

        if (jsondata["error"]) {
          print(jsondata["msg"]);
        } else {
          print("Upload successful");
        }
      } else {
        print("Error during connection to server");
      }
    } catch (e) {
      print(e);
    }
  }

  Future<void> deleteExperience(String experienceId) async {
    try {
      var response = await http.post(
          Uri.parse(apiURL + 'experience_delete'),
          body: {
            'exp_id': experienceId,
          }
      );

      print('fhgfghtf ${response.body}');
      print('fgdgfxg${response}');
      if (response.statusCode == 200) {
        var jsondata = json.decode(response.body);
        print('jbkjkb $jsondata');
        Navigator.of(context).pop();
        setState(() {
          fetchEditProfileJSONData();
        });


        // educationController.clear();
        // educationFromController.clear();
        // educationDateController.clear();

        ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              backgroundColor: Colors.green,
              content: Text(
                "Experience deleted",
                style: TextStyle(color: Colors.white),),
              behavior: SnackBarBehavior.floating,));

        if (jsondata["error"]) {
          print(jsondata["msg"]);
        } else {
          print("Upload successful");
        }
      } else {
        print("Error during connection to server");
      }
    } catch (e) {
      print(e);
    }
  }

  Future<void> editExperience(String experienceId) async {
    try {
      var response = await http.post(
          Uri.parse(apiURL + 'experience_edit'),
          body: {
            'exp_id': experienceId,
            'employement': employementType,
            'experience': experienceTitleController.text.toString(),
            'coname': experienceNameController.text.toString(),
            'location': experienceLocationController.text,
            'start_date': experienceSDateController.text,
            'end_date': experienceEDateController.text,
            'finish_desc': experienceDesController.text,
            'iscurrentwork': a.toString(),
          }
      );

      print('fhgfghtf ${response.body}');
      print('fgdgfxg${response}');
      if (response.statusCode == 200) {
        var jsondata = json.decode(response.body);
        print('jbkjkb $jsondata');
        Navigator.of(context).pop();
        setState(() {
          fetchEditProfileJSONData();
        });


        // educationController.clear();
        // educationFromController.clear();
        // educationDateController.clear();

        ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              backgroundColor: Colors.green,
              content: Text(
                "Experience updated",
                style: TextStyle(color: Colors.white),),
              behavior: SnackBarBehavior.floating,));

        if (jsondata["error"]) {
          print(jsondata["msg"]);
        } else {
          print("Upload successful");
        }
      } else {
        print("Error during connection to server");
      }
    } catch (e) {
      print(e);
    }
  }

  Future<void> uploadExperience() async {
    print('okkkk');

    try {
      //convert file image to Base64 encoding
      var response = await http.post(
          Uri.parse(apiURL + 'experience_add'),
          body: {
            'lister_id': id,
            'employement': employementType,
            'experience': experienceTitleController.text.toString(),
            'coname': experienceNameController.text.toString(),
            'location': experienceLocationController.text,
            'start_date': experienceSDateController.text,
            'end_date': experienceEDateController.text,
            'finish_desc': experienceDesController.text,
            'iscurrentwork': a.toString(),
          }
      );

      print('fhgfghtf ${employementType}');
      print('fhgfghtf ${a.toString()}');

      print('fhgfghtf ${response.body}');
      print('fgdgfxg${response}');
      if (response.statusCode == 200) {
        var jsondata = json.decode(response.body);
        setState(() {
          fetchEditProfileJSONData();
        });
        print('jbkjkb $jsondata');
        Navigator.of(context).pop();

        // educationController.clear();
        // educationFromController.clear();
        // educationDateController.clear();

        ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              backgroundColor: Colors.green,
              content: Text(
                "Experience updated",
                style: TextStyle(color: Colors.white),),
              behavior: SnackBarBehavior.floating,));

        if (jsondata["error"]) {
          print(jsondata["msg"]);
        } else {
          print("Upload successful");
        }
      } else {
        print("Error during connection to server");
      }
    } catch (e) {
      print(e);
    }
  }

  Future<void> numberStatus() async {
    try {
      //convert file image to Base64 encoding
      var response = await http.post(
          Uri.parse(apiURL + 'update_phonestatus'),
          body: {
            'lister_id': id,
            'switch_one': numberVisibility.toString(),

          }
      );

      print('fhgfghtf ${response.body}');
      print('fgdgfxg${response}');
      if (response.statusCode == 200) {
        var jsondata = json.decode(response.body);
        setState(() {
          fetchEditProfileJSONData();
          showLoading = false;
        });
        print('jbkjkb $jsondata');

        ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              backgroundColor: Colors.green,
              content: Text(
                "Phone status updated",
                style: TextStyle(color: Colors.white),),
              behavior: SnackBarBehavior.floating,));

        if (jsondata["error"]) {
          print(jsondata["msg"]);
        } else {
          print("Upload successful");
        }
      } else {
        print("Error during connection to server");
        setState(() {
          showLoading = false;
        });
      }
    } catch (e) {
      print(e);
    }
  }

  Future<void> saveAddress() async {
    try {
      //convert file image to Base64 encoding
      var response = await http.post(
          Uri.parse(apiURL + 'save_address'),
          body: {
            'lister_id': id,
            'country': countryDropdown,
            'state': stateDropdown,
            'city': cityDropdown,
            'address': addressController.text,
            'pincode': pincodeController.text,
          }
      );

      if (response.statusCode == 200) {
        var jsondata = json.decode(response.body);
        setState(() {
          fetchEditProfileJSONData();
        });


        ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              backgroundColor: Colors.green,
              content: Text(
                "Address updated",
                style: TextStyle(color: Colors.white),),
              behavior: SnackBarBehavior.floating,));

        if (jsondata["error"]) {
          print(jsondata["msg"]);
        } else {
          print("Upload successful");
        }
      } else {
        print("Error during connection to server");
      }
    } catch (e) {
      print(e);
    }
  }


  Future<void> uploadWorkingHours(monWorkingHoursOld, monFromTimeOld,
      monToTimeOld, tueWorkingHoursOld, tueFromTimeOld, tueToTimeOld,
      wedWorkingHoursOld, wedFromTimeOld, wedToTimeOld, thrWorkingHoursOld,
      thrFromTimeOld, thrToTimeOld, friWorkingHoursOld, friFromTimeOld,
      friToTimeOld, satWorkingHoursOld, satFromTimeOld, satToTimeOld,
      workingHoursOld, _selectedFromTimeOld, _selectedToTimeOld) async {
    try {
      var response = await http.post(
          Uri.parse(apiURL + 'edit_working_hours'),
          body: {
            'lister_id': id,
            'Sunday': 'Sunday',
            'Monday': 'Monday',
            'Tuesday': 'Tuesday',
            'Wednesday': 'Wednesday',
            'Thursday': 'Thursday',
            'Friday': 'Friday',
            'Saturday': 'Saturday',

            'monenhours': (monWorkingHours == null) ? monWorkingHoursOld
                .toString() : monWorkingHours.toString(),
            'monfrom': (monFromTime == null)
                ? monFromTimeOld.toString()
                : monFromTime.toString(),
            'monto': (monToTime == null) ? monToTimeOld.toString() : monToTime
                .toString(),

            'tueenhours': (tueWorkingHours == null) ? tueWorkingHoursOld
                .toString() : tueWorkingHours.toString(),
            'tuefrom': (tueFromTime == null)
                ? tueFromTimeOld.toString()
                : tueFromTime.toString(),
            'tueto': (tueToTime == null) ? tueToTimeOld.toString() : tueToTime
                .toString(),

            'wedenhours': (wedWorkingHours == null) ? wedWorkingHoursOld
                .toString() : wedWorkingHours.toString(),
            'wedfrom': (wedFromTime == null)
                ? wedFromTimeOld.toString()
                : wedFromTime.toString(),
            'wedto': (wedToTime == null) ? wedToTimeOld.toString() : wedToTime
                .toString(),

            'thuenhours': (thrWorkingHours == null) ? thrWorkingHoursOld
                .toString() : thrWorkingHours.toString(),
            'thufrom': (thrFromTime == null)
                ? thrFromTimeOld.toString()
                : thrFromTime.toString(),
            'thuto': (thrToTime == null) ? thrToTimeOld.toString() : thrToTime
                .toString(),

            'frienhours': (friWorkingHours == null) ? friWorkingHoursOld
                .toString() : friWorkingHours.toString(),
            'frifrom': (friFromTime == null)
                ? friFromTimeOld.toString()
                : friFromTime.toString(),
            'frito': (friToTime == null) ? friToTimeOld.toString() : friToTime
                .toString(),

            'satenhours': (satWorkingHours == null) ? satWorkingHoursOld
                .toString() : satWorkingHours.toString(),
            'satfrom': (satFromTime == null)
                ? satFromTimeOld.toString()
                : satFromTime.toString(),
            'satto': (satToTime == null) ? satToTimeOld.toString() : satToTime
                .toString(),

            'sunenhours': (workingHours == null)
                ? workingHoursOld.toString()
                : workingHours.toString(),
            'sunfrom': (_selectedFromTime == null) ? _selectedFromTimeOld
                .toString() : _selectedFromTime.toString(),
            'sunto': (_selectedToTime == null)
                ? _selectedToTimeOld.toString()
                : _selectedToTime.toString(),

          }
      );

      if (response.statusCode == 200) {
        var jsondata = json.decode(response.body);
        setState(() {
          fetchEditProfileJSONData();
          showWorkingHourProgress = false;
        });

        Navigator.of(context).pop();

        ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              backgroundColor: Colors.green,
              content: Text(
                "Working hours updated",
                style: TextStyle(color: Colors.white),),
              behavior: SnackBarBehavior.floating,));

        if (jsondata["error"]) {

        } else {
          print("Upload successful");
        }
      } else {
        print("Error during connection to server");
      }
    } catch (e) {
      print(e);
    }
  }

  void updateDetails() async {
    try {
      Response response = await post(
          Uri.parse(apiURL + 'profile_setting'),
          body: {
            'lister_id': id,
            'about': aboutController.text.toString(),
            'phone': phoneController.text.toString(),
            'dob': dobController.text.toString(),
            'experience': totalExperienceController.text.toString(),
            'minimum_fees': minimumChargesController.text.toString(),
          }
      );

      print('sdf ${response.body}');

      if (response.statusCode == 200) {
        setState(() {
          hideProgress = false;
          fetchEditProfileJSONData();
        });


        var data = jsonDecode(response.body.toString());

        ScaffoldMessenger.of(context).showSnackBar(
            SnackBar(
              backgroundColor: Colors.green,
              content: Text(
                "Details updated", style: TextStyle(color: Colors.white),),
              behavior: SnackBarBehavior.floating,));


        print('successful');
      } else {
        setState(() {
          hideProgress = false;
          ScaffoldMessenger.of(context).showSnackBar(
              SnackBar(
                content: Text(
                    "User not found"), behavior: SnackBarBehavior.floating,));
        });

        print('failed');
      }
    } catch (e) {
      print(e.toString());
    }
  }


  Future<void> _showFrom(BuildContext context, setState) async {
    final TimeOfDay? result =
    await showTimePicker(context: context, initialTime: TimeOfDay.now());
    if (result != null) {
      setState(() {
        _selectedFromTime = result.format(context);
      });
    }
  }

  Future<void> _showTo(BuildContext context, setState) async {
    final TimeOfDay? result =
    await showTimePicker(context: context, initialTime: TimeOfDay.now());
    if (result != null) {
      setState(() {
        _selectedToTime = result.format(context);
        saveTime = true;
      });
    }
  }

  Future<void> _showMonFrom(BuildContext context, setState) async {
    final TimeOfDay? result =
    await showTimePicker(context: context, initialTime: TimeOfDay.now());
    if (result != null) {
      setState(() {
        monFromTime = result.format(context);
      });
    }
  }

  Future<void> _showMonTo(BuildContext context, setState) async {
    final TimeOfDay? result =
    await showTimePicker(context: context, initialTime: TimeOfDay.now());
    if (result != null) {
      setState(() {
        monToTime = result.format(context);
        saveMonTime = true;
      });
    }
  }

  Future<void> _showTueFrom(BuildContext context, setState) async {
    final TimeOfDay? result =
    await showTimePicker(context: context, initialTime: TimeOfDay.now());
    if (result != null) {
      setState(() {
        tueFromTime = result.format(context);
      });
    }
  }

  Future<void> _showTueTo(BuildContext context, setState) async {
    final TimeOfDay? result =
    await showTimePicker(context: context, initialTime: TimeOfDay.now());
    if (result != null) {
      setState(() {
        tueToTime = result.format(context);
        saveTueTime = true;
      });
    }
  }

  Future<void> _showWedFrom(BuildContext context, setState) async {
    final TimeOfDay? result =
    await showTimePicker(context: context, initialTime: TimeOfDay.now());
    if (result != null) {
      setState(() {
        wedFromTime = result.format(context);
      });
    }
  }

  Future<void> _showWedTo(BuildContext context, setState) async {
    final TimeOfDay? result =
    await showTimePicker(context: context, initialTime: TimeOfDay.now());
    if (result != null) {
      setState(() {
        wedToTime = result.format(context);
        saveWedTime = true;
      });
    }
  }

  Future<void> _showThrFrom(BuildContext context, setState) async {
    final TimeOfDay? result =
    await showTimePicker(context: context, initialTime: TimeOfDay.now());
    if (result != null) {
      setState(() {
        thrFromTime = result.format(context);
      });
    }
  }

  Future<void> _showThrTo(BuildContext context, setState) async {
    final TimeOfDay? result =
    await showTimePicker(context: context, initialTime: TimeOfDay.now());
    if (result != null) {
      setState(() {
        thrToTime = result.format(context);
        saveThrTime = true;
      });
    }
  }

  Future<void> _showFriFrom(BuildContext context, setState) async {
    final TimeOfDay? result =
    await showTimePicker(context: context, initialTime: TimeOfDay.now());
    if (result != null) {
      setState(() {
        friFromTime = result.format(context);
      });
    }
  }

  Future<void> _showFriTo(BuildContext context, setState) async {
    final TimeOfDay? result =
    await showTimePicker(context: context, initialTime: TimeOfDay.now());
    if (result != null) {
      setState(() {
        friToTime = result.format(context);
        saveFriTime = true;
      });
    }
  }

  Future<void> _showSatFrom(BuildContext context, setState) async {
    final TimeOfDay? result =
    await showTimePicker(context: context, initialTime: TimeOfDay.now());
    if (result != null) {
      setState(() {
        satFromTime = result.format(context);
      });
    }
  }

  Future<void> _showSatTo(BuildContext context, setState) async {
    final TimeOfDay? result =
    await showTimePicker(context: context, initialTime: TimeOfDay.now());
    if (result != null) {
      setState(() {
        satToTime = result.format(context);
        saveSatTime = true;
      });
    }
  }


  stopCounter() {
    _timer.cancel();
  }

  update() async {
    // _timer = Timer.periodic(Duration(seconds: 3), (timer) async {
    SharedPreferences prefs = await SharedPreferences.getInstance();
    setState(() {
      print('sujegfdhfjdh $email');
      id = prefs.getString('loginId') ?? '';
      profilePic = prefs.getString('avatar') ?? '';
      name = prefs.getString('name') ?? '';
      email = prefs.getString('email') ?? '';
    });
    // });
  }

  _nameRetriever() async {
    if (profilePic.isEmpty) {
      update();
    } else {
      stopCounter();
    }
  }


  Future fetchAwardJSONData() async {
    var jsonResponse = await http.get(Uri.parse(apiURL + 'get_award_type'));


    if (jsonResponse.statusCode == 200) {
      final jsonItems = json.decode(jsonResponse.body);

      var data = jsonItems['data'];
      // suggestons = [];
      setState(() {
        awardType.addAll(data);
      });
    } else {
      throw Exception('Failed to load data from internet');
    }
  }


  Future getSubCat() async {
    SharedPreferences prefs = await SharedPreferences.getInstance();
    String? categoryId = prefs.getString('categoryId');
    String? userId = prefs.getString('loginId');

    var jsonResponse = await http.get(
        Uri.parse(apiURL + 'get_subcategories/?q=' + categoryId! + '&' +
            "lister_id=" + userId!));

    print('bkjhkj $jsonResponse');


    if (jsonResponse.statusCode == 200) {
      final jsonItems = json.decode(jsonResponse.body);
      print('bkjhkj $jsonItems');


      var data = jsonItems['data'];
      print('bkjhkj $data');

      // suggestons = [];
      setState(() {
        subCat.addAll(data);
      });
    } else {
      throw Exception('Failed to load data from internet');
    }
  }

  Future getCountry() async {
    var jsonResponse = await http.get(Uri.parse(apiURL + 'get_countries'));

    if (jsonResponse.statusCode == 200) {
      final jsonItems = json.decode(jsonResponse.body);
      print('bkjhkj $jsonItems');

      var data = jsonItems['data'];
      print('bkjhkj $data');


      setState(() {
        countryData.addAll(data);
        print('jhbjh ${countryData.runtimeType}');
      });
    } else {
      throw Exception('Failed to load data from internet');
    }
  }

  Future getState(String countryId) async {
    setState(() {
      stateData.clear();
      cityData.clear();
      stateDropdown = null;
      cityDropdown = null;
    });


    var jsonResponse = await http.get(
        Uri.parse(apiURL + 'get_states?countryId=' + countryId));


    print('gtdghdfhfgd ${apiURL + 'get_states?countryId=' + countryId}');
    if (jsonResponse.statusCode == 200) {
      final jsonItems = json.decode(jsonResponse.body);
      print('bkjhkj $jsonItems');


      var data = jsonItems['data'];
      print('bkjhkj $data');

      // suggestons = [];
      setState(() {
        stateData.addAll(data);
      });
    } else {
      throw Exception('Failed to load data from internet');
    }
  }

  Future getCity(String cityId) async {
    var jsonResponse = await http.get(
        Uri.parse(apiURL + 'get_cities?stateId=' + cityId));

    if (jsonResponse.statusCode == 200) {
      final jsonItems = json.decode(jsonResponse.body);
      print('bkjhkj $jsonItems');


      var data = jsonItems['data'];
      print('bkjhkj $data');

      // suggestons = [];
      setState(() {
        cityData.addAll(data);
      });
    } else {
      throw Exception('Failed to load data from internet');
    }
  }

  Future<List<profile>> fetchEditProfileJSONData() async {
    SharedPreferences prefs = await SharedPreferences.getInstance();
    String? link = prefs.getString('editLink');

    var jsonResponse = await http.post(Uri.parse(apiURL + "index"),
        body: {
          'q': link
        });

    print('sdfsdf ${jsonResponse}');
    if (jsonResponse.statusCode == 200) {
      print('sdfsdf ${jsonResponse.body}');
      final jsonItems = json.decode(jsonResponse.body);


      List<profile> usersList = jsonItems['data']
          .map<profile>((json) {
        return profile.fromJson(json);
      }).toList();
      return usersList;
    } else {
      throw Exception('Failed to load data from internet');
    }
  }


  Future<void> _selectPhotos() async {
    PermissionStatus status = await Permission.storage.request();

    if (status == PermissionStatus.denied){
      return;

    } else if (status == PermissionStatus.permanentlyDenied){
      if (!mounted) return;
      showDialog<String>(
        context: context,

      builder: (BuildContext context) =>
           AlertDialog(
              title: const Text('Allow app to acess your Photos?'),
              content: const Text(
                  'You need to allow App to access photos on your device?'),
              actions: <Widget>[

           TextButton(
                  onPressed: () => Navigator.pop(context),
                  child: const Text('Don\'t allow'),
                ),

                TextButton(
                  onPressed: () {
                    openAppSettings();
                    Navigator.pop(context);
                  },
                  child: const Text('Allow'),
                ),
              ],
            ),
      );
      return;
    }
  }

  // getData(){
  //   totalExperienceController.text = allD
  // }


  @override
  void initState() {
    print('sgfdsfsdf $countryData');
    print('sgfdsfsdf $countryDropdown');
    fetchEditProfileJSONData();
    fetchAwardJSONData();
    getSubCat();
    getCountry();
    _nameRetriever();
    // getData();
    super.initState();
  }

  @override
  Widget build(BuildContext context) {
    return SafeArea(


      child: Scaffold(
        resizeToAvoidBottomInset: false,

        appBar: PreferredSize(
          preferredSize: Size(double.infinity, 100),
          child: Column(mainAxisSize: MainAxisSize.min,
            children: [
              Container(
                // padding: EdgeInsets.only(
                //   top: 5.h,
                // ),
                child: Row(
                  mainAxisAlignment: MainAxisAlignment.spaceBetween,
                  crossAxisAlignment: CrossAxisAlignment.center,
                  children: <Widget>[
                    IconButton(
                        splashColor: Colors.transparent,
                        highlightColor: Colors.transparent,
                        hoverColor: Colors.transparent,
                        onPressed: () {
                          Navigator.pop(context);
                          // _key.currentState!.openDrawer();
                        },
                        icon: Icon(
                          Icons.arrow_back,
                          size: 25,
                        )),

                    // AutocompleteBasicExample(),
                    Container(
                        height: 43.h,
                        alignment: Alignment.center,
                        padding: EdgeInsets.zero,
                        child: Text(
                          'Edit Profile',
                          style: TextStyle(fontSize: 25.sp),
                        )),


                    IconButton(
                        splashColor: Colors.transparent,
                        highlightColor: Colors.transparent,
                        hoverColor: Colors.transparent,
                        onPressed: () {},
                        icon: Icon(
                          Icons.arrow_back,
                          color: Colors.transparent,
                          size: 25,
                        )),
                    // Container(
                    //   margin: EdgeInsets.only(right: 20.w),
                    // child:
                    // (saveButton == false && uploadimage == null) ?
                    // InkWell(
                    //     onTap: () {},
                    //     child: Text('save', style: TextStyle(
                    //         fontSize: 20.sp, color: Colors.grey)))
                    // InkWell(
                    //     onTap: () async {
                    //       if (uploadimage != null) {
                    //         uploadImage();
                    //       } else {
                    //         // if (_formKey.currentState!.validate()) {
                    //         setState(() {
                    //           hideProgress = true;
                    //         });
                    //
                    //         updateDetails(aboutController.text.toString(),
                    //             phoneController.text.toString(),
                    //             dobController.text.toString());
                    //       }
                    //       // }
                    //       // if (_formKey.currentState!.validate()) {
                    //       //   setState(() {
                    //       //
                    //       //   });
                    //       //
                    //       //
                    //       //   ScaffoldMessenger.of(context).showSnackBar(
                    //       //       SnackBar(
                    //       //           content: Text(
                    //       //               "Data is in processing.")));
                    //       // }
                    //     },
                    //     child: Text('save', style: TextStyle(fontSize: 20.sp,
                    //         color: ColorConstants.themeBlue))),
                    //         ),
                  ],
                ),
              ),
              Visibility(
                  visible: hideProgress,
                  child: LinearProgressIndicator()),
            ],
          ),
        ),
        body: Stack(
          children: [
            RefreshIndicator(
              onRefresh: () async {
                setState(() {
                  fetchEditProfileJSONData();
                });
              },
              child: Form(
                key: _formKey,
                child: FutureBuilder<List<profile>>(
                    future: fetchEditProfileJSONData(),
                    builder: (context, snapshot) {
                      if (!snapshot.hasData) {
                        return Shimmer.fromColors(
                          baseColor: ColorConstants.lightGrey,
                          highlightColor: Colors.white,
                          child: Container(
                            // color: ColorConstants.backgroundColor,
                            // margin: EdgeInsets.only(
                            //   top: 10.h,
                            //   bottom: 10.h
                            // ),
                            child: SingleChildScrollView(
                              child: Column(
                                  mainAxisAlignment:
                                  MainAxisAlignment.spaceEvenly,
                                  children: <Widget>[
                                    Container(
                                      child: Stack(
                                        children: [
                                          Container(
                                            margin: EdgeInsets.only(
                                                right: 10.w, left: 10.w),
                                            width: double.infinity,
                                            child: ClipRRect(
                                              borderRadius: BorderRadius.all(
                                                  Radius.circular(15.r)),
                                              child: Image.asset(
                                                  'assets/images/curveimg.png',
                                                  height: 95.h,
                                                  fit: BoxFit.fill),
                                            ),
                                          ),
                                          Row(
                                            children: [
                                              Expanded(
                                                flex: 4,
                                                child: Stack(
                                                  children: [
                                                    Column(children: [
                                                      Container(
                                                        margin: EdgeInsets.only(
                                                            left: 10.w),
                                                        height: 95.0.h,
                                                        width: double.infinity,
                                                        color:
                                                        Colors.transparent,
                                                      ),
                                                      Container(
                                                        margin: EdgeInsets.only(
                                                            left: 10.w),
                                                        height: 50.0.h,
                                                        width: double.infinity,
                                                      ),
                                                    ]),
                                                    Positioned(
                                                      top: 18,
                                                      left: 20,
                                                      child: Container(
                                                          margin:
                                                          EdgeInsets.only(
                                                              left: 5.w,
                                                              right: 5.w),
                                                          width: 115.0.w,
                                                          height: 115.0.h,
                                                          decoration: BoxDecoration(
                                                            color: Colors.white,
                                                            shape: BoxShape
                                                                .circle,
                                                            border: Border.all(
                                                                color: Colors
                                                                    .white,
                                                                width: 4.w),
                                                          ),

                                                          child: Align(
                                                            alignment: Alignment
                                                                .center,
                                                            child:
                                                            Container(
                                                              height: 110.h,
                                                              width: 110.w,
                                                              decoration: new BoxDecoration(
                                                                color: ColorConstants
                                                                    .backgroundColor,
                                                                shape: BoxShape
                                                                    .circle,
                                                              ),
                                                              child: Image
                                                                  .network(
                                                                'user.profileImage',
                                                                fit: BoxFit
                                                                    .fitWidth,
                                                                errorBuilder: (
                                                                    context,
                                                                    error,
                                                                    stackTrace) {
                                                                  return Image
                                                                      .asset(
                                                                      'assets/images/logo.png',
                                                                      height: 100
                                                                          .h,
                                                                      width: 100
                                                                          .w,
                                                                      fit: BoxFit
                                                                          .fitWidth);
                                                                },),
                                                            ),

                                                          )),
                                                    ),
                                                  ],
                                                ),
                                              ),
                                              Expanded(
                                                flex: 6,
                                                child: Column(
                                                    mainAxisAlignment:
                                                    MainAxisAlignment.start,
                                                    crossAxisAlignment:
                                                    CrossAxisAlignment
                                                        .start,
                                                    children: [
                                                      Stack(
                                                        children: [
                                                          Container(
                                                            margin:
                                                            EdgeInsets.only(
                                                                right:
                                                                10.w),
                                                            height: 95.0.h,
                                                            width:
                                                            double.infinity,
                                                            decoration:
                                                            const BoxDecoration(
                                                              color: Colors
                                                                  .transparent,
                                                              borderRadius:
                                                              BorderRadius
                                                                  .only(
                                                                topRight: Radius
                                                                    .circular(
                                                                    15.0),
                                                                bottomRight: Radius
                                                                    .circular(
                                                                    15.0),
                                                              ),
                                                            ),
                                                            child: Container(
                                                              margin: EdgeInsets
                                                                  .only(
                                                                  bottom:
                                                                  10.h),
                                                              child: Column(
                                                                mainAxisAlignment:
                                                                MainAxisAlignment
                                                                    .end,
                                                                crossAxisAlignment:
                                                                CrossAxisAlignment
                                                                    .start,
                                                                children: [
                                                                  SingleChildScrollView(
                                                                    scrollDirection: Axis
                                                                        .horizontal,
                                                                    child: Container(

                                                                      child: Text(
                                                                        'user.name',
                                                                        softWrap: true,
                                                                        maxLines: 2,
                                                                        textScaleFactor:
                                                                        1.0,
                                                                        style:
                                                                        TextStyle(
                                                                          fontFamily:
                                                                          'DMSans-Bold',
                                                                          fontWeight:
                                                                          FontWeight
                                                                              .w400,
                                                                          fontSize:
                                                                          22.sp,
                                                                          color: Colors
                                                                              .white,
                                                                        ),
                                                                      ),
                                                                    ),
                                                                  ),
                                                                  SizedBox(
                                                                      height:
                                                                      5.h),
                                                                  Container(
                                                                    padding: EdgeInsets
                                                                        .only(
                                                                        left:
                                                                        3.w,
                                                                        right:
                                                                        3.w,
                                                                        top:
                                                                        2.h,
                                                                        bottom:
                                                                        1.h),
                                                                    decoration: BoxDecoration(
                                                                        color: Colors
                                                                            .transparent,
                                                                        borderRadius:
                                                                        BorderRadius
                                                                            .circular(
                                                                            4),
                                                                        border: Border
                                                                            .all(
                                                                            color:
                                                                            Colors
                                                                                .white,
                                                                            width: 1)),
                                                                    child: Text(
                                                                      'user.category',
                                                                      textScaleFactor:
                                                                      1.0,
                                                                      style:
                                                                      TextStyle(
                                                                        fontSize:
                                                                        10.sp,
                                                                        color: Colors
                                                                            .white,
                                                                      ),
                                                                    ),
                                                                  ),
                                                                ],
                                                              ),
                                                            ),
                                                          ),
                                                        ],
                                                      ),
                                                      Container(
                                                        alignment:
                                                        Alignment.center,
                                                        height: 50.0.h,
                                                        width: double.infinity,
                                                        child: Row(
                                                          children: [
                                                            Container(
                                                              alignment:
                                                              Alignment
                                                                  .center,
                                                              child: RatingBar
                                                                  .builder(
                                                                initialRating: 3,
                                                                minRating: 1,
                                                                direction: Axis
                                                                    .horizontal,
                                                                allowHalfRating:
                                                                true,
                                                                itemCount: 5,
                                                                itemSize: 22,
                                                                itemPadding: EdgeInsets
                                                                    .symmetric(
                                                                    horizontal:
                                                                    0.0),
                                                                itemBuilder:
                                                                    (context,
                                                                    _) =>
                                                                    Icon(
                                                                      Icons
                                                                          .star_rounded,
                                                                      color: ColorConstants
                                                                          .themeBlue,
                                                                    ),
                                                                onRatingUpdate:
                                                                    (rating) {},
                                                              ),
                                                            ),
                                                            SizedBox(
                                                              width: 5.w,
                                                            ),

                                                          ],
                                                        ),
                                                      ),
                                                    ]),
                                              )
                                            ],
                                          ),
                                        ],
                                      ),
                                    ),
                                    Container(
                                      margin: EdgeInsets.only(
                                          left: 10.w,
                                          right: 10.w,
                                          bottom: 10.h),
                                      child: Column(
                                        children: [
                                          Row(
                                            crossAxisAlignment:
                                            CrossAxisAlignment.center,
                                            children: [
                                              Icon(
                                                Icons.info_outline_rounded,
                                                size: 23.sp,
                                              ),
                                              SizedBox(
                                                width: 3.w,
                                              ),
                                              InkWell(
                                                child: Text(
                                                  "About",
                                                  textScaleFactor: 1.0,
                                                  style:
                                                  TextStyle(fontSize: 20.sp),
                                                ),
                                              )
                                            ],
                                          ),
                                          SizedBox(
                                            height: 5.h,
                                          ),
                                          Container(
                                            height: 60.h,
                                            width: double.infinity,
                                            decoration: BoxDecoration(
                                                color: Colors.white,
                                                borderRadius: BorderRadius
                                                    .circular(
                                                    5.r)),
                                          )
                                        ],
                                      ),
                                    ),
                                    Container(
                                      margin: EdgeInsets.all(10.0),
                                      decoration: BoxDecoration(
                                        color: Colors.white,
                                        borderRadius: BorderRadius.all(
                                          Radius.circular(10.0),
                                        ),
                                      ),
                                      child: Column(
                                        children: [
                                          Container(
                                            height: 40.h,
                                          ),

                                          Container(
                                            height: 410.h,
                                            // padding: EdgeInsets.only(top: 15.h),
                                            decoration: BoxDecoration(
                                              color: Colors.white,
                                              borderRadius: BorderRadius.only(
                                                bottomLeft:
                                                Radius.circular(10.0),
                                                bottomRight:
                                                Radius.circular(10.0),
                                              ),
                                            ),
                                          ),
                                        ],
                                      ),
                                    ),
                                  ]
                              ),
                            ),
                          ),
                        );
                      }

                      return Center(
                        widthFactor: double.infinity,
                        child: SingleChildScrollView(
                            child: Column(
                              children:
                              snapshot.data!
                                  .map((user) =>
                                  Container(
                                    margin: EdgeInsets.only(
                                      top: 10.h,
                                    ),
                                    child: Column(
                                        mainAxisAlignment: MainAxisAlignment
                                            .spaceEvenly,
                                        children: <Widget>[

                                          Container(
                                            child: Stack(
                                              children: [
                                                Container(
                                                  margin:
                                                  EdgeInsets.only(
                                                      right: 10.w, left: 10.w),
                                                  child: ClipRRect(
                                                    borderRadius:
                                                    BorderRadius.all(
                                                        Radius.circular(15.r)),
                                                    child: Image.asset(
                                                        'assets/images/curveimg.png',
                                                        height: 95.h,
                                                        fit: BoxFit.fill),
                                                  ),
                                                  width: double.infinity,
                                                ),
                                                Row(
                                                  children: [
                                                    Expanded(
                                                      flex: 4,
                                                      child: Stack(
                                                        children: [
                                                          Column(children: [
                                                            Container(
                                                              margin: EdgeInsets
                                                                  .only(
                                                                  left: 10.w),
                                                              height: 95.0.h,
                                                              width: double
                                                                  .infinity,
                                                              color: Colors
                                                                  .transparent,
                                                            ),
                                                            Container(
                                                              margin: EdgeInsets
                                                                  .only(
                                                                  left: 10.w),
                                                              height: 50.0.h,
                                                              width: double
                                                                  .infinity,
                                                            ),
                                                          ]),
                                                          Positioned(
                                                            top: 18,
                                                            left: 20,
                                                            child: Stack(
                                                              children: [
                                                                Container(
                                                                    margin: EdgeInsets
                                                                        .only(
                                                                        left: 5
                                                                            .w,
                                                                        right: 5
                                                                            .w),
                                                                    width: 110.0
                                                                        .w,
                                                                    height: 110.0
                                                                        .h,
                                                                    decoration: BoxDecoration(
                                                                      border: Border
                                                                          .all(
                                                                          width: 3,
                                                                          color: Colors
                                                                              .white),
                                                                      color: Colors
                                                                          .white,
                                                                      shape: BoxShape
                                                                          .circle,
                                                                    ),
                                                                    child: (user
                                                                        .profileImage
                                                                        .isNotEmpty)
                                                                        ?

                                                                    ClipRRect(
                                                                        borderRadius: BorderRadius
                                                                            .circular(
                                                                            100),
                                                                        child: (uploadimage ==
                                                                            null)
                                                                            ?
                                                                        Image
                                                                            .network(
                                                                            user
                                                                                .profileImage,
                                                                            fit: BoxFit
                                                                                .cover)
                                                                            :
                                                                        Image
                                                                            .file(
                                                                          uploadimage!,
                                                                          fit: BoxFit
                                                                              .cover,
                                                                        )
                                                                    )
                                                                        :
                                                                    Container(
                                                                      decoration: BoxDecoration(
                                                                        color: ColorConstants
                                                                            .backgroundColor,
                                                                        shape: BoxShape
                                                                            .circle,
                                                                      ),
                                                                      child: Image
                                                                          .asset(
                                                                          'assets/images/logo.png',
                                                                          height: 100
                                                                              .h,
                                                                          width: 100
                                                                              .w,
                                                                          fit: BoxFit
                                                                              .fitWidth),
                                                                    )
                                                                ),

                                                                Positioned.fill(
                                                                  // top: 30,
                                                                  //   left: 20,
                                                                    child: Align(
                                                                        alignment: Alignment
                                                                            .center,
                                                                        child: InkWell(
                                                                          onTap: () async {
                                                                            Permission.storage.request();
                                                                            if (await Permission
                                                                                .storage
                                                                                .isGranted) {

                                                                                 if(!mounted) return;
                                                                              showModalBottomSheet(
                                                                                  shape: const RoundedRectangleBorder(
                                                                                    borderRadius: BorderRadius
                                                                                        .vertical(
                                                                                      top: Radius
                                                                                          .circular(
                                                                                          20),
                                                                                    ),
                                                                                  ),
                                                                                  context: context,
                                                                                  builder: (
                                                                                      context) {
                                                                                    return StatefulBuilder(
                                                                                        builder: (
                                                                                            context,
                                                                                            StateSetter setState) {
                                                                                          return
                                                                                            Column(
                                                                                              mainAxisSize: MainAxisSize
                                                                                                  .min,
                                                                                              children: <
                                                                                                  Widget>[
                                                                                                Container(
                                                                                                    padding: const EdgeInsets
                                                                                                        .all(
                                                                                                        6),
                                                                                                    // margin: EdgeInsets.only(top: 10.h,bottom: 5.h),
                                                                                                    child: Image
                                                                                                        .asset(
                                                                                                      'assets/images/minus.png',
                                                                                                      fit: BoxFit
                                                                                                          .fitWidth,
                                                                                                      color: Colors
                                                                                                          .grey,
                                                                                                      height: 4
                                                                                                          .h,
                                                                                                      width: 28
                                                                                                          .w,)
                                                                                                ),
                                                                                                SizedBox(
                                                                                                  height: 10
                                                                                                      .h,),
                                                                                                Container(
                                                                                                  margin: EdgeInsets
                                                                                                      .symmetric(
                                                                                                      horizontal: 20
                                                                                                          .w),
                                                                                                  child: Row(
                                                                                                    mainAxisAlignment: MainAxisAlignment
                                                                                                        .spaceBetween,
                                                                                                    crossAxisAlignment: CrossAxisAlignment
                                                                                                        .center,
                                                                                                    children: [
                                                                                                      Text(
                                                                                                        'Add Profile',
                                                                                                        style: TextStyle(
                                                                                                            fontSize: 20
                                                                                                                .sp),),
                                                                                                      InkWell(
                                                                                                        onTap: () {
                                                                                                          Navigator
                                                                                                              .of(
                                                                                                              context)
                                                                                                              .pop();
                                                                                                        },
                                                                                                        child: Container(
                                                                                                          decoration: BoxDecoration(
                                                                                                              border: Border
                                                                                                                  .all(
                                                                                                                  color: Colors
                                                                                                                      .grey),
                                                                                                              shape: BoxShape
                                                                                                                  .circle
                                                                                                          ),
                                                                                                          child: Transform
                                                                                                              .rotate(
                                                                                                              angle: 45 *
                                                                                                                  math
                                                                                                                      .pi /
                                                                                                                  180,
                                                                                                              child: const Icon(
                                                                                                                Icons
                                                                                                                    .add,
                                                                                                                color: Colors
                                                                                                                    .grey,)),
                                                                                                        ),
                                                                                                      )
                                                                                                    ],),
                                                                                                ),
                                                                                                SizedBox(
                                                                                                  height: 30
                                                                                                      .h,),
                                                                                                Row(
                                                                                                  mainAxisAlignment: MainAxisAlignment
                                                                                                      .spaceEvenly,
                                                                                                  children: [
                                                                                                    InkWell(
                                                                                                      onTap: () {
                                                                                                        chooseImageCamera(
                                                                                                            context);
                                                                                                      },
                                                                                                      child: Column(
                                                                                                        children: [
                                                                                                          Container(
                                                                                                            padding: const EdgeInsets
                                                                                                                .all(
                                                                                                                12),
                                                                                                            decoration: BoxDecoration(
                                                                                                                border: Border
                                                                                                                    .all(
                                                                                                                    color: ColorConstants
                                                                                                                        .dividerGrey),
                                                                                                                shape: BoxShape
                                                                                                                    .circle
                                                                                                            ),
                                                                                                            child: Image
                                                                                                                .asset(
                                                                                                              'assets/images/camera.png',
                                                                                                              height: 25
                                                                                                                  .h,
                                                                                                              width: 25
                                                                                                                  .w,),
                                                                                                          ),
                                                                                                          SizedBox(
                                                                                                            height: 5
                                                                                                                .h,),
                                                                                                          const Text(
                                                                                                              'Camera')
                                                                                                        ],
                                                                                                      ),
                                                                                                    ),
                                                                                                    InkWell(
                                                                                                      onTap: () {
                                                                                                        chooseImage(
                                                                                                            context);
                                                                                                      },
                                                                                                      child: Column(
                                                                                                        children: [
                                                                                                          Container(
                                                                                                            padding: const EdgeInsets
                                                                                                                .all(
                                                                                                                12),
                                                                                                            decoration: BoxDecoration(
                                                                                                                border: Border
                                                                                                                    .all(
                                                                                                                    color: ColorConstants
                                                                                                                        .dividerGrey),
                                                                                                                shape: BoxShape
                                                                                                                    .circle
                                                                                                            ),
                                                                                                            child: Image
                                                                                                                .asset(
                                                                                                              'assets/images/gallery.png',
                                                                                                              height: 25
                                                                                                                  .h,
                                                                                                              width: 25
                                                                                                                  .w,),
                                                                                                          ),
                                                                                                          SizedBox(
                                                                                                            height: 5
                                                                                                                .h,),
                                                                                                        const  Text(
                                                                                                              'Gallery')
                                                                                                        ],
                                                                                                      ),
                                                                                                    ),
                                                                                                    InkWell(
                                                                                                      onTap: () {
                                                                                                        removeImage();
                                                                                                      },
                                                                                                      child: Column(
                                                                                                        children: [
                                                                                                          Container(
                                                                                                            padding: EdgeInsets
                                                                                                                .all(
                                                                                                                12),
                                                                                                            decoration: BoxDecoration(
                                                                                                                border: Border
                                                                                                                    .all(
                                                                                                                    color: ColorConstants
                                                                                                                        .dividerGrey),
                                                                                                                shape: BoxShape
                                                                                                                    .circle
                                                                                                            ),
                                                                                                            child: Image
                                                                                                                .asset(
                                                                                                              'assets/images/delete.png',
                                                                                                              height: 25
                                                                                                                  .h,
                                                                                                              width: 25
                                                                                                                  .w,),
                                                                                                          ),
                                                                                                          SizedBox(
                                                                                                            height: 5
                                                                                                                .h,),
                                                                                                          Text(
                                                                                                              'Delete')
                                                                                                        ],
                                                                                                      ),
                                                                                                    )
                                                                                                  ],),
                                                                                                SizedBox(
                                                                                                  height: 40
                                                                                                      .h,),


                                                                                              ],
                                                                                            );
                                                                                        }
                                                                                    );
                                                                                  });
                                                                              // showCupertinoModalPopup(
                                                                              //   context: context,
                                                                              //   builder: (context) => CupertinoActionSheet(
                                                                              //     actions: [
                                                                              //       CupertinoActionSheetAction(
                                                                              //         child: Text('Photo Gallery'),
                                                                              //         onPressed: () {
                                                                              //           // close the options modal
                                                                              //           Navigator.of(context).pop();
                                                                              //           // get image from gallery
                                                                              //           chooseImage(
                                                                              //               context);
                                                                              //         },
                                                                              //       ),
                                                                              //       CupertinoActionSheetAction(
                                                                              //         child: Text('Camera'),
                                                                              //         onPressed: () {
                                                                              //           // close the options modal
                                                                              //           Navigator.of(context).pop();
                                                                              //           // get image from camera
                                                                              //           chooseImageCamera(
                                                                              //               context);
                                                                              //         },
                                                                              //       ),
                                                                              //     ],
                                                                              //   ),
                                                                              // );
                                                                            }
                                                                            _selectPhotos();
                                                                          },
                                                                          child: Container(

                                                                              padding: EdgeInsets
                                                                                  .only(
                                                                                  right: 20
                                                                                      .w,
                                                                                  top: 20
                                                                                      .h,
                                                                                  bottom: 20
                                                                                      .h,
                                                                                  left: 20
                                                                                      .w),
                                                                              margin: EdgeInsets
                                                                                  .only(
                                                                                  right: 5
                                                                                      .w,
                                                                                  left: 5
                                                                                      .w),
                                                                              decoration: BoxDecoration(
                                                                                shape: BoxShape
                                                                                    .circle,
                                                                                // borderRadius: BorderRadius.only(bottomRight: Radius.circular(100),bottomLeft:Radius.circular(100) ),
                                                                                color: Colors
                                                                                    .black
                                                                                    .withOpacity(
                                                                                    0.5),
                                                                              ),
                                                                              child: Icon(
                                                                                Icons
                                                                                    .camera_enhance_rounded,
                                                                                color: Colors
                                                                                    .white,)),
                                                                        ))),
                                                              ],
                                                            ),
                                                          ),
                                                        ],
                                                      ),
                                                    ),
                                                    Expanded(
                                                      flex: 6,
                                                      child: Column(
                                                          mainAxisAlignment:
                                                          MainAxisAlignment
                                                              .start,
                                                          crossAxisAlignment:
                                                          CrossAxisAlignment
                                                              .start,
                                                          children: [
                                                            Stack(
                                                              children: [
                                                                Container(
                                                                  margin: EdgeInsets
                                                                      .only(
                                                                      right: 10
                                                                          .w),
                                                                  height: 95.0
                                                                      .h,
                                                                  width: double
                                                                      .infinity,
                                                                  decoration: BoxDecoration(
                                                                    color: Colors
                                                                        .transparent,
                                                                    borderRadius:
                                                                    BorderRadius
                                                                        .only(
                                                                      topRight:
                                                                      Radius
                                                                          .circular(
                                                                          15.0),
                                                                      bottomRight:
                                                                      Radius
                                                                          .circular(
                                                                          15.0),
                                                                    ),
                                                                  ),
                                                                  child: Container(
                                                                    margin: EdgeInsets
                                                                        .only(
                                                                        bottom: 10
                                                                            .h),
                                                                    child: Column(
                                                                      mainAxisAlignment:
                                                                      MainAxisAlignment
                                                                          .end,
                                                                      crossAxisAlignment:
                                                                      CrossAxisAlignment
                                                                          .start,
                                                                      children: [
                                                                        Container(
                                                                          width: 210
                                                                              .w,
                                                                          child: Text(
                                                                            user
                                                                                .name,
                                                                            overflow: TextOverflow
                                                                                .ellipsis,
                                                                            softWrap: true,
                                                                            textScaleFactor:
                                                                            1.0,
                                                                            style:
                                                                            TextStyle(
                                                                              fontFamily:
                                                                              'DMSans-Bold',
                                                                              fontWeight:
                                                                              FontWeight
                                                                                  .w400,
                                                                              fontSize:
                                                                              22
                                                                                  .sp,
                                                                              color: Colors
                                                                                  .white,
                                                                            ),
                                                                          ),
                                                                        ),
                                                                        SizedBox(
                                                                            height: 5
                                                                                .h),
                                                                        Container(
                                                                          padding:
                                                                          EdgeInsets
                                                                              .only(
                                                                              left: 3
                                                                                  .w,
                                                                              right: 3
                                                                                  .w,
                                                                              top: 2
                                                                                  .h,
                                                                              bottom: 1
                                                                                  .h),
                                                                          decoration: BoxDecoration(
                                                                              color: Colors
                                                                                  .transparent,
                                                                              borderRadius:
                                                                              BorderRadius
                                                                                  .circular(
                                                                                  4),
                                                                              border: Border
                                                                                  .all(
                                                                                  color: Colors
                                                                                      .white,
                                                                                  width: 1)),
                                                                          child: Text(
                                                                            user
                                                                                .category,
                                                                            textScaleFactor: 1.0,
                                                                            style: TextStyle(
                                                                              fontSize: 10
                                                                                  .sp,
                                                                              color: Colors
                                                                                  .white,
                                                                            ),
                                                                          ),
                                                                        ),
                                                                      ],
                                                                    ),
                                                                  ),
                                                                ),
                                                              ],
                                                            ),
                                                            Container(
                                                              alignment: Alignment
                                                                  .topCenter,
                                                              height: 50.0.h,
                                                              width: double
                                                                  .infinity,
                                                              child: Container(
                                                                margin: EdgeInsets
                                                                    .only(
                                                                    top: 5.h),
                                                                child: Row(
                                                                  children: [
                                                                    Container(
                                                                      child: RatingBar
                                                                          .builder(
                                                                        initialRating:
                                                                        (user
                                                                            .average_rating
                                                                            .toString() ==
                                                                            'null')
                                                                            ? 0.0
                                                                            : double
                                                                            .parse(
                                                                            user
                                                                                .average_rating),
                                                                        ignoreGestures: true,
                                                                        minRating: 0,
                                                                        direction:
                                                                        Axis
                                                                            .horizontal,
                                                                        allowHalfRating: true,
                                                                        itemCount: 5,
                                                                        itemSize: 22,
                                                                        itemPadding:
                                                                        EdgeInsets
                                                                            .symmetric(
                                                                            horizontal: 0.0),
                                                                        itemBuilder:
                                                                            (
                                                                            context,
                                                                            _) =>
                                                                            Icon(
                                                                              Icons
                                                                                  .star_rounded,
                                                                              color: ColorConstants
                                                                                  .themeBlue,
                                                                            ),
                                                                        onRatingUpdate:
                                                                            (
                                                                            rating) {},
                                                                      ),
                                                                    ),
                                                                    SizedBox(
                                                                      width: 5
                                                                          .w,
                                                                    ),
                                                                    Container(
                                                                        padding: EdgeInsets
                                                                            .only(
                                                                            top: 1
                                                                                .h,
                                                                            bottom: 1
                                                                                .h,
                                                                            left: 4
                                                                                .w,
                                                                            right: 5
                                                                                .w),
                                                                        child: Row(
                                                                          crossAxisAlignment:
                                                                          CrossAxisAlignment
                                                                              .center,
                                                                          mainAxisAlignment:
                                                                          MainAxisAlignment
                                                                              .start,
                                                                          children: [
                                                                            Icon(
                                                                              Icons
                                                                                  .star_rounded,
                                                                              color: Colors
                                                                                  .white,
                                                                              size: 15,
                                                                            ),
                                                                            SizedBox(
                                                                              width: 1
                                                                                  .w,
                                                                            ),
                                                                            Container(
                                                                                margin: EdgeInsets
                                                                                    .only(
                                                                                    top: 1),
                                                                                child: Text(

                                                                                  (user
                                                                                      .average_rating
                                                                                      .toString() ==
                                                                                      'null')
                                                                                      ? '0'
                                                                                      : double
                                                                                      .parse(
                                                                                      user
                                                                                          .average_rating)
                                                                                      .toStringAsFixed(
                                                                                      1),
                                                                                  style: TextStyle(
                                                                                      color: Colors
                                                                                          .white,
                                                                                      fontWeight:
                                                                                      FontWeight
                                                                                          .bold),
                                                                                ))
                                                                          ],
                                                                        ),
                                                                        decoration: BoxDecoration(
                                                                          color: ColorConstants
                                                                              .themeBlue,
                                                                          borderRadius:
                                                                          BorderRadius
                                                                              .circular(
                                                                              2
                                                                                  .r),
                                                                        )),
                                                                  ],
                                                                ),
                                                              ),
                                                            ),
                                                          ]),
                                                    )
                                                  ],
                                                ),
                                              ],
                                            ),
                                          ),


                                          Container(
                                            margin: EdgeInsets.only(
                                                left: 10.w,
                                                right: 10.w,
                                                bottom: 10.h),
                                            padding: EdgeInsets.only(
                                                top: 10.h,
                                                bottom: 10.h),
                                            decoration: BoxDecoration(
                                                color: Colors.white,
                                                borderRadius: BorderRadius
                                                    .circular(
                                                    10)
                                            ),
                                            child: Column(
                                              mainAxisAlignment: MainAxisAlignment
                                                  .start,
                                              crossAxisAlignment: CrossAxisAlignment
                                                  .start,
                                              children: [

                                                // detail section
                                                Row(
                                                  crossAxisAlignment: CrossAxisAlignment
                                                      .center,
                                                  children: [
                                                    Icon(
                                                      Icons
                                                          .info_outline_rounded,
                                                      size: 23.sp,
                                                    ),
                                                    SizedBox(
                                                      width: 3.w,
                                                    ),
                                                    Text(
                                                      "Details",
                                                      textScaleFactor: 1.0,
                                                      style: TextStyle(
                                                          fontSize: 20.sp),
                                                    )
                                                  ],
                                                ),

                                                Container(
                                                  width: double.infinity,
                                                  margin: const EdgeInsets.only(
                                                    top: 10,),
                                                  // padding: EdgeInsets.all(15),
                                                  child: TextFormField(
                                                    controller: aboutController
                                                      ..text = user.description,
                                                    maxLines: 5,
                                                    minLines: 1,
                                                    // obscureText: true,
                                                    validator: (value) {
                                                      if (value!.isEmpty) {
                                                        return "Describe yourself";
                                                      } else
                                                      if (value.length <= 50) {
                                                        return "Describe yourself in greater than 50 words";
                                                      } else
                                                        return null;
                                                    },
                                                    decoration: InputDecoration(
                                                        filled: true,
                                                        fillColor: Colors.white,
                                                        border: OutlineInputBorder(
                                                            borderSide: BorderSide
                                                                .none,
                                                            borderRadius: BorderRadius
                                                                .circular(10)
                                                        ),

                                                        hintText: 'About me',
                                                        suffixIcon: const Icon(
                                                            Icons.edit_rounded)
                                                    ),
                                                  ),
                                                ),
                                                Container(
                                                  width: double.infinity,
                                                  margin: const EdgeInsets.only(
                                                    top: 15,),
                                                    child: Column(
                                                      children: [

                                                        TextFormField(

                                                        scrollPadding:EdgeInsets.only(bottom:MediaQuery.of(context).viewInsets.bottom),
                                                       // onTap: () => FocusScope.of(context).unfocus(),
                                                        textInputAction:TextInputAction.next,

                                                        showCursor: true,
                                                        autofocus:  false,
                                                        initialValue: user.email,
                                                        // obscureText: true,
                                                        validator: (value){
                                                          if (value!.isEmpty){
                                                            return "Enter a valid email address";
                                                           } else if (!RegExp(
                                                              r'\S+@\S+\.\S+')
                                                              .hasMatch(value)){
                                                            return "Enter a valid email address";
                                                          } else
                                                            return null;
                                                        },
                                                          decoration: InputDecoration(
                                                        //  filled: true,
                                                          fillColor: Colors.white,
                                                      //    label: const Text("Email"),
                                                          labelStyle: TextStyle(fontSize: 20.sp, fontWeight: FontWeight.bold),
                                                          border: OutlineInputBorder(
                                                                  borderSide: BorderSide.none,
                                                                  borderRadius: BorderRadius.circular(10)
                                                            ),
                                                            hintText:'Email Id',
                                                          ),
                                                        ),
                                                      ],
                                                    ),

                                                ),
                                                Container(
                                                  width: double.infinity,
                                                  margin: const EdgeInsets.only(top: 15,),
                                                  decoration: BoxDecoration(
                                                      color: Colors.white,
                                                      borderRadius: BorderRadius.circular(10),),
                                                  child: Column(
                                                    children:[
                                                      TextFormField(
                                                        scrollPadding:EdgeInsets.only(bottom:MediaQuery.of(context).viewInsets.bottom),
                                                        controller: phoneController..text = user.mobile,
                                                        validator: (value){
                                                            if (value!.isEmpty){
                                                            return "Enter your phone number";
                                                          }
                                                          else
                                                          if (value.length < 10 ||value.length > 10) {
                                                            return "Enter a valid phone number";
                                                          } else
                                                            return null;
                                                        },
                                                        decoration: InputDecoration(

                                                          filled: true,
                                                          fillColor: Colors
                                                              .white,
                                                          border: OutlineInputBorder(
                                                              borderSide: BorderSide
                                                                  .none,
                                                              borderRadius: BorderRadius
                                                                  .circular(10)
                                                          ),


                                                          hintText: 'Enter your phone',
                                                          suffixIcon: const Icon(
                                                              Icons
                                                                  .edit_rounded),
                                                        ),
                                                      ),
                                                      Row(
                                                        mainAxisAlignment: MainAxisAlignment
                                                            .spaceEvenly,
                                                        children: [
                                                          Expanded(
                                                            flex: 1,
                                                            child: RadioListTile(
                                                              contentPadding: const EdgeInsets
                                                                  .symmetric(
                                                                  vertical:
                                                                  0),
                                                              activeColor: ColorConstants
                                                                  .themeBlue,
                                                              dense: true,
                                                              title: const Text(
                                                                  "Public"),
                                                              value: "public",
                                                              groupValue: user
                                                                  .phonestatus,
                                                              onChanged: (
                                                                  value) {
                                                                setState(() {
                                                                  showLoading =
                                                                  true;
                                                                  numberVisibility =
                                                                      value
                                                                          .toString();
                                                                  numberStatus();
                                                                });
                                                              },
                                                            ),
                                                          ),

                                                          Expanded(
                                                            flex: 1,
                                                            child: RadioListTile(
                                                              contentPadding: const EdgeInsets
                                                                  .symmetric(
                                                                  vertical:
                                                                  0),
                                                              dense: true,
                                                              activeColor: ColorConstants
                                                                  .themeBlue,

                                                              title: const Text(
                                                                  "Private"),
                                                              value: "private",
                                                              groupValue: user
                                                                  .phonestatus,
                                                              onChanged: (
                                                                  value) {
                                                                setState(() {
                                                                  showLoading =
                                                                  true;
                                                                  numberVisibility =
                                                                      value
                                                                          .toString();
                                                                  numberStatus();
                                                                });
                                                              },
                                                            ),
                                                          ),
                                                        ],),

                                                    ],
                                                  ),
                                                ),
                                                Container(
                                                  width: double.infinity,
                                                  margin: const EdgeInsets.only(
                                                    top: 15,),
                                                  child: TextField(
                                                    controller: dobController
                                                      ..text = user.dob,
                                                    decoration: InputDecoration(
                                                        filled: true,
                                                        //<-- SEE HERE
                                                        fillColor: Colors.white,
                                                        border: OutlineInputBorder(
                                                            borderSide: BorderSide
                                                                .none,
                                                            borderRadius: BorderRadius
                                                                .circular(10)
                                                        ),

                                                        labelText: 'Enter D.O.B',

                                                        labelStyle: TextStyle(
                                                          fontSize: 20.sp,
                                                        ),
                                                        hintText: 'Enter D.O.B',
                                                        suffixIcon: Icon(Icons
                                                            .calendar_month_rounded)
                                                    ),

                                                    readOnly: true,
                                                    onTap: () async {
                                                      DateTime? pickedDate = await showDatePicker(
                                                          context: context,
                                                          initialDate: DateTime
                                                              .now(),
                                                          firstDate: DateTime(
                                                              1950),
                                                          //DateTime.now() - not to allow to choose before today.
                                                          lastDate: DateTime(
                                                              2101)
                                                      );

                                                      if (pickedDate != null) {
                                                        String formattedDate = DateFormat(
                                                            'dd-MM-yyyy')
                                                            .format(
                                                            pickedDate);

                                                        // setState(() {
                                                        dobController.text =
                                                            formattedDate
                                                                .toString(); //set output date to TextField value.
                                                        // });
                                                      } else {
                                                        print(
                                                            "Date is not selected");
                                                      }
                                                    },
                                                  ),
                                                ),
                                                Row(
                                                  children: [
                                                    Expanded(
                                                      child: Container(
                                                        width: double.infinity,
                                                        margin: const EdgeInsets
                                                            .only(
                                                          top: 15,),
                                                        // padding: EdgeInsets.all(15),
                                                        child: TextFormField(
                                                          controller: totalExperienceController
                                                            ..text = user
                                                                .totalExperience,
                                                          showCursor: true,
                                                          // controller: addressController,
                                                          validator: (value) {
                                                            if (value!
                                                                .isEmpty) {
                                                              return "Enter your Total Experience";
                                                            }
                                                            // else if (value.length < 20) {
                                                            //   return "Address must have 20 characters";
                                                            // }
                                                            else
                                                              return null;
                                                          },
                                                          decoration: InputDecoration(
                                                              filled: true,
                                                              //<-- SEE HERE
                                                              fillColor: Colors
                                                                  .white,
                                                              border: OutlineInputBorder(
                                                                  borderSide: BorderSide
                                                                      .none,
                                                                  borderRadius: BorderRadius
                                                                      .circular(
                                                                      10)
                                                              ),

                                                              labelText: 'Total Experience',

                                                              labelStyle: TextStyle(
                                                                  fontSize: 20
                                                                      .sp),
                                                              hintText: 'Total Experience',
                                                              hintStyle: const TextStyle(),
                                                              suffixIcon: const Icon(
                                                                  Icons.edit_rounded)
                                                          ),
                                                        ),
                                                      ),
                                                    ),
                                                    SizedBox(width: 5.w,),
                                                    Expanded(
                                                      child: Container(
                                                        width: double.infinity,
                                                        margin: const EdgeInsets.only(
                                                          top: 15,),
                                                        // padding: EdgeInsets.all(15),
                                                        child: TextFormField(
                                                          controller: minimumChargesController
                                                            ..text = user.minimumCharges,
                                                          showCursor: true,
                                                          // controller: addressController,
                                                          validator: (value) {
                                                            if (value!
                                                                .isEmpty) {
                                                              return "Enter your Minimum charges";
                                                            }
                                                            // else if (value.length < 20) {
                                                            //   return "Address must have 20 characters";
                                                            // }
                                                            else
                                                              return null;
                                                          },
                                                          decoration: InputDecoration(
                                                              filled: true,
                                                              fillColor: Colors.white,
                                                              border: OutlineInputBorder(
                                                                  borderSide: BorderSide
                                                                      .none,
                                                                  borderRadius: BorderRadius
                                                                      .circular(
                                                                      10)
                                                              ),

                                                                labelText: 'Minimum charges',
                                                                labelStyle: TextStyle(
                                                                fontSize: 20.sp,),
                                                                hintText: 'Minimum charges',
                                                                suffixIcon: const Icon(
                                                                  Icons.edit_rounded)
                                                          ),
                                                        ),
                                                      ),
                                                    ),
                                                  ],),
                                                Container(
                                                  margin: EdgeInsets.only(
                                                      right: 20.w, left: 20.w),
                                                      width: double.infinity,
                                                  // alignment: Alignment.bottomLeft,
                                                  child: TextButton(
                                                    onPressed: () async {
                                                      // if (uploadimage != null) {
                                                      //   uploadImage();
                                                      // } else {
                                                      // if (_formKey.currentState!.validate()) {
                                                      setState((){
                                                        hideProgress = true;
                                                      });

                                                      updateDetails(
                                                        // aboutController.text.toString(),
                                                        // phoneController.text.toString(),
                                                        // dobController.text.toString(),
                                                        // totalExperienceController.text.toString(),
                                                        // minimumChargesController.text.toString()
                                                      );
                                                      // }
                                                      // }
                                                      // if (_formKey.currentState!.validate()) {
                                                      //   setState(() {
                                                      //
                                                      //   });
                                                      //
                                                      //
                                                      //   ScaffoldMessenger.of(context).showSnackBar(
                                                      //       SnackBar(
                                                      //           content: Text(
                                                      //               "Data is in processing.")));
                                                      // }
                                                    },
                                                    style: TextButton.styleFrom(
                                                      foregroundColor: Colors
                                                          .white,
                                                      splashFactory: NoSplash
                                                          .splashFactory,
                                                      backgroundColor: ColorConstants
                                                          .themeBlue, //
                                                      // padding: const EdgeInsets.only(top: 10, bottom: 10),
                                                    ),
                                                    child: Text("Save Details",
                                                        style: TextStyle(
                                                            fontSize: 20.sp)),
                                                  ),
                                                ),


                                              ],
                                            ),
                                          ),
                                          SizedBox(height: 10.h,),

                                          Container(
                                            margin: EdgeInsets.only(
                                                left: 10.w,
                                                right: 10.w,
                                                bottom: 10.h),
                                            padding: EdgeInsets.only(
                                                top: 10.h,
                                                bottom: 10.h),
                                            decoration: BoxDecoration(
                                                color: Colors.white,
                                                borderRadius: BorderRadius
                                                    .circular(
                                                    10)
                                            ),
                                            child: Column(
                                              mainAxisAlignment: MainAxisAlignment
                                                  .start,
                                              crossAxisAlignment: CrossAxisAlignment
                                                  .start,
                                              children:[
                                                Container(
                                               width: double.infinity,
                                               margin: const EdgeInsets.only(
                                                 top: 15,),

                                               child:TextFormField(
                                                 textInputAction:TextInputAction.next,
                                                     scrollPadding:  EdgeInsets.only(
                                                         bottom: MediaQuery.of(context).viewInsets.bottom),
                                                           showCursor: true,
                                                           controller: addressController
                                                          ..text = user.address,
                                                         validator: (value) {
                                                         if (value!.isEmpty) {
                                                           return "Enter your Address";
                                                         }
                                                         else if (value.length < 20) {
                                                           return "Address must have 20 characters";
                                                         } else
                                                           return null;
                                                       },
                                                       decoration: InputDecoration(
                                                         filled: true,
                                                         fillColor: Colors.white,
                                                         border: OutlineInputBorder(
                                                           borderSide: BorderSide
                                                               .none,
                                                           borderRadius: BorderRadius
                                                               .circular(10),),

                                                         labelText: 'Address',
                                                         labelStyle: TextStyle(
                                                           fontSize: 20.sp,
                                                         ),
                                                         hintText: '',
                                                         suffixIcon: const Icon(
                                                             Icons.edit_rounded),),
                                                     ),
                                              ),
                                                Container(
                                                  width: double.infinity,
                                                  margin: const EdgeInsets.only(
                                                    top: 15,),
                                                  child: TextFormField(
                                                    scrollPadding: EdgeInsets.only(
                                                        bottom: MediaQuery.of(context).viewInsets.bottom),
                                                    showCursor: true,
                                                    controller: pincodeController
                                                      ..text = user.pincode,
                                                    validator: (value) {
                                                      if (value!.isEmpty) {
                                                        return "Enter your Pincode";
                                                      } else
                                                      if (value.length < 6 &&
                                                          value.length > 6) {
                                                        return "Pincode must have 6 numbers";
                                                      } else
                                                        return null;
                                                    },
                                                    onChanged: (value) {

                                                    },
                                                    decoration: InputDecoration(
                                                        filled: true,
                                                        fillColor: Colors.white,
                                                        border: OutlineInputBorder(
                                                            borderSide: BorderSide
                                                                .none,
                                                            borderRadius: BorderRadius
                                                                .circular(10)
                                                        ),
                                                        labelText: 'Pincode',
                                                        labelStyle: TextStyle(
                                                          fontSize: 20.sp,),
                                                        hintText: '',
                                                        suffixIcon: Icon(
                                                            Icons.edit_rounded)

                                                    ),
                                                  ),
                                                ),
                                                SizedBox(height: 15.h,),
                                                DropdownSearch<String>(
                                                  popupProps: const PopupProps
                                                      .menu(
                                                    showSelectedItems: true,
                                                    showSearchBox: true,
                                                    searchFieldProps: TextFieldProps(
                                                        decoration: InputDecoration(
                                                          hintText: "Search Item",
                                                        )
                                                    ),
                                                  ),
                                                  items: countryData.map((e) =>
                                                      e['countryName']
                                                          .toString()).toList(),

                                                  onChanged: (newVal) {
                                                    setState(() {
                                                      print(
                                                          'hgcg $countryDropdown');
                                                      countryDropdown = newVal;
                                                      // var id = countryData.map((e) => e['countryName']
                                                      //     .toString()).toList().where((e) => e['countryId'].toString());
                                                      print('hgcg $id');
                                                      stateTextChange = true;
                                                      getState(countryDropdown
                                                          .toString());
                                                    });
                                                  },
                                                  selectedItem: user.country,
                                                  dropdownDecoratorProps: const DropDownDecoratorProps(
                                                      dropdownSearchDecoration: InputDecoration(
                                                        contentPadding: EdgeInsets
                                                            .only(left: 20),
                                                        border: InputBorder
                                                            .none,
                                                        iconColor: Colors.red,


                                                      )
                                                  ),
                                                ),

                                                SizedBox(height: 15.h,),
                                                Container(
                                                  padding: const EdgeInsets
                                                      .only(
                                                      top: 5.0,
                                                      bottom: 5.0,
                                                      left: 0,
                                                      right: 10),
                                                  decoration: BoxDecoration(
                                                      color: Colors.white,
                                                      borderRadius: BorderRadius
                                                          .circular(10)
                                                  ),
                                                  child: DropdownButton2(
                                                    dropdownStyleData: DropdownStyleData(
                                                        useSafeArea: false,
                                                        offset: Offset(5, -10),
                                                        maxHeight: 300.h,
                                                        scrollbarTheme: ScrollbarThemeData(
                                                            thumbVisibility: MaterialStateProperty
                                                                .all(true)),
                                                        decoration: BoxDecoration(
                                                            borderRadius: BorderRadius
                                                                .circular(10))
                                                    ),
                                                    underline: Container(),
                                                    isExpanded: true,
                                                    // value: ,
                                                    style: const TextStyle(
                                                        color: Colors.black54,
                                                        fontSize: 15),
                                                    hint: (stateTextChange ==
                                                        true)
                                                        ? Text('Select State')
                                                        : Text(
                                                      (user.state_name == null)
                                                          ?
                                                      "Select state"
                                                          : user
                                                          .state_name,
                                                      style: TextStyle(
                                                        color: Colors.grey
                                                            .shade600,
                                                        fontSize: 15,
                                                      ),
                                                    ),
                                                    items: stateData.map((
                                                        item) {
                                                      return DropdownMenuItem(
                                                        value: item['stateId']
                                                            .toString(),
                                                        child: Text(
                                                            item['stateName']
                                                                .toString()),
                                                      );
                                                    }).toList(),

                                                    onChanged: (newVal) {
                                                      setState(() {
                                                        stateDropdown = newVal;
                                                        getCity(newVal
                                                            .toString());
                                                      });
                                                    },
                                                    value: stateDropdown,
                                                  ),
                                                ),
                                                SizedBox(height: 15.h,),
                                                Container(
                                                  padding: const EdgeInsets
                                                      .only(
                                                      top: 5.0,
                                                      bottom: 5.0,
                                                      left: 0,
                                                      right: 10),
                                                  decoration: BoxDecoration(

                                                      color: Colors.white,
                                                      borderRadius: BorderRadius
                                                          .circular(10)
                                                  ),
                                                  child: DropdownButton2(
                                                    dropdownStyleData: DropdownStyleData(
                                                        useSafeArea: false,
                                                        offset: Offset(5, -10),
                                                        maxHeight: 300.h,
                                                        scrollbarTheme: ScrollbarThemeData(
                                                            thumbVisibility: MaterialStateProperty
                                                                .all(true)),
                                                        decoration: BoxDecoration(
                                                            borderRadius: BorderRadius
                                                                .circular(10))
                                                    ),
                                                    underline: Container(),
                                                    isExpanded: true,
                                                    // value: awardType,
                                                    style: TextStyle(
                                                        color: Colors.black54,
                                                        fontSize: 15),
                                                    hint: (stateTextChange ==
                                                        true)
                                                        ? Text('Select City')
                                                        : Text(
                                                      (user.city_name == null) ?
                                                      "Select city" : user
                                                          .city_name,
                                                      style: TextStyle(
                                                        color: Colors.grey
                                                            .shade600,
                                                        fontSize: 15,
                                                      ),
                                                    ),
                                                    items: cityData.map((item) {
                                                      return DropdownMenuItem(
                                                        value: item['cityId']
                                                            .toString(),
                                                        child: Text(
                                                            item['cityName']
                                                                .toString()),
                                                      );
                                                    }).toList(),

                                                    onChanged: (newVal) {
                                                      setState(() {
                                                        cityDropdown = newVal;
                                                      });
                                                    },
                                                    value: cityDropdown,
                                                  ),
                                                ),
                                                Container(

                                                  margin: EdgeInsets.only(
                                                      right: 20.w, left: 20.w),
                                                  width: double.infinity,
                                                  // alignment: Alignment.bottomLeft,
                                                  child: TextButton(
                                                    onPressed: () async {
                                                      saveAddress();
                                                    },
                                                    style: TextButton.styleFrom(
                                                      foregroundColor: Colors
                                                          .white,
                                                      splashFactory: NoSplash
                                                          .splashFactory,
                                                      backgroundColor: ColorConstants
                                                          .themeBlue, //
                                                      // padding: const EdgeInsets.only(top: 10, bottom: 10),
                                                    ),
                                                    child: Text("Save address",
                                                        style: TextStyle(
                                                            fontSize: 20.sp)),
                                                  ),
                                                ),

                                              ],
                                            ),
                                          ),


                                          Container(
                                            margin: EdgeInsets.all(10.0),
                                            decoration: BoxDecoration(
                                              color: Colors.white,
                                              borderRadius: BorderRadius.all(
                                                Radius.circular(10.0),
                                              ),
                                            ),
                                            child: Column(
                                              children: [
                                                Container(
                                                  margin: EdgeInsets.only(
                                                      left: 5.w,
                                                      top: 5.h,
                                                      right: 5.w),
                                                  child: Row(
                                                    mainAxisAlignment: MainAxisAlignment
                                                        .spaceBetween,
                                                    children: [
                                                      Row(
                                                        crossAxisAlignment: CrossAxisAlignment.center,
                                                        children:[
                                                          Icon(Icons.settings_outlined, size: 23.sp,),
                                                          SizedBox(width: 5.w,),
                                                          Text(
                                                            "Services",
                                                            textScaleFactor: 1.0,
                                                            style: TextStyle(
                                                                fontSize: 20
                                                                    .sp),
                                                          ),
                                                        ],
                                                      ),
                                                      InkWell(
                                                        onTap: () {
                                                          print('gertg ${ user
                                                              .ourServices
                                                              .length}');
                                                          setState(() {
                                                            if (showServiceEdit ==
                                                                false) {
                                                              showServiceEdit =
                                                              true;
                                                            } else {
                                                              showServiceEdit =
                                                              false;
                                                            }
                                                          });
                                                        },
                                                        child: Icon(
                                                          Icons.edit_rounded,
                                                          color: showServiceEdit ==
                                                              true
                                                              ? ColorConstants
                                                              .themeBlue
                                                              : Colors
                                                              .grey,
                                                          size: 23.sp,
                                                        ),
                                                      ),
                                                    ],
                                                  ),
                                                ),
                                                SizedBox(
                                                  height: 5.h,
                                                ),
                                                (user.ourServices.isNotEmpty) ?
                                                SingleChildScrollView(
                                                  child: Container(
                                                    padding: EdgeInsets.only(
                                                        left: 10.w,
                                                        right: 10.w),
                                                    child: Column(
                                                      children: <Widget>[
                                                        for (int i = 0; i <
                                                            user.ourServices
                                                                .length; i++)
                                                        // (showServiceEdit == true)
                                                        //     ?
                                                        // Container(
                                                        //     alignment: Alignment
                                                        //         .topLeft,
                                                        //     child: Column(
                                                        //       mainAxisAlignment: MainAxisAlignment
                                                        //           .start,
                                                        //       crossAxisAlignment: CrossAxisAlignment
                                                        //           .start,
                                                        //       children: [
                                                        //         CheckboxListTile( //checkbox positioned at left
                                                        //           dense: true,
                                                        //           side: const BorderSide(
                                                        //             color: Colors
                                                        //                 .black54,
                                                        //             width: 1.5,
                                                        //           ),
                                                        //           activeColor: ColorConstants
                                                        //               .themeBlue,
                                                        //           contentPadding: EdgeInsets
                                                        //               .all(0),
                                                        //           value: presentWorking,
                                                        //           controlAffinity: ListTileControlAffinity
                                                        //               .leading,
                                                        //           onChanged: (
                                                        //               bool? value) {
                                                        //             setState(() {
                                                        //               presentWorking =
                                                        //                   value;
                                                        //             });
                                                        //           },
                                                        //           title: Text(
                                                        //               user
                                                        //                   .ourServices[i]['service']),
                                                        //         ),
                                                        //
                                                        //
                                                        //         (user
                                                        //             .ourServices
                                                        //             .length !=
                                                        //             i + 1) ?
                                                        //         Divider(
                                                        //           color: ColorConstants
                                                        //               .dividerGrey,
                                                        //           height: 0,
                                                        //           thickness: 1,
                                                        //           indent: 10.0,
                                                        //           endIndent: 10.0,
                                                        //         ) : Container()
                                                        //       ],
                                                        //     ))
                                                        //     :
                                                          Container(
                                                              alignment: Alignment
                                                                  .topLeft,
                                                              child: Column(
                                                                mainAxisAlignment: MainAxisAlignment
                                                                    .start,
                                                                crossAxisAlignment: CrossAxisAlignment
                                                                    .start,
                                                                children: [
                                                                  Row(
                                                                    mainAxisAlignment: MainAxisAlignment
                                                                        .spaceBetween,
                                                                    crossAxisAlignment: CrossAxisAlignment
                                                                        .center,
                                                                    children: [
                                                                      Container(
                                                                        padding: EdgeInsets
                                                                            .all(
                                                                            8),
                                                                        child: Text(
                                                                          ' ' +
                                                                              user
                                                                                  .ourServices[i]['service'],
                                                                          style: TextStyle(
                                                                              fontSize: 18
                                                                                  .sp),
                                                                          textScaleFactor: 1.0,),),
                                                                      Visibility(
                                                                        visible: showServiceEdit,
                                                                        child:
                                                                        Icon(
                                                                          Icons
                                                                              .edit_rounded,
                                                                          size: 20
                                                                              .sp,
                                                                          color: Colors
                                                                              .grey,),
                                                                      ),
                                                                    ],
                                                                  ),


                                                                  (user
                                                                      .ourServices
                                                                      .length !=
                                                                      i + 1)
                                                                      ?
                                                                  const Divider(
                                                                    color: ColorConstants
                                                                        .dividerGrey,
                                                                    height: 0,
                                                                    thickness: 1,
                                                                    indent: 10.0,
                                                                    endIndent: 10.0,
                                                                  )
                                                                      : Container()
                                                                ],
                                                              )),
                                                      ],
                                                    ),
                                                  ),
                                                )
                                                    : Center(
                                                    child: Container(
                                                        child: Center(
                                                          child: Text(
                                                              "No Services"),))),
                                                SizedBox(
                                                  height: 5.h,
                                                ),
                                                (showServiceEdit == true) ?
                                                Container(
                                                  margin: EdgeInsets.only(
                                                      right: 20.w, left: 20.w),
                                                  width: double.infinity,
                                                  // alignment: Alignment.bottomLeft,
                                                  child: TextButton(
                                                    onPressed: () async {

                                                    },
                                                    style: TextButton.styleFrom(
                                                      foregroundColor: Colors
                                                          .white,
                                                      splashFactory: NoSplash
                                                          .splashFactory,
                                                      backgroundColor: ColorConstants
                                                          .themeBlue, //
                                                      // padding: const EdgeInsets.only(top: 10, bottom: 10),
                                                    ),
                                                    child: Text("Update",
                                                      style: TextStyle(
                                                          fontSize: 20.sp),),
                                                  ),
                                                ) :
                                                Container(
                                                  margin: EdgeInsets.only(
                                                      right: 20.w, left: 20.w),
                                                  width: double.infinity,
                                                  // alignment: Alignment.bottomLeft,
                                                  child: TextButton(
                                                    onPressed: () async {
                                                      showModalBottomSheet(
                                                          showDragHandle: true,
                                                          isScrollControlled: true,
                                                          enableDrag: true,
                                                          useSafeArea: true,
                                                          shape: const RoundedRectangleBorder(
                                                            borderRadius: BorderRadius
                                                                .vertical(
                                                              top: Radius
                                                                  .circular(
                                                                  20),
                                                            ),
                                                          ),
                                                          context: context,
                                                          builder: (context) {
                                                            return StatefulBuilder(
                                                            builder: (
                                                                BuildContext context, void Function(void Function()) setState) {
                                                                 return SingleChildScrollView(
                                                                  child: Padding(
                                                                    padding: EdgeInsets.only(bottom: MediaQuery.of(context)
                                                                            .viewInsets
                                                                            .bottom),
                                                                      child: Container(
                                                                      margin: EdgeInsets
                                                                          .symmetric(
                                                                          horizontal: 20
                                                                              .w),
                                                                      child: Form(
                                                                        key: serviceFormKey,
                                                                        child: Column(
                                                                          mainAxisSize: MainAxisSize
                                                                              .min,
                                                                          crossAxisAlignment: CrossAxisAlignment
                                                                              .center,
                                                                          children: <
                                                                              Widget>[
                                                                            Container(

                                                                              padding: const EdgeInsets
                                                                                  .only(
                                                                                  top: 5.0,
                                                                                  bottom: 5.0,
                                                                                  left: 0,
                                                                                  right: 10),
                                                                              decoration: BoxDecoration(
                                                                                  borderRadius: BorderRadius
                                                                                      .circular(
                                                                                      10),
                                                                              ),
                                                                              child: DropdownButton2(
                                                                                dropdownStyleData: DropdownStyleData(
                                                                                    useSafeArea: false,
                                                                                    offset: const Offset(
                                                                                        5,
                                                                                        -10),
                                                                                    maxHeight: 300
                                                                                        .h,
                                                                                    scrollbarTheme: ScrollbarThemeData(
                                                                                        thumbVisibility: MaterialStateProperty
                                                                                            .all(
                                                                                            true)),
                                                                                    decoration: BoxDecoration(
                                                                                        borderRadius: BorderRadius
                                                                                            .circular(
                                                                                            10))
                                                                                ),
                                                                                underline: Container(),
                                                                                isExpanded: true,
                                                                                // value: awardType,
                                                                                style: const TextStyle(
                                                                                    color: Colors
                                                                                        .black54,
                                                                                    fontSize: 15),
                                                                                hint: Text(
                                                                                  "Subcategories",
                                                                                  style: TextStyle(
                                                                                    color: Colors
                                                                                        .grey
                                                                                        .shade600,
                                                                                    fontSize: 15,
                                                                                  ),
                                                                                ),

                                                                                items: subCat
                                                                                    .map((
                                                                                    item)
                                                                                {
                                                                                  return DropdownMenuItem(
                                                                                    value: item['category_id']
                                                                                        .toString(),
                                                                                    child: Text(
                                                                                        item['name']
                                                                                            .toString()),
                                                                                  );
                                                                                })
                                                                                    .toList(),

                                                                                onChanged: (
                                                                                    newVal) {
                                                                                  setState(() {
                                                                                    subcategoryDropdownvalue =
                                                                                        newVal;
                                                                                  });
                                                                                },
                                                                                value: subcategoryDropdownvalue,
                                                                              ),
                                                                            ),

                                                                            SizedBox(
                                                                              height: 10
                                                                                  .h,),
                                                                            TextFormField(
                                                                              controller: serviceController,
                                                                              autovalidateMode: AutovalidateMode
                                                                                  .onUserInteraction,
                                                                              keyboardType: TextInputType.text,
                                                                              validator:(
                                                                                  value) {
                                                                                if (value!
                                                                                    .isEmpty) {
                                                                                  return "Enter Service";
                                                                                }
                                                                                // else if (value.length <= 10) {
                                                                                //   return "Describe yourself in greater than 10 words";
                                                                                // }
                                                                                else return null;
                                                                              },
                                                                              decoration: InputDecoration(
                                                                                filled: true,

                                                                                fillColor: Colors
                                                                                    .grey
                                                                                    .shade200,
                                                                                border: OutlineInputBorder(
                                                                                    borderSide: BorderSide
                                                                                        .none,
                                                                                    borderRadius: BorderRadius
                                                                                        .circular(
                                                                                        10)
                                                                                ),
                                                                                labelText: 'Service',
                                                                              ),
                                                                              textInputAction: TextInputAction
                                                                                  .next,
                                                                              onEditingComplete: () {
                                                                                // FocusScope.of(context).requestFocus(_nodePassword);
                                                                              },
                                                                            ),
                                                                            SizedBox(
                                                                              height: 10
                                                                                  .h,),
                                                                            TextFormField(
                                                                              controller: serviceChargesController,
                                                                              autovalidateMode: AutovalidateMode
                                                                                  .onUserInteraction,
                                                                              keyboardType: TextInputType
                                                                                  .text,
                                                                              validator: (
                                                                                  value) {
                                                                                if (value!
                                                                                    .isEmpty) {
                                                                                  return "Enter Charges";
                                                                                }
                                                                                // else if (value.length <= 10) {
                                                                                //   return "Describe yourself in greater than 10 words";
                                                                                // }
                                                                                else
                                                                                  return null;
                                                                              },
                                                                              decoration: InputDecoration(
                                                                                filled: true,
                                                                                //<-- SEE HERE
                                                                                fillColor: Colors
                                                                                    .grey
                                                                                    .shade200,
                                                                                border: OutlineInputBorder(
                                                                                    borderSide: BorderSide
                                                                                        .none,
                                                                                    borderRadius: BorderRadius
                                                                                        .circular(
                                                                                        10)
                                                                                ),
                                                                                labelText: 'Charges',
                                                                              ),
                                                                              textInputAction: TextInputAction.next,
                                                                              onEditingComplete: () {
                                                                                // FocusScope.of(context).requestFocus(_nodePassword);
                                                                              },
                                                                            ),

                                                                            SizedBox(
                                                                              height: 5
                                                                                  .h,),
                                                                            Row(
                                                                              mainAxisAlignment: MainAxisAlignment.start,
                                                                              children: [
                                                                                TextButton(
                                                                                  onPressed: () async {
                                                                                    uploadGalImage =
                                                                                    null;
                                                                                    Navigator
                                                                                        .of(
                                                                                        context)
                                                                                        .pop();
                                                                                  },
                                                                                  style: ButtonStyle(
                                                                                      foregroundColor: MaterialStateProperty
                                                                                          .all<
                                                                                          Color>(
                                                                                          ColorConstants
                                                                                              .themeBlue),
                                                                                      shape: MaterialStateProperty
                                                                                          .all<
                                                                                          RoundedRectangleBorder>(
                                                                                          RoundedRectangleBorder(
                                                                                              borderRadius: BorderRadius
                                                                                                  .circular(
                                                                                                  5.0),
                                                                                              side: const BorderSide(
                                                                                                  color: ColorConstants
                                                                                                      .themeBlue)
                                                                                          )
                                                                                      )
                                                                                  ),
                                                                                  child: Text(
                                                                                      "Cancel",
                                                                                      style: TextStyle(
                                                                                          fontSize: 15
                                                                                              .sp)),
                                                                                ),
                                                                                SizedBox(
                                                                                  width: 10
                                                                                      .w,),

                                                                                  Container(
                                                                                    child: TextButton(
                                                                                      onPressed: () async{
                                                                                        if (serviceFormKey
                                                                                            .currentState!
                                                                                            .validate()) {
                                                                                          uploadService();
                                                                                        }
                                                                                      },
                                                                                      style: TextButton
                                                                                          .styleFrom(
                                                                                        foregroundColor: Colors
                                                                                            .white,
                                                                                        splashFactory: NoSplash
                                                                                            .splashFactory,
                                                                                        backgroundColor: ColorConstants
                                                                                            .themeBlue, //
                                                                                        // padding: const EdgeInsets.only(top: 10, bottom: 10),
                                                                                      ),
                                                                                      child: Text(
                                                                                          "Add",
                                                                                          style: TextStyle(
                                                                                              fontSize: 15
                                                                                                  .sp)),
                                                                                    ),
                                                                                  ),

                                                                              ],
                                                                            ),

                                                                          ],
                                                                        ),
                                                                      ),
                                                                    ),
                                                                  )
                                                              );
                                                            }
                                                            );
                                                          });
                                                    },
                                                    //onPressed: () async {

                                                    // SharedPreferences profilePrefs = await SharedPreferences
                                                    //     .getInstance();
                                                    // profilePrefs.setString(
                                                    //     'categoryId',
                                                    //     user.category_id);
                                                    //  serviceDialog(context);
                                                    //  },
                                                    style: TextButton.styleFrom(
                                                      foregroundColor: Colors
                                                          .white,
                                                      splashFactory: NoSplash
                                                          .splashFactory,
                                                      backgroundColor: ColorConstants
                                                          .themeBlue,
                                                      // padding: const EdgeInsets.only(top: 10, bottom: 10),
                                                    ),
                                                    child: Text(
                                                        "+ Add Services",
                                                        style: TextStyle(
                                                            fontSize: 20.sp)),
                                                  ),
                                                ),
                                              ],
                                            ),

                                          ),
                                          Container(
                                            margin: EdgeInsets.all(10.0),
                                            decoration: BoxDecoration(
                                              color: Colors.white,
                                              borderRadius: BorderRadius.all(
                                                Radius.circular(10.0),
                                              ),
                                            ),
                                            child: Column(
                                              children: [
                                                Container(
                                                  margin: EdgeInsets.only(
                                                      left: 5.w,
                                                      top: 5.h,
                                                      right: 5.w),
                                                  child: Row(
                                                    mainAxisAlignment: MainAxisAlignment
                                                        .spaceBetween,
                                                    children: [
                                                      Row(
                                                        crossAxisAlignment: CrossAxisAlignment
                                                            .center,
                                                        children: [
                                                          Icon(
                                                            Icons.person,
                                                            size: 23.sp,
                                                          ),
                                                          SizedBox(
                                                            width: 5.w,
                                                          ),
                                                          Text(
                                                            "Experience",
                                                            textScaleFactor: 1.0,
                                                            style: TextStyle(
                                                                fontSize: 20
                                                                    .sp),
                                                          )
                                                        ],
                                                      ),
                                                      InkWell(
                                                        onTap: () {
                                                          setState(() {
                                                            if (showExperienceEdit ==
                                                                false) {
                                                              showExperienceEdit =
                                                              true;
                                                            } else {
                                                              showExperienceEdit =
                                                              false;
                                                            }
                                                          });
                                                        },
                                                        child: Icon(

                                                         Icons.edit_rounded,
                                                          color: showExperienceEdit ==
                                                              true
                                                              ? ColorConstants
                                                              .themeBlue
                                                              : Colors
                                                              .grey,
                                                          size: 23.sp,
                                                        ),
                                                      ),
                                                    ],
                                                  ),
                                                ),
                                                SizedBox(
                                                  height: 5.h,
                                                ),
                                                (user.experience.isNotEmpty) ?
                                                Container(
                                                    padding:
                                                    EdgeInsets.all(10),
                                                    child: SingleChildScrollView(
                                                      child: Column(
                                                        crossAxisAlignment:
                                                        CrossAxisAlignment
                                                            .start,
                                                        mainAxisAlignment: MainAxisAlignment
                                                            .start,
                                                        children: [
                                                          for (int i = 0; i <
                                                              user.experience
                                                                  .length; i++)
                                                            Container(
                                                              padding: EdgeInsets
                                                                  .zero,
                                                              child: IntrinsicHeight(
                                                                child: Row(
                                                                  mainAxisAlignment: MainAxisAlignment
                                                                      .spaceBetween,
                                                                  crossAxisAlignment: CrossAxisAlignment
                                                                      .center,
                                                                  children: [

                                                                    Expanded(
                                                                      child: Container(
                                                                        //  color:Colors.red,
                                                                        margin: EdgeInsets.only(right: 15),
                                                                        // padding: EdgeInsets.only(bottom: 10.h),
                                                                        child: IntrinsicHeight(
                                                                          child: Row(
                                                                            children: [
                                                                              Container(
                                                                                margin: EdgeInsets
                                                                                    .only(
                                                                                    left: 5
                                                                                        .w,
                                                                                    right: 10
                                                                                        .w),
                                                                                child: Stack(
                                                                                  children: [
                                                                                    Icon(
                                                                                      Icons
                                                                                          .circle_rounded,
                                                                                      color: ColorConstants
                                                                                          .themeBlue,
                                                                                      size: 15
                                                                                          .sp,),
                                                                                    (user
                                                                                        .experience
                                                                                        .length !=
                                                                                        i +
                                                                                            1)
                                                                                        ?
                                                                                    VerticalDivider(
                                                                                      color: Colors
                                                                                          .grey,
                                                                                      indent: 15,
                                                                                      thickness: 2,
                                                                                    )
                                                                                        : Container(),

                                                                                  ],
                                                                                ),
                                                                              ),
                                                                              Expanded(
                                                                                flex: 9,
                                                                                child: Column(
                                                                                  crossAxisAlignment:
                                                                                  CrossAxisAlignment
                                                                                      .start,
                                                                                  children: [
                                                                                    Text(
                                                                                      user
                                                                                          .experience[i]['experience_title']
                                                                                          .toString(),
                                                                                      style: TextStyle(
                                                                                          fontWeight: FontWeight
                                                                                              .bold),),
                                                                                    Text(
                                                                                        user
                                                                                            .experience[i]['where'
                                                                                            .toString()]),
                                                                                    Text(
                                                                                        user
                                                                                            .experience[i]['details']
                                                                                            .toString(),
                                                                                        textAlign: TextAlign
                                                                                    .start),
                                                                                    Text(
                                                                                        user
                                                                                            .experience[i]['location']
                                                                                            .toString()),
                                                                                    Text(
                                                                                        user
                                                                                            .experience[i]['start_date']
                                                                                            .toString()),
                                                                                    Text(
                                                                                        user
                                                                                            .experience[i]['end_date']
                                                                                            .toString()),
                                                                                    SizedBox(
                                                                                      height: 15
                                                                                          .h,)
                                                                                  ],
                                                                                ),
                                                                              ),
                                                                            ],
                                                                          ),
                                                                        ),
                                                                      ),
                                                                    ),
                                                                    Visibility(
                                                                      visible: showExperienceEdit,
                                                                      child: Row(
                                                                        children: [
                                                                          InkWell(
                                                                            onTap: () async {
                                                                              showModalBottomSheet(
                                                                                  showDragHandle: true,
                                                                                  isScrollControlled: true,
                                                                                  enableDrag: true,
                                                                                  useSafeArea: true,
                                                                                  shape: const RoundedRectangleBorder(
                                                                                    borderRadius: BorderRadius
                                                                                        .vertical(
                                                                                      top: Radius
                                                                                          .circular(
                                                                                          20),
                                                                                    ),
                                                                                  ),
                                                                                  context: context,
                                                                                  builder: (context) {
                                                                               return StatefulBuilder(
                                                                               builder: (BuildContext context, void Function(void Function()) setState) {
                                                                                    return SingleChildScrollView(

                                                                                      child: Padding(
                                                                                        padding:  EdgeInsets.only(bottom: MediaQuery.of(context).viewInsets.bottom),
                                                                                        child: Container(
                                                                                        margin: EdgeInsets.symmetric(horizontal: 20.w),
                                                                                        child: Form(
                                                                                        key: experienceFormKey,
                                                                                        child: Column(
                                                                                        mainAxisSize: MainAxisSize
                                                                                            .min,
                                                                                        crossAxisAlignment: CrossAxisAlignment
                                                                                            .start,
                                                                                        children: <
                                                                                        Widget>[

                                                                                        Text('Edit Experience',style: TextStyle(fontSize: 20.sp),),
                                                                                        SizedBox(
                                                                                        height: 20
                                                                                            .h,),
                                                                                        Container(
                                                                                        height:40.h,
                                                                                        padding: const EdgeInsets
                                                                                            .only(
                                                                                        left: 0,
                                                                                        right: 10),


                                                                                        decoration: BoxDecoration(
                                                                                        border: Border.all(color: Colors.grey),
                                                                                        borderRadius: BorderRadius
                                                                                            .circular(5)
                                                                                        ),

                                                                                        child: DropdownButton2<
                                                                                        String>(
                                                                                        dropdownStyleData: DropdownStyleData(
                                                                                        useSafeArea: false,
                                                                                        offset: const Offset(
                                                                                        5,
                                                                                        -10),
                                                                                        decoration: BoxDecoration(
                                                                                        borderRadius: BorderRadius
                                                                                            .circular(
                                                                                        10))
                                                                                        ),
                                                                                        underline: Container(),
                                                                                        isExpanded: true,
                                                                                        value: employementType,
                                                                                        style: TextStyle(
                                                                                        color: Colors
                                                                                            .black54,
                                                                                        fontSize: 15),


                                                                                        items: <
                                                                                        String>[
                                                                                        'Full-time',
                                                                                        'Part-time',
                                                                                        'Self-employed',
                                                                                        'Freelance',
                                                                                        'Internship',
                                                                                        'Trainee',
                                                                                        ]
                                                                                            .map<
                                                                                        DropdownMenuItem<
                                                                                        String>>((
                                                                                        String value) {
                                                                                        return DropdownMenuItem<
                                                                                        String>(
                                                                                        value: value,
                                                                                        child: Text(
                                                                                        value),
                                                                                        );
                                                                                        })
                                                                                            .toList(),
                                                                                        hint: Text(
                                                                                        "Select Employement Type",
                                                                                        style: TextStyle(
                                                                                        color: Colors
                                                                                            .grey
                                                                                            .shade600,
                                                                                        fontSize: 15,
                                                                                        ),
                                                                                        ),
                                                                                        onChanged: (
                                                                                        String? value) {
                                                                                        setState(() {
                                                                                        employementType =
                                                                                        value!;
                                                                                        });
                                                                                        },
                                                                                        ),
                                                                                        ),

                                                                                        SizedBox(
                                                                                        height: 10
                                                                                            .h,),
                                                                                        TextFormField(
                                                                                        controller: experienceTitleController
                                                                                        ..text = user
                                                                                            .experience[i]['experience_title'],
                                                                                        // initialValue: name,
                                                                                        // focusNode: _nodeFullname,
                                                                                        keyboardType: TextInputType
                                                                                            .text,
                                                                                        validator: (
                                                                                        value) {
                                                                                        if (value!
                                                                                            .isEmpty) {
                                                                                        return "Experience Title is required";
                                                                                        }
                                                                                        // else if (value.length <= 10) {
                                                                                        //   return "Describe yourself in greater than 10 words";
                                                                                        // }
                                                                                        else
                                                                                        return null;
                                                                                        },
                                                                                        decoration: const InputDecoration(
                                                                                        contentPadding: EdgeInsets.only(right: 0,left: 10,top: 0.0,bottom: 0.0),
                                                                                        hintText: 'Experience title',
                                                                                        border: OutlineInputBorder(),
                                                                                        ),
                                                                                        textInputAction: TextInputAction
                                                                                            .next,
                                                                                        onEditingComplete: () {
                                                                                        // FocusScope.of(context).requestFocus(_nodePassword);
                                                                                        },
                                                                                        ),
                                                                                        SizedBox(
                                                                                        height: 10
                                                                                            .h,),
                                                                                        TextFormField(
                                                                                        controller: experienceNameController
                                                                                        ..text = user
                                                                                            .experience[i]['where'],
                                                                                        // initialValue: name,
                                                                                        // focusNode: _nodeFullname,
                                                                                        keyboardType: TextInputType
                                                                                            .text,
                                                                                        validator: (
                                                                                        value) {
                                                                                        if (value!
                                                                                            .isEmpty) {
                                                                                        return "Company Name is required";
                                                                                        }
                                                                                        // else if (value.length <= 10) {
                                                                                        //   return "Describe yourself in greater than 10 words";
                                                                                        // }
                                                                                        else
                                                                                        return null;
                                                                                        },
                                                                                        decoration: const InputDecoration(
                                                                                        contentPadding: EdgeInsets.only(right: 0,left: 10,top: 0.0,bottom: 0.0),
                                                                                        hintText: 'Company name',
                                                                                        border: OutlineInputBorder(),
                                                                                        ),
                                                                                        textInputAction: TextInputAction
                                                                                            .next,
                                                                                        onEditingComplete: () {
                                                                                        // FocusScope.of(context).requestFocus(_nodePassword);
                                                                                        },
                                                                                        ),
                                                                                        CheckboxListTile( //checkbox positioned at left
                                                                                        dense: true,
                                                                                        side: const BorderSide(
                                                                                        color: Colors
                                                                                            .black54,
                                                                                        width: 1.5,
                                                                                        ),
                                                                                        activeColor: ColorConstants
                                                                                            .themeBlue,
                                                                                        contentPadding:const  EdgeInsets
                                                                                            .all(
                                                                                        0),
                                                                                        value: presentWorking,
                                                                                        controlAffinity: ListTileControlAffinity
                                                                                            .leading,
                                                                                        onChanged: (
                                                                                        bool? value) {
                                                                                        setState(() {
                                                                                        print(
                                                                                        'dfgzxdf $value');
                                                                                        presentWorking =
                                                                                        value;
                                                                                        if (value ==
                                                                                        true) {
                                                                                        setState(() {
                                                                                        a =
                                                                                        1;
                                                                                        });
                                                                                        } else
                                                                                        if (value ==
                                                                                        false ||
                                                                                        a ==
                                                                                        null) {
                                                                                        setState(() {
                                                                                        a =
                                                                                        0;
                                                                                        });
                                                                                        }
                                                                                        });
                                                                                        },
                                                                                        title: const Text(
                                                                                        "Presently working"),
                                                                                        ),
                                                                                        SizedBox(
                                                                                        height: 10
                                                                                            .h,),
                                                                                        TextFormField(
                                                                                        controller: experienceLocationController
                                                                                        ..text = user
                                                                                            .experience[i]['location'],
                                                                                        keyboardType: TextInputType
                                                                                            .text,
                                                                                        validator: (
                                                                                        value) {
                                                                                        if (value!
                                                                                            .isEmpty) {
                                                                                        return "Location is required";
                                                                                        }
                                                                                        else
                                                                                        return null;
                                                                                        },
                                                                                        decoration: const InputDecoration(
                                                                                        contentPadding: EdgeInsets.only(right: 0,left: 10,top: 0.0,bottom: 0.0),
                                                                                        hintText: 'Location',
                                                                                        border: OutlineInputBorder(),
                                                                                        ),
                                                                                        textInputAction: TextInputAction
                                                                                            .next,
                                                                                        onEditingComplete: () {
                                                                                        // FocusScope.of(context).requestFocus(_nodePassword);
                                                                                        },
                                                                                        ),
                                                                                        SizedBox(
                                                                                        height: 10
                                                                                            .h,),

                                                                                        Row(
                                                                                        children: [
                                                                                        Expanded(
                                                                                        child: TextFormField(
                                                                                        controller: experienceSDateController
                                                                                        ..text = user
                                                                                            .experience[i]['start_date'],
                                                                                        validator: (
                                                                                        value) {
                                                                                        if (value!
                                                                                            .isEmpty) {
                                                                                        return "Start Date is required";
                                                                                        }
                                                                                        // else if (value.length <= 10) {
                                                                                        //   return "Describe yourself in greater than 10 words";
                                                                                        // }
                                                                                        else
                                                                                        return null;
                                                                                        },

                                                                                        //editing controller of this TextField
                                                                                        decoration: const InputDecoration(
                                                                                        contentPadding: EdgeInsets.only(right: 0,left: 10,top: 0.0,bottom: 0.0),
                                                                                        border: OutlineInputBorder(),

                                                                                        hintText: 'Start Date',
                                                                                        suffixIcon: Icon(
                                                                                        Icons
                                                                                            .calendar_month_rounded)

                                                                                        ),

                                                                                        readOnly: true,
                                                                                        //set it true, so that user will not able to edit text
                                                                                        onTap: () async {
                                                                                        DateTime? pickedDate = await showDatePicker(
                                                                                        context: context,
                                                                                        initialDate: DateTime
                                                                                            .now(),
                                                                                        firstDate: DateTime(
                                                                                        2000),
                                                                                        //DateTime.now() - not to allow to choose before today.
                                                                                        lastDate: DateTime(
                                                                                        2101)
                                                                                        );

                                                                                        if (pickedDate !=
                                                                                        null) {
                                                                                        print(
                                                                                        pickedDate); //pickedDate output format => 2021-03-10 00:00:00.000
                                                                                        String formattedDate = DateFormat(
                                                                                        'dd-MM-yyyy')
                                                                                            .format(
                                                                                        pickedDate);
                                                                                        print(
                                                                                        formattedDate); //formatted date output using intl package =>  2021-03-16
                                                                                        //you can implement different kind of Date Format here according to your requirement

                                                                                        setState(() {
                                                                                        experienceSDateController
                                                                                            .text =
                                                                                        formattedDate; //set output date to TextField value.
                                                                                        });
                                                                                        } else {
                                                                                        print(
                                                                                        "Date is not selected");
                                                                                        }
                                                                                        },
                                                                                        ),
                                                                                        ),
                                                                                        SizedBox(
                                                                                        width: 10
                                                                                            .h,),
                                                                                        Expanded(
                                                                                        child: TextFormField(
                                                                                        enabled: (presentWorking ==
                                                                                        false)
                                                                                        ? true
                                                                                            : false,
                                                                                        controller: experienceEDateController
                                                                                        ..text = user
                                                                                            .experience[i]['end_date']
                                                                                            .toString(),
                                                                                        validator: (
                                                                                        value) {
                                                                                        if (presentWorking ==
                                                                                        false) {
                                                                                        if (value!
                                                                                            .isEmpty) {
                                                                                        return "End Date is required";
                                                                                        }
                                                                                        // else if (value.length <= 10) {
                                                                                        //   return "Describe yourself in greater than 10 words";
                                                                                        // }
                                                                                        else
                                                                                        return null;
                                                                                        }
                                                                                        },

                                                                                        //editing controller of this TextField
                                                                                        decoration: const InputDecoration(
                                                                                        contentPadding: EdgeInsets.only(right: 0,left: 10,top: 0.0,bottom: 0.0),
                                                                                        border: OutlineInputBorder(),
                                                                                        hintText: 'End Date',
                                                                                        suffixIcon: Icon(
                                                                                        Icons
                                                                                            .calendar_month_rounded)

                                                                                        ),

                                                                                        readOnly: true,
                                                                                        //set it true, so that user will not able to edit text
                                                                                        onTap: () async {
                                                                                        DateTime? pickedDate = await showDatePicker(
                                                                                        context: context,
                                                                                        initialDate: DateTime
                                                                                            .now(),
                                                                                        firstDate: DateTime(
                                                                                        2000),
                                                                                        //DateTime.now() - not to allow to choose before today.
                                                                                        lastDate: DateTime(
                                                                                        2101)
                                                                                        );

                                                                                        if (pickedDate !=
                                                                                        null) {
                                                                                        print(
                                                                                        pickedDate); //pickedDate output format => 2021-03-10 00:00:00.000
                                                                                        String formattedDate = DateFormat(
                                                                                        'dd-MM-yyyy')
                                                                                            .format(
                                                                                        pickedDate);
                                                                                        print(
                                                                                        formattedDate); //formatted date output using intl package =>  2021-03-16
                                                                                        //you can implement different kind of Date Format here according to your requirement

                                                                                        setState(() {
                                                                                        experienceEDateController
                                                                                            .text =
                                                                                        formattedDate; //set output date to TextField value.
                                                                                        });
                                                                                        } else {
                                                                                        print(
                                                                                        "Date is not selected");
                                                                                        }
                                                                                        },
                                                                                        ),
                                                                                        ),
                                                                                        ],
                                                                                        ),
                                                                                        SizedBox(
                                                                                        height: 10
                                                                                            .h,),
                                                                                        TextFormField(
                                                                                        controller: experienceDesController
                                                                                        ..text = user
                                                                                            .experience[i]['details'],
                                                                                        maxLines: 5,
                                                                                        minLines: 1,
                                                                                        // obscureText: true,
                                                                                        validator: (
                                                                                        value) {
                                                                                        if (value!
                                                                                            .isEmpty) {
                                                                                        return "Enter Description";
                                                                                        }
                                                                                        // else if (value.length <= 50) {
                                                                                        //   return "Describe yourself in greater than 50 words";
                                                                                        // }
                                                                                        else
                                                                                        return null;
                                                                                        },
                                                                                        decoration: const  InputDecoration(
                                                                                        contentPadding: EdgeInsets.only(right: 0,left: 10,top: 0.0,bottom: 0.0),
                                                                                        border: OutlineInputBorder(),
                                                                                        hintText: 'Description',
                                                                                        suffixIcon: Icon(
                                                                                        Icons
                                                                                            .edit_rounded)
                                                                                        ),
                                                                                        ),

                                                                                        SizedBox(
                                                                                        height: 5
                                                                                            .h,),
                                                                                        Row(
                                                                                        mainAxisAlignment: MainAxisAlignment
                                                                                            .start,
                                                                                        children: [
                                                                                        Container(
                                                                                        child: TextButton(
                                                                                        onPressed: () async {
                                                                                        if (experienceFormKey
                                                                                            .currentState!
                                                                                            .validate()) {
                                                                                        editExperience(
                                                                                        user
                                                                                            .experience[i]['lister_experience_id']);
                                                                                        }
                                                                                        },
                                                                                        style: TextButton
                                                                                            .styleFrom(
                                                                                        primary: Colors
                                                                                            .white,
                                                                                        splashFactory: NoSplash
                                                                                            .splashFactory,
                                                                                        backgroundColor: ColorConstants
                                                                                            .themeBlue, //
                                                                                        // padding: const EdgeInsets.only(top: 10, bottom: 10),
                                                                                        ),
                                                                                        child:
                                                                                        Text(
                                                                                        "Update",
                                                                                        style: TextStyle(
                                                                                        fontSize: 15
                                                                                            .sp)),
                                                                                        ),
                                                                                        ),


                                                                                        SizedBox(
                                                                                        width: 10
                                                                                            .w,),
                                                                                        Container(
                                                                                        child: TextButton(
                                                                                        onPressed: () async {
                                                                                        uploadGalImage =
                                                                                        null;
                                                                                        Navigator
                                                                                            .of(
                                                                                        context)
                                                                                            .pop();
                                                                                        },
                                                                                        style: ButtonStyle(
                                                                                        foregroundColor: MaterialStateProperty
                                                                                            .all<
                                                                                        Color>(
                                                                                        ColorConstants
                                                                                            .themeBlue),
                                                                                        shape: MaterialStateProperty
                                                                                            .all<
                                                                                        RoundedRectangleBorder>(
                                                                                        RoundedRectangleBorder(
                                                                                        borderRadius: BorderRadius
                                                                                            .circular(
                                                                                        5.0),
                                                                                        side: BorderSide(
                                                                                        color: ColorConstants
                                                                                            .themeBlue)
                                                                                        )
                                                                                        )
                                                                                        ),
                                                                                        child: Text(
                                                                                        "Cancel",
                                                                                        style: TextStyle(
                                                                                        fontSize: 15
                                                                                            .sp)),
                                                                                        ),
                                                                                        ),


                                                                                        ],
                                                                                        ),

                                                                                        ],
                                                                                        ),
                                                                                        ),
                                                                                        ),
                                                                                      ),
                                                                                    );
                                                                                    });
                                                                                  });

                                                                            },
                                                                            child: Icon(
                                                                              Icons
                                                                                  .edit_rounded,
                                                                              size: 20
                                                                                  .sp,
                                                                              color: Colors
                                                                                  .grey,),
                                                                          ),
                                                                          SizedBox(
                                                                            width: 10
                                                                                .w,),
                                                                          InkWell(
                                                                            onTap: () async {
                                                                              showDialog<
                                                                                  void>(
                                                                                  context: context,
                                                                                  barrierDismissible: false,
                                                                                  // user must tap button!
                                                                                  builder: (
                                                                                      BuildContext context) {
                                                                                    return
                                                                                      AlertDialog(
                                                                                        contentPadding:const  EdgeInsets
                                                                                            .symmetric(horizontal: 15,
                                                                                            vertical:
                                                                                            10),
                                                                                        title: const Text(
                                                                                          'Delete experience',
                                                                                          textAlign: TextAlign
                                                                                              .center,
                                                                                          style: TextStyle(
                                                                                              color: ColorConstants
                                                                                                  .themeBlue),
                                                                                        ),
                                                                                        titleTextStyle: const TextStyle(
                                                                                          fontSize: 16.0,
                                                                                          color: Colors
                                                                                              .blue,
                                                                                          fontWeight: FontWeight
                                                                                              .w700,
                                                                                        ),
                                                                                        shape: RoundedRectangleBorder(
                                                                                          borderRadius: BorderRadius
                                                                                              .circular(
                                                                                              8.0),
                                                                                        ),
                                                                                        content: Column(
                                                                                          mainAxisSize: MainAxisSize.min,

                                                                                          // crossAxisAlignment: CrossAxisAlignment
                                                                                          //     .start,
                                                                                          children: <
                                                                                              Widget>[
                                                                                            const Text('Are you sure you want to remove this record?'),
                                                                                            SizedBox(
                                                                                              height: 10
                                                                                                  .h,),
                                                                                            Row(
                                                                                              mainAxisAlignment: MainAxisAlignment
                                                                                                  .center,
                                                                                              children: [
                                                                                                TextButton(
                                                                                                  onPressed: () async {
                                                                                                    Navigator
                                                                                                        .of(
                                                                                                        context)
                                                                                                        .pop();
                                                                                                  },
                                                                                                  style: ButtonStyle(
                                                                                                      foregroundColor: MaterialStateProperty
                                                                                                          .all<
                                                                                                          Color>(
                                                                                                          ColorConstants
                                                                                                              .themeBlue),
                                                                                                      shape: MaterialStateProperty
                                                                                                          .all<
                                                                                                          RoundedRectangleBorder>(
                                                                                                          RoundedRectangleBorder(
                                                                                                              borderRadius: BorderRadius
                                                                                                                  .circular(
                                                                                                                  5.0),
                                                                                                              side: const BorderSide(
                                                                                                                  color: ColorConstants
                                                                                                                      .themeBlue)
                                                                                                          )
                                                                                                      )
                                                                                                  ),
                                                                                                  child: Text(
                                                                                                      "Cancel",
                                                                                                      style: TextStyle(
                                                                                                          fontSize: 15
                                                                                                              .sp)),
                                                                                                ),
                                                                                                SizedBox(
                                                                                                  width: 10
                                                                                                      .w,),
                                                                                                Container(
                                                                                                  child: TextButton(
                                                                                                    onPressed: () async {
                                                                                                      deleteExperience(
                                                                                                          user
                                                                                                              .experience[i]['lister_experience_id']
                                                                                                              .toString());
                                                                                                    },
                                                                                                    style: TextButton
                                                                                                        .styleFrom(
                                                                                                      primary: Colors
                                                                                                          .white,
                                                                                                      splashFactory: NoSplash
                                                                                                          .splashFactory,
                                                                                                      backgroundColor: ColorConstants
                                                                                                          .themeBlue, //
                                                                                                      // padding: const EdgeInsets.only(top: 10, bottom: 10),
                                                                                                    ),
                                                                                                    child: Text(
                                                                                                        "OK",
                                                                                                        style: TextStyle(
                                                                                                            fontSize: 15
                                                                                                                .sp)),
                                                                                                  ),
                                                                                                ),
                                                                                              ],
                                                                                            ),

                                                                                          ],
                                                                                        ),

                                                                                      );
                                                                                  }
                                                                              );
                                                                            },
                                                                            child: Icon(
                                                                              Icons
                                                                                  .delete_outline_rounded,
                                                                              color: Colors
                                                                                  .grey,),
                                                                          ),
                                                                        ],
                                                                      ),
                                                                    )
                                                                  ],
                                                                ),
                                                              ),
                                                            ),
                                                        ],
                                                      ),
                                                    ))
                                                    : Center(
                                                  child: Text(
                                                      "No Experience"),),
                                                SizedBox(
                                                  height: 5.h,
                                                ),
                                                Container(
                                                  margin: EdgeInsets.only(
                                                      right: 20.w, left: 20.w),
                                                  width: double.infinity,
                                                  // alignment: Alignment.bottomLeft,
                                                  child: TextButton(
                                                    onPressed: () async {
                                                      showModalBottomSheet(
                                                          showDragHandle: true,
                                                          isScrollControlled: true,
                                                         enableDrag: true,
                                                          useSafeArea: true,
                                                          shape: RoundedRectangleBorder(
                                                            borderRadius: BorderRadius
                                                                .vertical(
                                                              top: Radius
                                                                  .circular(
                                                                  20),
                                                            ),
                                                          ),
                                                          context: context,
                                                          builder: (context) {

                                                            return  StatefulBuilder(
                                                              builder: (BuildContext context, void Function(void Function()) setState) {
                                                                return SingleChildScrollView(
                                                                    child: Padding(
                                                                      padding: EdgeInsets
                                                                          .only(
                                                                          bottom: MediaQuery
                                                                              .of(
                                                                              context)
                                                                              .viewInsets
                                                                              .bottom),
                                                                      child: Container(
                                                                        margin: EdgeInsets
                                                                            .symmetric(
                                                                            horizontal: 20
                                                                                .w),
                                                                        child: Form(
                                                                          key: experienceFormKey,
                                                                          child: Column(
                                                                            crossAxisAlignment: CrossAxisAlignment
                                                                                .start,
                                                                            mainAxisSize: MainAxisSize
                                                                                .min,
                                                                            children: <
                                                                                Widget>[
                                                                              Text(
                                                                                'Add Experience',
                                                                                style: TextStyle(
                                                                                    fontSize: 20
                                                                                        .sp),),
                                                                              SizedBox(
                                                                                height: 20
                                                                                    .h,),
                                                                              Container(
                                                                                height: 40
                                                                                    .h,
                                                                                padding: const EdgeInsets
                                                                                    .only(
                                                                                    left: 0,
                                                                                    right: 10),
                                                                                decoration: BoxDecoration(
                                                                                    border: Border
                                                                                        .all(
                                                                                        color: Colors
                                                                                            .grey),
                                                                                    borderRadius: BorderRadius
                                                                                        .circular(
                                                                                        5)
                                                                                ),
                                                                                child: DropdownButton2<
                                                                                    String>(

                                                                                  dropdownStyleData: DropdownStyleData(
                                                                                      useSafeArea: false,
                                                                                      offset: const Offset(
                                                                                          5,
                                                                                          -10),
                                                                                      decoration: BoxDecoration(
                                                                                          borderRadius: BorderRadius
                                                                                              .circular(10),
                                                                                      ),
                                                                                  ),

                                                                                  underline: Container(),
                                                                                  isExpanded: true,
                                                                                  value: employementType,
                                                                                  style: const TextStyle(
                                                                                      color: Colors
                                                                                          .black54,
                                                                                      fontSize: 15),
                                                                                  items: <
                                                                                      String>[
                                                                                    'Full-time',
                                                                                    'Part-time',
                                                                                    'Self-employed',
                                                                                    'Freelance',
                                                                                    'Internship',
                                                                                    'Trainee',
                                                                                  ]
                                                                                      .map<
                                                                                      DropdownMenuItem<
                                                                                          String>>((
                                                                                      String value) {
                                                                                    return DropdownMenuItem<
                                                                                        String>(
                                                                                      value: value,
                                                                                      child: Text(
                                                                                          value),
                                                                                    );
                                                                                  })
                                                                                      .toList(),

                                                                                  hint: Text(
                                                                                    "Select Employment Type",
                                                                                    style: TextStyle(
                                                                                      color: Colors
                                                                                          .grey
                                                                                          .shade600,
                                                                                      fontSize: 15,
                                                                                    ),
                                                                                  ),
                                                                                  onChanged: (
                                                                                      String? value) {
                                                                                    setState(() {
                                                                                      employementType =
                                                                                      value!;
                                                                                    });
                                                                                  },
                                                                                ),
                                                                              ),

                                                                              SizedBox(
                                                                                height: 10
                                                                                    .h,),
                                                                              TextFormField(
                                                                                autovalidateMode: AutovalidateMode
                                                                                    .onUserInteraction,
                                                                                controller: experienceTitleController,
                                                                                keyboardType: TextInputType
                                                                                    .text,
                                                                                textInputAction: TextInputAction
                                                                                    .next,
                                                                                validator: (
                                                                                    value) {
                                                                                  if (value!
                                                                                      .isEmpty) {
                                                                                    return "Experience Title is required";
                                                                                  }
                                                                                  else
                                                                                    return null;
                                                                                },
                                                                                onFieldSubmitted: (
                                                                                    _) =>
                                                                                    FocusScope
                                                                                        .of(
                                                                                        context)
                                                                                        .nextFocus(),
                                                                                decoration: const InputDecoration(
                                                                                  contentPadding: EdgeInsets
                                                                                      .only(
                                                                                      right: 0,
                                                                                      left: 10,
                                                                                      top: 0.0,
                                                                                      bottom: 0.0),
                                                                                  hintText: 'Experience title',
                                                                                  border: OutlineInputBorder(),
                                                                                ),

                                                                                onEditingComplete: () {
                                                                                  // FocusScope.of(context).requestFocus(_nodePassword);
                                                                                },
                                                                              ),

                                                                              SizedBox(
                                                                                height: 10
                                                                                    .h,),
                                                                              TextFormField(
                                                                                autovalidateMode: AutovalidateMode
                                                                                    .onUserInteraction,
                                                                                controller: experienceNameController,
                                                                                // initialValue: name,
                                                                                // focusNode: _nodeFullname,
                                                                                keyboardType: TextInputType
                                                                                    .text,
                                                                                onFieldSubmitted: (
                                                                                    _) =>
                                                                                    FocusScope
                                                                                        .of(
                                                                                        context)
                                                                                        .nextFocus(),
                                                                                //.text,
                                                                                validator: (
                                                                                    value) {
                                                                                  if (value!
                                                                                      .isEmpty) {
                                                                                    return "Company Name is required";
                                                                                  }
                                                                                  // else if (value.length <= 10) {
                                                                                  //   return "Describe yourself in greater than 10 words";
                                                                                  // }
                                                                                  else
                                                                                    return null;
                                                                                },
                                                                                decoration: const InputDecoration(

                                                                                  contentPadding: EdgeInsets
                                                                                      .only(
                                                                                      right: 0,
                                                                                      left: 10,
                                                                                      top: 0.0,
                                                                                      bottom: 0.0),
                                                                                  hintText: 'Company name',
                                                                                  border: OutlineInputBorder(),
                                                                                ),
                                                                                textInputAction: TextInputAction
                                                                                    .next,
                                                                                onEditingComplete: () {
                                                                                  // FocusScope.of(context).requestFocus(_nodePassword);
                                                                                },
                                                                              ),
                                                                              Container(

                                                                                child: CheckboxListTile(
                                                                                  dense: true,
                                                                                  side: const BorderSide(
                                                                                    color: Colors
                                                                                        .black54,
                                                                                    width: 1.5,
                                                                                  ),
                                                                                  activeColor: ColorConstants
                                                                                      .themeBlue,
                                                                                  contentPadding: EdgeInsets
                                                                                      .all(
                                                                                      0),
                                                                                  value: presentWorking,
                                                                                  controlAffinity: ListTileControlAffinity
                                                                                      .leading,
                                                                                  onChanged: (
                                                                                      bool? value) {
                                                                                    setState(() {
                                                                                      print(
                                                                                          'dfgzxdf $value');
                                                                                      presentWorking =
                                                                                          value;
                                                                                      if (value ==
                                                                                          true) {
                                                                                        setState(() {
                                                                                          a =
                                                                                          1;
                                                                                        });
                                                                                      } else
                                                                                      if (value == false || a ==
                                                                                              null) {
                                                                                        setState(() {
                                                                                          a =
                                                                                          0;
                                                                                        });
                                                                                      }
                                                                                    });
                                                                                  },
                                                                                  title: const Text(
                                                                                      "Presently working"),
                                                                                ),
                                                                              ),

                                                                              TextFormField(
                                                                                onFieldSubmitted: (
                                                                                    _) =>
                                                                                    FocusScope
                                                                                        .of(
                                                                                        context)
                                                                                        .nextFocus(),
                                                                                autovalidateMode: AutovalidateMode
                                                                                    .onUserInteraction,
                                                                                controller: experienceLocationController,
                                                                                // textInputAction: TextInputAction.next,
                                                                                keyboardType: TextInputType
                                                                                    .text,
                                                                                validator: (
                                                                                    value) {
                                                                                  if (value!
                                                                                      .isEmpty) {
                                                                                    return "Location is required";
                                                                                  }
                                                                                  else
                                                                                    return null;
                                                                                },
                                                                                decoration: const InputDecoration(

                                                                                  contentPadding: EdgeInsets
                                                                                      .only(
                                                                                      right: 0,
                                                                                      left: 10,
                                                                                      top: 0.0,
                                                                                      bottom: 0.0),
                                                                                  hintText: 'Location',
                                                                                  border: OutlineInputBorder(),
                                                                                ),

                                                                                onEditingComplete: () {
                                                                                  // FocusScope.of(context).requestFocus(_nodePassword);
                                                                                },
                                                                              ),
                                                                              SizedBox(
                                                                                height: 10
                                                                                    .h,),

                                                                              Row(
                                                                                children: [
                                                                                  Expanded(
                                                                                    child: TextFormField(
                                                                                      onFieldSubmitted: (
                                                                                          _) =>
                                                                                          FocusScope
                                                                                              .of(
                                                                                              context)
                                                                                              .nextFocus(),
                                                                                      autovalidateMode: AutovalidateMode
                                                                                          .onUserInteraction,
                                                                                      controller: experienceSDateController,
                                                                                      validator: (
                                                                                          value) {
                                                                                        if (value!
                                                                                            .isEmpty) {
                                                                                          return "Start Date is required";
                                                                                        }
                                                                                        // else if (value.length <= 10) {
                                                                                        //   return "Describe yourself in greater than 10 words";
                                                                                        // }
                                                                                        else
                                                                                          return null;
                                                                                      },

                                                                                      //editing controller of this TextField
                                                                                      decoration: const InputDecoration(
                                                                                          contentPadding: EdgeInsets
                                                                                              .only(
                                                                                              right: 0,
                                                                                              left: 10,
                                                                                              top: 0.0,
                                                                                              bottom: 0.0),
                                                                                          hintText: 'Start date',
                                                                                          border: OutlineInputBorder(),
                                                                                          suffixIcon: Icon(
                                                                                              Icons
                                                                                                  .calendar_month_rounded)
                                                                                      ),

                                                                                      readOnly: true,
                                                                                      //set it true, so that user will not able to edit text
                                                                                      onTap: () async {
                                                                                        DateTime? pickedDate = await showDatePicker(
                                                                                            context: context,
                                                                                            initialDate: DateTime
                                                                                                .now(),
                                                                                            firstDate: DateTime(
                                                                                                2000),
                                                                                            //DateTime.now() - not to allow to choose before today.
                                                                                            lastDate: DateTime(
                                                                                                2101)
                                                                                        );
                                                                                        if (pickedDate !=
                                                                                            null) {
                                                                                          print(
                                                                                              pickedDate); //pickedDate output format => 2021-03-10 00:00:00.000
                                                                                          String formattedDate = DateFormat(
                                                                                              'dd-MM-yyyy'
                                                                                          )
                                                                                              .format(
                                                                                              pickedDate);
                                                                                          print(
                                                                                              formattedDate); //formatted date output using intl package =>  2021-03-16
                                                                                          //you can implement different kind of Date Format here according to your requirement
                                                                                          setState(() {
                                                                                            experienceSDateController
                                                                                                .text =
                                                                                                formattedDate; //set output date to TextField value.
                                                                                          });
                                                                                        } else {
                                                                                          print(
                                                                                              "Date is not selected");
                                                                                        }
                                                                                      },
                                                                                    ),
                                                                                  ),
                                                                                  SizedBox(
                                                                                    width: 40
                                                                                        .h,),
                                                                                  Expanded(
                                                                                    child: TextFormField(
                                                                                      textInputAction: TextInputAction
                                                                                          .next,
                                                                                      // onFieldSubmitted: (_) => FocusScope.of(context).nextFocus() ,
                                                                                      autovalidateMode: AutovalidateMode
                                                                                          .onUserInteraction,
                                                                                      enabled: (presentWorking ==
                                                                                          false)
                                                                                          ? true
                                                                                          : false,
                                                                                      controller: experienceEDateController,
                                                                                      validator: (
                                                                                          value) {
                                                                                        if (presentWorking ==
                                                                                            false) {
                                                                                          if (value!
                                                                                              .isEmpty) {
                                                                                            return "End Date is required";
                                                                                          }
                                                                                          // else if (value.length <= 10) {
                                                                                          //   return "Describe yourself in greater than 10 words";
                                                                                          //}
                                                                                          else
                                                                                            return null;
                                                                                        }
                                                                                      },

                                                                                      //editing controller of this TextField
                                                                                      decoration: const InputDecoration(
                                                                                          contentPadding: EdgeInsets
                                                                                              .only(
                                                                                              right: 0,
                                                                                              left: 10,
                                                                                              top: 0.0,
                                                                                              bottom: 0.0),
                                                                                          border: OutlineInputBorder(),

                                                                                          hintText: 'End Date',
                                                                                          suffixIcon: Icon(
                                                                                              Icons
                                                                                                  .calendar_month_rounded)

                                                                                      ),

                                                                                      readOnly: true,
                                                                                      //set it true, so that user will not able to edit text
                                                                                      onTap: () async {
                                                                                        DateTime? pickedDate = await showDatePicker(
                                                                                            context: context,
                                                                                            initialDate: DateTime
                                                                                                .now(),
                                                                                            firstDate: DateTime(
                                                                                                2000),
                                                                                            //DateTime.now() - not to allow to choose before today.
                                                                                            lastDate: DateTime(
                                                                                                2101)
                                                                                        );

                                                                                        if (pickedDate !=
                                                                                            null) {
                                                                                          print(
                                                                                              pickedDate); //pickedDate output format => 2021-03-10 00:00:00.000
                                                                                          String formattedDate = DateFormat(
                                                                                              'dd-MM-yyyy')
                                                                                              .format(
                                                                                              pickedDate);
                                                                                          print(
                                                                                              formattedDate); //formatted date output using intl package =>  2021-03-16
                                                                                          //you can implement different kind of Date Format here according to your requirement

                                                                                          setState(() {
                                                                                            experienceEDateController
                                                                                                .text =
                                                                                                formattedDate; //set output date to TextField value.
                                                                                          }
                                                                                          );
                                                                                        } else {
                                                                                          print(
                                                                                              "Date is not selected");
                                                                                        }
                                                                                      },
                                                                                    ),
                                                                                  ),
                                                                                ],
                                                                              ),
                                                                              SizedBox(
                                                                                height: 10
                                                                                    .h,),
                                                                              TextFormField(

                                                                                autovalidateMode: AutovalidateMode
                                                                                    .onUserInteraction,
                                                                                controller: experienceDesController,
                                                                                maxLines: 5,
                                                                                minLines: 1,
                                                                                // obscureText: true,
                                                                                validator: (
                                                                                    value) {
                                                                                  if (value!
                                                                                      .isEmpty) {
                                                                                    return "Enter Description";
                                                                                  }
                                                                                  // else if (value.length <= 50) {
                                                                                  //   return "Describe yourself in greater than 50 words";
                                                                                  // }
                                                                                  else
                                                                                    return null;
                                                                                },
                                                                                decoration: const InputDecoration(
                                                                                  contentPadding: EdgeInsets
                                                                                      .only(
                                                                                      right: 0,
                                                                                      left: 10,
                                                                                      top: 0.0,
                                                                                      bottom: 0.0),
                                                                                  border: OutlineInputBorder(),
                                                                                  hintText: 'Description',
                                                                                  suffixIcon: Icon(
                                                                                      Icons
                                                                                          .edit_rounded),
                                                                                ),
                                                                              ),

                                                                              SizedBox(
                                                                                height: 5
                                                                                    .h,),
                                                                              Row(
                                                                                mainAxisAlignment: MainAxisAlignment
                                                                                    .start,
                                                                                children: [

                                                                                  Container(
                                                                                    child: TextButton(
                                                                                      onPressed: () async {
                                                                                        if (experienceFormKey
                                                                                            .currentState!
                                                                                            .validate()) {
                                                                                          uploadExperience();
                                                                                        }
                                                                                      },
                                                                                      style: TextButton
                                                                                          .styleFrom(
                                                                                        foregroundColor: Colors
                                                                                            .white,
                                                                                        splashFactory: NoSplash
                                                                                            .splashFactory,
                                                                                        backgroundColor: ColorConstants
                                                                                            .themeBlue, //
                                                                                        // padding: const EdgeInsets.only(top: 10, bottom: 10),
                                                                                      ),
                                                                                      child:
                                                                                      Text(
                                                                                        "Add",
                                                                                        style: TextStyle(
                                                                                            fontSize: 15
                                                                                                .sp),),
                                                                                    ),
                                                                                  ),


                                                                                  SizedBox(
                                                                                    width: 10
                                                                                        .w,),
                                                                                  Container(
                                                                                    child: TextButton(
                                                                                      onPressed: () async {
                                                                                        uploadGalImage =
                                                                                        null;
                                                                                        Navigator
                                                                                            .of(
                                                                                            context)
                                                                                            .pop();
                                                                                      },
                                                                                      style: ButtonStyle(
                                                                                          foregroundColor: MaterialStateProperty
                                                                                              .all<
                                                                                              Color>(
                                                                                              ColorConstants
                                                                                                  .themeBlue),
                                                                                          shape: MaterialStateProperty
                                                                                              .all<
                                                                                              RoundedRectangleBorder>(
                                                                                              RoundedRectangleBorder(
                                                                                                  borderRadius: BorderRadius
                                                                                                      .circular(
                                                                                                      5.0),
                                                                                                  side: BorderSide(
                                                                                                      color: ColorConstants
                                                                                                          .themeBlue)
                                                                                              )
                                                                                          )
                                                                                      ),
                                                                                      child: Text(
                                                                                          "Cancel",
                                                                                          style: TextStyle(
                                                                                              fontSize: 15
                                                                                                  .sp)),
                                                                                    ),
                                                                                  ),


                                                                                ],
                                                                              ),

                                                                            ],
                                                                          ),

                                                                        ),
                                                                      ),
                                                                    )

                                                                );
                                                              }
                                                            );
                                                          });
                                                    },
                                                    style: TextButton.styleFrom(
                                                      foregroundColor: Colors
                                                          .white,
                                                      splashFactory: NoSplash
                                                          .splashFactory,
                                                      backgroundColor: ColorConstants
                                                          .themeBlue,
                                                      // padding: const EdgeInsets.only(top: 10, bottom: 10),
                                                    ),
                                                    child: Text(
                                                        "+ Add Experience",
                                                        style: TextStyle(
                                                            fontSize: 20.sp)),
                                                  ),
                                                ),
                                              ],
                                            ),
                                          ),
                                          Container(
                                            margin: EdgeInsets.all(10.0),
                                            decoration: BoxDecoration(
                                              color: Colors.white,
                                              borderRadius: BorderRadius.all(
                                                Radius.circular(10.0),
                                              ),
                                            ),
                                            child: Column(
                                              children: [
                                                Container(
                                                  margin: EdgeInsets.only(
                                                      left: 5.w,
                                                      top: 5.h,
                                                      right: 5.w),
                                                  child: Row(
                                                    mainAxisAlignment: MainAxisAlignment
                                                        .spaceBetween,
                                                    children: [
                                                      Row(
                                                        crossAxisAlignment: CrossAxisAlignment
                                                            .center,
                                                        children: [
                                                          Icon(
                                                            Icons
                                                                .work_outline_rounded,
                                                            size: 23.sp,
                                                          ),
                                                          SizedBox(
                                                            width: 5.w,
                                                          ),
                                                          Text(
                                                            "Education",
                                                            textScaleFactor: 1.0,
                                                            style: TextStyle(
                                                                fontSize: 20.sp
                                                            ),
                                                          ),
                                                        ],
                                                      ),
                                                      InkWell(
                                                        onTap: () {
                                                          setState(() {
                                                            if (showEducationEdit ==
                                                                false) {
                                                              showEducationEdit =
                                                              true;
                                                            } else {
                                                              showEducationEdit =
                                                              false;
                                                            }
                                                          });
                                                        },
                                                        child: Icon(
                                                          Icons.edit_rounded,
                                                          color: showEducationEdit ==
                                                              true
                                                              ? ColorConstants
                                                              .themeBlue
                                                              : Colors
                                                              .grey,
                                                          size: 23.sp,
                                                        ),
                                                      ),
                                                    ],
                                                  ),
                                                ),
                                                SizedBox(
                                                  height: 5.h,
                                                ),
                                                (user.education.isNotEmpty) ?
                                                Container(
                                                    padding:
                                                    EdgeInsets.all(10),
                                                    child: SingleChildScrollView(
                                                      child: Column(
                                                        crossAxisAlignment:
                                                        CrossAxisAlignment
                                                            .start,
                                                        children: [
                                                          for (int i = 0; i <
                                                              user.education
                                                                  .length; i++)
                                                            Container(
                                                              child: Column(
                                                                crossAxisAlignment:
                                                                CrossAxisAlignment
                                                                    .start,
                                                                children: [
                                                                  Container(
                                                                    padding: EdgeInsets
                                                                        .all(
                                                                        10),
                                                                    child: Row(
                                                                      mainAxisAlignment: MainAxisAlignment
                                                                          .spaceBetween,
                                                                      children: [
                                                                        Row(
                                                                          crossAxisAlignment:
                                                                          CrossAxisAlignment
                                                                              .start,
                                                                          children: [
                                                                            Container(

                                                                              height: 50
                                                                                  .h,
                                                                              width: 50
                                                                                  .w,
                                                                              margin: EdgeInsets
                                                                                  .only(
                                                                                  left:
                                                                                  10
                                                                                      .w,
                                                                                  right:
                                                                                  20
                                                                                      .w),
                                                                              // padding: EdgeInsets.only(left:5.w, right:5.w),
                                                                              decoration: new BoxDecoration(
                                                                                // color: Colors
                                                                                //     .black,
                                                                                 shape: BoxShape.circle,
                                                                              ),

                                                                              child: Image.asset(
                                                                                'assets/images/educationLogo.jpeg',
                                                                                // width: 100.w,
                                                                                // height: 100.h,
                                                                                fit:BoxFit.cover,
                                                                              ),


                                                                            ),
                                                                            Column(
                                                                              crossAxisAlignment: CrossAxisAlignment.start,
                                                                              children: [
                                                                                Text(user
                                                                                      .education[i]['title']
                                                                                      .toString(),
                                                                                  style: TextStyle(
                                                                                      fontWeight: FontWeight
                                                                                          .bold),),
                                                                                Text(
                                                                                    user
                                                                                        .education[i]['educationFrom']
                                                                                        .toString()),
                                                                                Text(
                                                                                    user
                                                                                        .education[i]['completedIn']
                                                                                        .toString()),
                                                                              ],
                                                                            ),
                                                                          ],
                                                                        ),
                                                                        Visibility(
                                                                          visible: showEducationEdit,
                                                                          child: Row(
                                                                            children: [
                                                                              InkWell(
                                                                                // onTap: () {
                                                                                //   showDialog<
                                                                                //       void>(
                                                                                //       context: context,
                                                                                //       builder: (
                                                                                //           BuildContext bc) {
                                                                                //         return
                                                                                //           AlertDialog(
                                                                                //             contentPadding: EdgeInsets
                                                                                //                 .all(
                                                                                //                 10),
                                                                                //             title: Text(
                                                                                //               'Edit Education',
                                                                                //               textAlign: TextAlign
                                                                                //                   .center,
                                                                                //               style: TextStyle(
                                                                                //                   color: ColorConstants
                                                                                //                       .themeBlue),
                                                                                //             ),
                                                                                //             titleTextStyle: TextStyle(
                                                                                //               fontSize: 16.0,
                                                                                //               color: Colors
                                                                                //                   .blue,
                                                                                //               fontWeight: FontWeight
                                                                                //                   .w700,
                                                                                //             ),
                                                                                //             shape: RoundedRectangleBorder(
                                                                                //               borderRadius: BorderRadius
                                                                                //                   .circular(
                                                                                //                   8.0),
                                                                                //             ),
                                                                                //             content: StatefulBuilder(
                                                                                //                 builder: (
                                                                                //                     BuildContext context,
                                                                                //                     StateSetter setState) {
                                                                                //                   return
                                                                                //                     Form(
                                                                                //                       key: educationFormKey,
                                                                                //                       child: Column(
                                                                                //                         mainAxisSize: MainAxisSize
                                                                                //                             .min,
                                                                                //                         crossAxisAlignment: CrossAxisAlignment
                                                                                //                             .center,
                                                                                //                         children: <
                                                                                //                             Widget>[
                                                                                //
                                                                                //                           Container(
                                                                                //                             padding: const EdgeInsets
                                                                                //                                 .only(
                                                                                //                                 top: 5.0,
                                                                                //                                 bottom: 5.0,
                                                                                //                                 left: 0,
                                                                                //                                 right: 10),
                                                                                //                             decoration: BoxDecoration(
                                                                                //                                 color: Colors
                                                                                //                                     .grey
                                                                                //                                     .shade200,
                                                                                //                                 borderRadius: BorderRadius
                                                                                //                                     .circular(
                                                                                //                                     10)
                                                                                //                             ),
                                                                                //                             child: DropdownButton2(
                                                                                //                               dropdownStyleData: DropdownStyleData(
                                                                                //                                   useSafeArea: false,
                                                                                //                                   offset: Offset(
                                                                                //                                       5,
                                                                                //                                       -10),
                                                                                //                                   decoration: BoxDecoration(
                                                                                //                                       borderRadius: BorderRadius
                                                                                //                                           .circular(
                                                                                //                                           10))
                                                                                //                               ),
                                                                                //                               underline: Container(),
                                                                                //                               isExpanded: true,
                                                                                //                               // value: awardType,
                                                                                //                               style: TextStyle(
                                                                                //                                   color: Colors
                                                                                //                                       .black54,
                                                                                //                                   fontSize: 15),
                                                                                //                               hint: Text(
                                                                                //                                 "Education type",
                                                                                //                                 style: TextStyle(
                                                                                //                                   color: Colors
                                                                                //                                       .grey
                                                                                //                                       .shade600,
                                                                                //                                   fontSize: 15,
                                                                                //                                 ),
                                                                                //                               ),
                                                                                //                               items: <
                                                                                //                                   String>[
                                                                                //                                 // '1','2','3',
                                                                                //                                 'University',
                                                                                //                                 'College',
                                                                                //                                 'School',
                                                                                //                               ]
                                                                                //                                   .map<
                                                                                //                                   DropdownMenuItem<
                                                                                //                                       String>>((
                                                                                //                                   String value) {
                                                                                //                                 return DropdownMenuItem<
                                                                                //                                     String>(
                                                                                //                                   value: value,
                                                                                //                                   child: Text(
                                                                                //                                     value,
                                                                                //                                     style: TextStyle(
                                                                                //                                         color: Colors
                                                                                //                                             .black),),
                                                                                //                                 );
                                                                                //                               })
                                                                                //                                   .toList(),
                                                                                //
                                                                                //                               onChanged: (
                                                                                //                                   newVal) {
                                                                                //                                 setState(() {
                                                                                //                                   educationDropdownvalue =
                                                                                //                                       newVal;
                                                                                //                                   // if(educationDropdownvalue == 'University'){
                                                                                //                                   //   educationDropdownvalue = 1;
                                                                                //                                   // } else if(educationDropdownvalue == 'College'){
                                                                                //                                   //   educationDropdownvalue = 2;
                                                                                //                                   // }else if(educationDropdownvalue == 'School'){
                                                                                //                                   //   educationDropdownvalue = 3;
                                                                                //                                   // }
                                                                                //                                 });
                                                                                //                               },
                                                                                //                               value: educationDropdownvalue,
                                                                                //                             ),
                                                                                //                           ),
                                                                                //                           SizedBox(
                                                                                //                             height: 10
                                                                                //                                 .h,),
                                                                                //                           TextFormField(
                                                                                //                             autovalidateMode:AutovalidateMode.onUserInteraction,
                                                                                //                             onFieldSubmitted: (_) => FocusScope.of(context).nextFocus() ,
                                                                                //                             controller: educationController
                                                                                //                               ..text = user
                                                                                //                                   .education[i]['title']
                                                                                //                                   .toString(),
                                                                                //                             // initialValue: name,
                                                                                //                             // focusNode: _nodeFullname,
                                                                                //                             keyboardType: TextInputType
                                                                                //                                 .text,
                                                                                //                             validator: (
                                                                                //                                 value) {
                                                                                //                               if (value!
                                                                                //                                   .isEmpty) {
                                                                                //                                 return "The Education field is required";
                                                                                //                               }
                                                                                //                               // else if (value.length <= 10) {
                                                                                //                               //   return "Describe yourself in greater than 10 words";
                                                                                //                               // }
                                                                                //                               else
                                                                                //                                 return null;
                                                                                //                             },
                                                                                //                             decoration: InputDecoration(
                                                                                //                               filled: true,
                                                                                //                               //<-- SEE HERE
                                                                                //                               fillColor: Colors
                                                                                //                                   .grey
                                                                                //                                   .shade200,
                                                                                //                               border: OutlineInputBorder(
                                                                                //                                   borderSide: BorderSide
                                                                                //                                       .none,
                                                                                //                                   borderRadius: BorderRadius
                                                                                //                                       .circular(
                                                                                //                                       10),
                                                                                //                               ),
                                                                                //                               labelText: 'Education',
                                                                                //                             ),
                                                                                //                             textInputAction: TextInputAction
                                                                                //                                 .next,
                                                                                //                             onEditingComplete: (){
                                                                                //                               // FocusScope.of(context).requestFocus(_nodePassword);
                                                                                //                             },
                                                                                //                           ),
                                                                                //                           SizedBox(
                                                                                //                             height: 10
                                                                                //                                 .h,),
                                                                                //                           TextFormField(
                                                                                //                           onChanged: (_) => FocusScope.of(context).nextFocus(),
                                                                                //                             autovalidateMode: AutovalidateMode.onUserInteraction,
                                                                                //                             controller: educationFromController
                                                                                //                               .. text = user
                                                                                //                                   .education[i]['educationFrom']
                                                                                //                                   .toString(),
                                                                                //                             // initialValue: name,
                                                                                //                             // focusNode: _nodeFullname,
                                                                                //                             keyboardType: TextInputType
                                                                                //                                 .text,
                                                                                //                             validator: (
                                                                                //                                 value) {
                                                                                //                               if (value!
                                                                                //                                   .isEmpty) {
                                                                                //                                 return "Field is required";
                                                                                //                               }
                                                                                //                               // else if (value.length <= 10) {
                                                                                //                               //   return "Describe yourself in greater than 10 words";
                                                                                //                               // }
                                                                                //                               else
                                                                                //                                 return null;
                                                                                //                             },
                                                                                //                             decoration: InputDecoration(
                                                                                //                               filled: true,
                                                                                //                               //<-- SEE HERE
                                                                                //                               fillColor: Colors
                                                                                //                                   .grey
                                                                                //                                   .shade200,
                                                                                //                               border: OutlineInputBorder(
                                                                                //                                   borderSide: BorderSide
                                                                                //                                       .none,
                                                                                //                                   borderRadius: BorderRadius
                                                                                //                                       .circular(
                                                                                //                                       10)
                                                                                //                               ),
                                                                                //                               labelText: 'From which School/College/Institute/University?',
                                                                                //                             ),
                                                                                //                             // textInputAction: TextInputAction
                                                                                //                             //     .next,
                                                                                //                             onEditingComplete: () {
                                                                                //                               // FocusScope.of(context).requestFocus(_nodePassword);
                                                                                //                             },
                                                                                //                           ),
                                                                                //                           SizedBox(
                                                                                //                             height: 10
                                                                                //                                 .h,),
                                                                                //                           TextFormField(
                                                                                //                             controller: educationDateController
                                                                                //                               ..text = user
                                                                                //                                   .education[i]['completedIn']
                                                                                //                                   .toString(),
                                                                                //                             validator:(
                                                                                //                                 value){
                                                                                //                               if (value!
                                                                                //                                   .isEmpty){
                                                                                //                                 return "The when feild is required";
                                                                                //                                 }
                                                                                //                               // else if (value.length <= 10) {
                                                                                //                               //   return "Describe yourself in greater than 10 words";
                                                                                //                               // }
                                                                                //                               else
                                                                                //                                 return null;
                                                                                //                             },
                                                                                //
                                                                                //                             //editing controller of this TextField
                                                                                //                             decoration: InputDecoration(
                                                                                //
                                                                                //                                 filled: true,
                                                                                //
                                                                                //                                 fillColor: Colors
                                                                                //                                     .grey
                                                                                //                                     .shade200,
                                                                                //                                 border: OutlineInputBorder(
                                                                                //                                     borderSide: BorderSide
                                                                                //                                         .none,
                                                                                //                                     borderRadius: BorderRadius
                                                                                //                                         .circular(
                                                                                //                                         10)
                                                                                //                                 ),
                                                                                //
                                                                                //                                 labelText: 'Enter Date',
                                                                                //
                                                                                //                                 hintText: 'Enter Date',
                                                                                //                                 suffixIcon: Icon(
                                                                                //                                     Icons
                                                                                //                                         .calendar_month_rounded)
                                                                                //
                                                                                //                             ),
                                                                                //
                                                                                //                             readOnly: true,
                                                                                //                             //set it true, so that user will not able to edit text
                                                                                //                             onTap: () async {
                                                                                //                               DateTime? pickedDate = await showDatePicker(
                                                                                //                                   context: context,
                                                                                //                                   initialDate: DateTime
                                                                                //                                       .now(),
                                                                                //                                   firstDate: DateTime(
                                                                                //                                       2000),
                                                                                //                                   //DateTime.now() - not to allow to choose before today.
                                                                                //                                   lastDate: DateTime(
                                                                                //                                       2101)
                                                                                //                               );
                                                                                //
                                                                                //                               if (pickedDate !=
                                                                                //                                   null) {
                                                                                //                                 print(
                                                                                //                                     pickedDate); //pickedDate output format => 2021-03-10 00:00:00.000
                                                                                //                                 String formattedDate = DateFormat(
                                                                                //                                     'dd-MM-yyyy')
                                                                                //                                     .format(
                                                                                //                                     pickedDate);
                                                                                //                                 print(
                                                                                //                                     formattedDate); //formatted date output using intl package =>  2021-03-16
                                                                                //                                 //you can implement different kind of Date Format here according to your requirement
                                                                                //
                                                                                //                                 setState(() {
                                                                                //                                   educationDateController
                                                                                //                                       .text =
                                                                                //                                       formattedDate; //set output date to TextField value.
                                                                                //                                 });
                                                                                //                               } else {
                                                                                //                                 print(
                                                                                //                                     "Date is not selected");
                                                                                //                               }
                                                                                //                             },
                                                                                //                           ),
                                                                                //
                                                                                //                           SizedBox(
                                                                                //                             height: 5
                                                                                //                                 .h,),
                                                                                //                           Row(
                                                                                //                             mainAxisAlignment: MainAxisAlignment
                                                                                //                                 .center,
                                                                                //                             children: [
                                                                                //
                                                                                //                               Expanded(
                                                                                //                                 child: Container(
                                                                                //                                   child: TextButton(
                                                                                //                                     onPressed: () async {
                                                                                //                                       Navigator
                                                                                //                                           .of(
                                                                                //                                           context)
                                                                                //                                           .pop();
                                                                                //                                     },
                                                                                //                                     style: ButtonStyle(
                                                                                //
                                                                                //                                         foregroundColor: MaterialStateProperty
                                                                                //                                             .all<
                                                                                //                                             Color>(
                                                                                //                                             ColorConstants
                                                                                //                                                 .themeBlue),
                                                                                //                                         shape: MaterialStateProperty
                                                                                //                                             .all<
                                                                                //                                             RoundedRectangleBorder>(
                                                                                //                                             RoundedRectangleBorder(
                                                                                //                                                 borderRadius: BorderRadius
                                                                                //                                                     .circular(
                                                                                //                                                     5.0),
                                                                                //                                                 side: BorderSide(
                                                                                //                                                     color: ColorConstants
                                                                                //                                                         .themeBlue)
                                                                                //                                             )
                                                                                //                                         )
                                                                                //                                     ),
                                                                                //                                     child: Text(
                                                                                //                                         "Cancel",
                                                                                //                                         style: TextStyle(
                                                                                //                                             fontSize: 20
                                                                                //                                                 .sp)),
                                                                                //                                   ),
                                                                                //                                 ),
                                                                                //                               ),
                                                                                //                               SizedBox(
                                                                                //                                 width: 10
                                                                                //                                     .w,),
                                                                                //                               Expanded(
                                                                                //                                 child: Container(
                                                                                //                                   child: TextButton(
                                                                                //                                     onPressed: () async {
                                                                                //                                       if (educationFormKey
                                                                                //                                           .currentState!
                                                                                //                                           .validate()) {
                                                                                //                                         editEducation(
                                                                                //                                             user
                                                                                //                                                 .education[i]['educationId']);
                                                                                //                                       }
                                                                                //                                     },
                                                                                //                                     style: TextButton
                                                                                //                                         .styleFrom(
                                                                                //                                       foregroundColor: Colors
                                                                                //                                           .white, splashFactory: NoSplash
                                                                                //                                           .splashFactory,
                                                                                //                                       backgroundColor: ColorConstants
                                                                                //                                           .themeBlue, //
                                                                                //                                       // padding: const EdgeInsets.only(top: 10, bottom: 10),
                                                                                //                                     ),
                                                                                //                                     child:
                                                                                //                                     Text(
                                                                                //                                         "Update",
                                                                                //                                         style: TextStyle(
                                                                                //                                             fontSize: 20
                                                                                //                                                 .sp)),
                                                                                //                                   ),
                                                                                //                                 ),
                                                                                //                               ),
                                                                                //
                                                                                //                             ],
                                                                                //                           ),
                                                                                //
                                                                                //                         ],
                                                                                //                       ),
                                                                                //                     );
                                                                                //                 }
                                                                                //             ),
                                                                                //
                                                                                //           );
                                                                                //       }
                                                                                //   );
                                                                                // },
                                                                                onTap: () {
                                                                                  showModalBottomSheet(
                                                                                      showDragHandle: true,
                                                                                      isScrollControlled: true,
                                                                                      shape: RoundedRectangleBorder(
                                                                                        borderRadius: BorderRadius
                                                                                            .vertical(
                                                                                          top: Radius
                                                                                              .circular(
                                                                                              20),
                                                                                        ),
                                                                                      ),
                                                                                      context: context,
                                                                                      builder: (
                                                                                          context) {
                                                                                        return StatefulBuilder(
                                                                                        builder: (BuildContext context, void Function(void Function()) setState) {
                                                                                          return SingleChildScrollView(
                                                                                            child: Padding(
                                                                                              padding: EdgeInsets
                                                                                                  .only(
                                                                                                bottom: MediaQuery
                                                                                                    .of(
                                                                                                    context)
                                                                                                    .viewInsets
                                                                                                    .bottom,
                                                                                              ),
                                                                                              child: Container(
                                                                                                margin: EdgeInsets
                                                                                                    .symmetric(
                                                                                                    horizontal: 20
                                                                                                        .w),
                                                                                                child: Form(
                                                                                                  key: educationFormKey,
                                                                                                  child: Column(
                                                                                                    mainAxisSize: MainAxisSize
                                                                                                        .min,
                                                                                                    crossAxisAlignment: CrossAxisAlignment
                                                                                                        .center,
                                                                                                    children: <
                                                                                                        Widget>[
                                                                                                      Container(
                                                                                                        height: 40
                                                                                                            .h,
                                                                                                        padding: const EdgeInsets
                                                                                                            .only(
                                                                                                            left: 0,
                                                                                                            right: 10),
                                                                                                        decoration: BoxDecoration(
                                                                                                            border: Border
                                                                                                                .all(
                                                                                                                color: Colors
                                                                                                                    .grey),
                                                                                                            borderRadius: BorderRadius
                                                                                                                .circular(
                                                                                                                5)
                                                                                                        ),
                                                                                                        child: DropdownButton2(
                                                                                                          dropdownStyleData: DropdownStyleData(
                                                                                                              useSafeArea: false,
                                                                                                              offset: Offset(
                                                                                                                  5,
                                                                                                                  -10),
                                                                                                              decoration: BoxDecoration(
                                                                                                                  borderRadius: BorderRadius
                                                                                                                      .circular(
                                                                                                                      10))
                                                                                                          ),
                                                                                                          underline: Container(),
                                                                                                          isExpanded: true,
                                                                                                          // value: awardType,
                                                                                                          style: TextStyle(
                                                                                                              color: Colors
                                                                                                                  .black54,
                                                                                                              fontSize: 15),
                                                                                                          hint: Text(
                                                                                                            "Education type",
                                                                                                            style: TextStyle(
                                                                                                              color: Colors
                                                                                                                  .grey
                                                                                                                  .shade600,
                                                                                                              fontSize: 15,
                                                                                                            ),
                                                                                                          ),
                                                                                                          items: <
                                                                                                              String>[
                                                                                                            // '1','2','3',
                                                                                                            'University',
                                                                                                            'College',
                                                                                                            'School',
                                                                                                          ]
                                                                                                              .map<
                                                                                                              DropdownMenuItem<
                                                                                                                  String>>((
                                                                                                              String value) {
                                                                                                            return DropdownMenuItem<
                                                                                                                String>(
                                                                                                              value: value,
                                                                                                              child: Text(
                                                                                                                value,
                                                                                                                style: TextStyle(
                                                                                                                    color: Colors
                                                                                                                        .black),),
                                                                                                            );
                                                                                                          })
                                                                                                              .toList(),

                                                                                                          onChanged: (
                                                                                                              newVal) {
                                                                                                            setState(() {
                                                                                                              educationDropdownvalue =
                                                                                                                  newVal;
                                                                                                              // if(educationDropdownvalue == 'University'){
                                                                                                              //   educationDropdownvalue = 1;
                                                                                                              // } else if(educationDropdownvalue == 'College'){
                                                                                                              //   educationDropdownvalue = 2;
                                                                                                              // }else if(educationDropdownvalue == 'School'){
                                                                                                              //   educationDropdownvalue = 3;
                                                                                                              // }
                                                                                                            });
                                                                                                          },
                                                                                                          value: educationDropdownvalue,
                                                                                                        ),
                                                                                                      ),
                                                                                                      SizedBox(
                                                                                                        height: 10
                                                                                                            .h,),
                                                                                                      TextFormField(
                                                                                                        autovalidateMode: AutovalidateMode
                                                                                                            .onUserInteraction,
                                                                                                        controller: educationController
                                                                                                          ..text = user
                                                                                                              .education[i]['title']
                                                                                                              .toString(),
                                                                                                        // initialValue: name,
                                                                                                        // focusNode: _nodeFullname,
                                                                                                        keyboardType: TextInputType
                                                                                                            .text,
                                                                                                        validator: (
                                                                                                            value) {
                                                                                                          if (value!
                                                                                                              .isEmpty) {
                                                                                                            return "The Education field is required";
                                                                                                          }
                                                                                                          // else if (value.length <= 10) {
                                                                                                          //   return "Describe yourself in greater than 10 words";
                                                                                                          // }
                                                                                                          else
                                                                                                            return null;
                                                                                                        },
                                                                                                        decoration: InputDecoration(
                                                                                                          contentPadding: EdgeInsets
                                                                                                              .only(
                                                                                                              right: 0,
                                                                                                              left: 10,
                                                                                                              top: 0.0,
                                                                                                              bottom: 0.0),
                                                                                                          hintText: 'Education',
                                                                                                          border: OutlineInputBorder(),
                                                                                                        ),
                                                                                                        textInputAction: TextInputAction
                                                                                                            .next,
                                                                                                        onEditingComplete: () {
                                                                                                          // FocusScope.of(context).requestFocus(_nodePassword);
                                                                                                        },
                                                                                                      ),
                                                                                                      SizedBox(
                                                                                                        height: 10
                                                                                                            .h,),

                                                                                                      TextFormField(
                                                                                                        autovalidateMode: AutovalidateMode
                                                                                                            .onUserInteraction,

                                                                                                        controller: educationFromController
                                                                                                          ..text = user
                                                                                                              .education[i]['educationFrom']
                                                                                                              .toString(),
                                                                                                        keyboardType: TextInputType
                                                                                                            .text,
                                                                                                        validator: (
                                                                                                            value) {
                                                                                                          if (value!
                                                                                                              .isEmpty) {
                                                                                                            return "Field is required";
                                                                                                          }
                                                                                                          // else if (value.length <= 10) {
                                                                                                          //   return "Describe yourself in greater than 10 words";
                                                                                                          // }
                                                                                                          else
                                                                                                            return null;
                                                                                                        },
                                                                                                        decoration: InputDecoration(
                                                                                                          contentPadding: EdgeInsets
                                                                                                              .only(
                                                                                                              right: 0,
                                                                                                              left: 10,
                                                                                                              top: 0.0,
                                                                                                              bottom: 0.0),
                                                                                                          hintText: 'From which School/College/Institute/University?',
                                                                                                          border: OutlineInputBorder(),
                                                                                                        ),
                                                                                                        textInputAction: TextInputAction
                                                                                                            .next,
                                                                                                        onEditingComplete: () {
                                                                                                          // FocusScope.of(context).requestFocus(_nodePassword);
                                                                                                        },
                                                                                                      ),
                                                                                                      SizedBox(
                                                                                                        height: 10
                                                                                                            .h,),
                                                                                                      TextFormField(
                                                                                                        autovalidateMode: AutovalidateMode
                                                                                                            .onUserInteraction,
                                                                                                        controller: educationDateController
                                                                                                          ..text = user
                                                                                                              .education[i]['completedIn']
                                                                                                              .toString(),
                                                                                                        validator: (
                                                                                                            value) {
                                                                                                          if (value!
                                                                                                              .isEmpty) {
                                                                                                            return "The when feild is required";
                                                                                                          }
                                                                                                          // else if (value.length <= 10) {
                                                                                                          //   return "Describe yourself in greater than 10 words";
                                                                                                          // }
                                                                                                          else
                                                                                                            return null;
                                                                                                        },

                                                                                                        //editing controller of this TextField
                                                                                                        decoration: const InputDecoration(
                                                                                                            contentPadding: EdgeInsets
                                                                                                                .only(
                                                                                                                right: 0,
                                                                                                                left: 10,
                                                                                                                top: 0.0,
                                                                                                                bottom: 0.0),
                                                                                                            border: OutlineInputBorder(),

                                                                                                            hintText: 'Enter Date',
                                                                                                            suffixIcon: Icon(
                                                                                                                Icons
                                                                                                                    .calendar_month_rounded)

                                                                                                        ),

                                                                                                        readOnly: true,
                                                                                                        //set it true, so that user will not able to edit text
                                                                                                        onTap: () async {
                                                                                                          DateTime? pickedDate = await showDatePicker(
                                                                                                              context: context,
                                                                                                              initialDate: DateTime
                                                                                                                  .now(),
                                                                                                              firstDate: DateTime(
                                                                                                                  2000),
                                                                                                              //DateTime.now() - not to allow to choose before today.
                                                                                                              lastDate: DateTime(
                                                                                                                  2101)
                                                                                                          );

                                                                                                          if (pickedDate !=
                                                                                                              null) {
                                                                                                            print(
                                                                                                                pickedDate); //pickedDate output format => 2021-03-10 00:00:00.000
                                                                                                            String formattedDate = DateFormat(
                                                                                                                'dd-MM-yyyy')
                                                                                                                .format(
                                                                                                                pickedDate);
                                                                                                            print(
                                                                                                                formattedDate); //formatted date output using intl package =>  2021-03-16
                                                                                                            //you can implement different kind of Date Format here according to your requirement

                                                                                                            setState(() {
                                                                                                              educationDateController
                                                                                                                  .text =
                                                                                                                  formattedDate; //set output date to TextField value.
                                                                                                            });
                                                                                                          } else {
                                                                                                            print(
                                                                                                                "Date is not selected");
                                                                                                          }
                                                                                                        },
                                                                                                      ),

                                                                                                      SizedBox(
                                                                                                        height: 10
                                                                                                            .h,),
                                                                                                      Row(
                                                                                                        mainAxisAlignment: MainAxisAlignment
                                                                                                            .start,
                                                                                                        children: [

                                                                                                          Container(
                                                                                                            child: TextButton(
                                                                                                              onPressed: () async {
                                                                                                                if (educationFormKey
                                                                                                                    .currentState!
                                                                                                                    .validate()) {
                                                                                                                  uploadEducation();
                                                                                                                }
                                                                                                              },
                                                                                                              style: TextButton
                                                                                                                  .styleFrom(
                                                                                                                foregroundColor: Colors
                                                                                                                    .white,
                                                                                                                splashFactory: NoSplash
                                                                                                                    .splashFactory,
                                                                                                                backgroundColor: ColorConstants
                                                                                                                    .themeBlue, //
                                                                                                                // padding: const EdgeInsets.only(top: 10, bottom: 10),
                                                                                                              ),
                                                                                                              child:
                                                                                                              Text(
                                                                                                                  "Update",
                                                                                                                  style: TextStyle(
                                                                                                                      fontSize: 15
                                                                                                                          .sp)),
                                                                                                            ),
                                                                                                          ),
                                                                                                          SizedBox(
                                                                                                            width: 10
                                                                                                                .w,),

                                                                                                          Container(
                                                                                                            child: TextButton(
                                                                                                              onPressed: () async {
                                                                                                                uploadGalImage =
                                                                                                                null;
                                                                                                                Navigator
                                                                                                                    .of(
                                                                                                                    context)
                                                                                                                    .pop();
                                                                                                              },
                                                                                                              style: ButtonStyle(
                                                                                                                  foregroundColor: MaterialStateProperty
                                                                                                                      .all<
                                                                                                                      Color>(
                                                                                                                      ColorConstants
                                                                                                                          .themeBlue),
                                                                                                                  shape: MaterialStateProperty
                                                                                                                      .all<
                                                                                                                      RoundedRectangleBorder>(
                                                                                                                      RoundedRectangleBorder(
                                                                                                                          borderRadius: BorderRadius
                                                                                                                              .circular(
                                                                                                                              5.0),
                                                                                                                          side: BorderSide(
                                                                                                                              color: ColorConstants
                                                                                                                                  .themeBlue)
                                                                                                                      )
                                                                                                                  )
                                                                                                              ),
                                                                                                              child: Text(
                                                                                                                  "Cancel",
                                                                                                                  style: TextStyle(
                                                                                                                      fontSize: 15
                                                                                                                          .sp)),
                                                                                                            ),
                                                                                                          ),

                                                                                                        ],
                                                                                                      ),

                                                                                                    ],
                                                                                                  ),
                                                                                                ),
                                                                                              ),
                                                                                            ),

                                                                                          );

                                                                                        }
                                                                                        );
                                                                                      });
                                                                                },
                                                                                child: Icon(
                                                                                  Icons
                                                                                      .edit_rounded,
                                                                                  size: 20
                                                                                      .sp,
                                                                                  color: Colors
                                                                                      .grey,),
                                                                              ),
                                                                              SizedBox(
                                                                                width: 10
                                                                                    .w,),
                                                                              InkWell(
                                                                                onTap: () {
                                                                                  showDialog<
                                                                                      void>(
                                                                                      context: context,
                                                                                      barrierDismissible: false,

                                                                                      builder: (
                                                                                          BuildContext context) {
                                                                                        return
                                                                                          AlertDialog(
                                                                                            contentPadding: const EdgeInsets
                                                                                                .symmetric(
                                                                                                horizontal: 15,
                                                                                                vertical:
                                                                                                10),
                                                                                            title: const Text(
                                                                                              'Delete Education',
                                                                                              textAlign: TextAlign
                                                                                                  .center,
                                                                                              style: TextStyle(
                                                                                                  color: ColorConstants
                                                                                                      .themeBlue),
                                                                                            ),
                                                                                            titleTextStyle: const TextStyle(
                                                                                              fontSize: 16.0,
                                                                                              color: Colors
                                                                                                  .blue,
                                                                                              fontWeight: FontWeight
                                                                                                  .w700,
                                                                                            ),
                                                                                            shape: RoundedRectangleBorder(
                                                                                              borderRadius: BorderRadius
                                                                                                  .circular(
                                                                                                  8.0),
                                                                                            ),
                                                                                            content: Column(
                                                                                              mainAxisSize: MainAxisSize.min,

                                                                                              children: <
                                                                                                  Widget>[
                                                                                                const Text(
                                                                                                    'Are you sure you want to remove this record ?'),
                                                                                                SizedBox(
                                                                                                  height: 10
                                                                                                      .h,),
                                                                                                Row(
                                                                                                  mainAxisAlignment: MainAxisAlignment
                                                                                                      .center,
                                                                                                  children: [
                                                                                                    Container(
                                                                                                      child: TextButton(
                                                                                                        onPressed: () async {
                                                                                                          Navigator
                                                                                                              .of(
                                                                                                              context)
                                                                                                              .pop();
                                                                                                        },

                                                                                                        style: ButtonStyle(

                                                                                                            foregroundColor: MaterialStateProperty
                                                                                                                .all<

                                                                                                                Color>(

                                                                                                                ColorConstants

                                                                                                                    .themeBlue),

                                                                                                            shape: MaterialStateProperty

                                                                                                                .all<

                                                                                                                RoundedRectangleBorder>(

                                                                                                                RoundedRectangleBorder(

                                                                                                                    borderRadius: BorderRadius

                                                                                                                        .circular(

                                                                                                                        5.0),

                                                                                                                    side: const BorderSide(

                                                                                                                        color: ColorConstants

                                                                                                                            .themeBlue),

                                                                                                                )

                                                                                                            )
                                                                                                        ),


                                                                                                        child: Text(
                                                                                                            "Cancel",
                                                                                                            style: TextStyle(
                                                                                                                fontSize: 15.sp)),
                                                                                                      ),
                                                                                                    ),



                                                                                                    SizedBox(width: 10.w,),

                                                                                                    Container(
                                                                                                      child: TextButton(
                                                                                                        onPressed: () async {
                                                                                                          deleteEducation(user
                                                                                                              .education[i]['educationId'].toString());
                                                                                                          },
                                                                                                        style: TextButton
                                                                                                            .styleFrom(
                                                                                                          foregroundColor: Colors
                                                                                                              .white,
                                                                                                          splashFactory: NoSplash
                                                                                                              .splashFactory,
                                                                                                          backgroundColor: ColorConstants
                                                                                                              .themeBlue, //
                                                                                                          // padding: const EdgeInsets.only(top: 10, bottom: 10),
                                                                                                        ),
                                                                                                        child: Text(
                                                                                                            "OK",
                                                                                                            style: TextStyle(
                                                                                                                fontSize: 15
                                                                                                                    .sp)),
                                                                                                      ),
                                                                                                    ),
                                                                                                  ],
                                                                                                ),

                                                                                              ],
                                                                                            ),

                                                                                          );
                                                                                      }
                                                                                  );
                                                                                },
                                                                                child: const Icon(
                                                                                  Icons
                                                                                      .delete_outline_rounded,
                                                                                  color: Colors
                                                                                      .grey,),
                                                                              ),
                                                                            ],
                                                                          ),
                                                                        )
                                                                      ],
                                                                    ),


                                                                  ),
                                                                  (user
                                                                      .education
                                                                      .length !=
                                                                      i + 1)
                                                                      ?
                                                                  const Divider(
                                                                    color: ColorConstants
                                                                        .dividerGrey,
                                                                    height: 0,
                                                                    thickness: 1,
                                                                    indent: 10.0,
                                                                    endIndent: 10.0,
                                                                  )
                                                                      : Container()

                                                                ],
                                                              ),
                                                            ),
                                                        ],
                                                      ),
                                                    ))
                                                    : const Center(
                                                  child: Text(
                                                      "No Data Found"),),
                                                SizedBox(
                                                  height: 5.h,
                                                ),
                                                Container(
                                                  margin: EdgeInsets.only(
                                                      right: 20.w, left: 20.w),
                                                  width: double.infinity,
                                                  // alignment: Alignment.bottomLeft,
                                                  child: TextButton(
                                                    onPressed: () async {
                                                      showModalBottomSheet(
                                                          showDragHandle: true,
                                                          isScrollControlled: true,
                                                          shape: const RoundedRectangleBorder(
                                                            borderRadius: BorderRadius
                                                                .vertical(
                                                              top: Radius
                                                                  .circular(
                                                                  20),
                                                            ),
                                                          ),
                                                          context: context,
                                                          builder: (context) {
                                                            return StatefulBuilder(
                                                            builder: (BuildContext context, void Function(void Function()) setState) {
                                                              return SingleChildScrollView(
                                                                child: Padding(
                                                                  padding: EdgeInsets
                                                                      .only(
                                                                    bottom: MediaQuery
                                                                        .of(
                                                                        context)
                                                                        .viewInsets
                                                                        .bottom,
                                                                  ),
                                                                  child: Container(
                                                                    margin: EdgeInsets
                                                                        .symmetric(
                                                                        horizontal: 20
                                                                            .w),
                                                                    child: Form(
                                                                      key: educationFormKey,
                                                                      child: Column(
                                                                        mainAxisSize: MainAxisSize
                                                                            .min,
                                                                        crossAxisAlignment: CrossAxisAlignment
                                                                            .center,
                                                                        children: <
                                                                            Widget>[
                                                                          Container(
                                                                            height: 40.h,

                                                                            padding: const EdgeInsets
                                                                                .only(
                                                                                right: 10,),
                                                                                decoration: BoxDecoration(

                                                                                border: Border
                                                                                    .all(
                                                                                    color: Colors
                                                                                        .grey),
                                                                                borderRadius: BorderRadius
                                                                                    .circular(5),
                                                                            ),

                                                                          child:  DropdownButton2(

                                                                          dropdownStyleData: DropdownStyleData(

                                                                          offset:const Offset(
                                                                               5,
                                                                               -10),
                                                                           decoration: BoxDecoration(
                                                                               borderRadius: BorderRadius
                                                                                   .circular(
                                                                                   10),),
                                                                              ),
                                                                            underline: Container(),
                                                                            isExpanded: true,// value: awardType,
                                                                            style: const TextStyle(
                                                                           color: Colors
                                                                               .black54,
                                                                           fontSize: 15),
                                                                            hint: Text("Education type",
                                                                              style: TextStyle(
                                                                           color: Colors
                                                                              .grey
                                                                              .shade600,
                                                                           fontSize: 15,
                                                                              ),
                                                                            ),
                                                                            items: <
                                                                           String>[
                                                                                                                                                         // '1','2','3',
                                                                              'University',
                                                                              'College',
                                                                              'School',
                                                                            ]
                                                                           .map<
                                                                           DropdownMenuItem<
                                                                               String>>((
                                                                           String value){
                                                                                 return DropdownMenuItem<
                                                                             String>(

                                                                           value: value,
                                                                           child: Text(
                                                                             value,
                                                                             style: const TextStyle(
                                                                                 color: Colors
                                                                                     .black),),
                                                                                 );
                                                                               }).toList(),

                                                                            onChanged: (
                                                                           newVal) {
                                                                            setState(() {
                                                                           educationDropdownvalue =
                                                                               newVal;
                                                                           // if(educationDropdownvalue == 'University'){
                                                                           //   educationDropdownvalue = 1;
                                                                           // } else if(educationDropdownvalue == 'College'){
                                                                           //   educationDropdownvalue = 2;
                                                                           // }else if(educationDropdownvalue == 'School'){
                                                                           //   educationDropdownvalue = 3;
                                                                           // }
                                                                            });
                                                                            },
                                                                            value: educationDropdownvalue,
                                                                          ),
                                                                          ),
                                                                          SizedBox(
                                                                            height: 10
                                                                                .h,),
                                                                          TextFormField(
                                                                            autovalidateMode: AutovalidateMode
                                                                                .onUserInteraction,
                                                                            controller: educationController,

                                                                            keyboardType: TextInputType
                                                                                .text,
                                                                            validator: (
                                                                                value) {
                                                                              if (value!
                                                                                  .isEmpty) {
                                                                                return "The Education field is required";
                                                                              }
                                                                              // else if (value.length <= 10) {
                                                                              //   return "Describe yourself in greater than 10 words";
                                                                              // }
                                                                              else
                                                                                return null;
                                                                            },
                                                                            decoration: const InputDecoration(
                                                                              contentPadding: EdgeInsets
                                                                                  .only(
                                                                                  right: 0,
                                                                                  left: 10,
                                                                                  top: 0.0,
                                                                                  bottom: 0.0),
                                                                              hintText: 'Education',
                                                                              border: OutlineInputBorder(),
                                                                            ),
                                                                            textInputAction: TextInputAction
                                                                                .next,
                                                                            onEditingComplete: () {
                                                                              // FocusScope.of(context).requestFocus(_nodePassword);
                                                                            },
                                                                          ),
                                                                          SizedBox(
                                                                            height: 10
                                                                                .h,),

                                                                          TextFormField(
                                                                            autovalidateMode: AutovalidateMode
                                                                                .onUserInteraction,
                                                                            controller: educationFromController,
                                                                            keyboardType: TextInputType
                                                                                .text,
                                                                            validator: (
                                                                                value) {
                                                                              if (value!
                                                                                  .isEmpty) {
                                                                                return "Field is required";
                                                                              }
                                                                              // else if (value.length <= 10) {
                                                                              //   return "Describe yourself in greater than 10 words";
                                                                              // }
                                                                              else
                                                                                return null;
                                                                            },
                                                                            decoration: const InputDecoration(
                                                                              contentPadding: EdgeInsets
                                                                                  .only(
                                                                                  right: 0,
                                                                                  left: 10,
                                                                                  top: 0.0,
                                                                                  bottom: 0.0),
                                                                              hintText: 'From which School/College/Institute/University?',
                                                                              border: OutlineInputBorder(),
                                                                            ),
                                                                            textInputAction: TextInputAction
                                                                                .next,
                                                                            onEditingComplete: () {
                                                                              // FocusScope.of(context).requestFocus(_nodePassword);
                                                                            },
                                                                          ),
                                                                          SizedBox(
                                                                            height: 10
                                                                                .h,),
                                                                          TextFormField(
                                                                            autovalidateMode: AutovalidateMode
                                                                                .onUserInteraction,
                                                                            controller: educationDateController,
                                                                            validator: (
                                                                                value) {
                                                                              if (value!
                                                                                  .isEmpty) {
                                                                                return "The when feild is required";
                                                                              }
                                                                              // else if (value.length <= 10) {
                                                                              //   return "Describe yourself in greater than 10 words";
                                                                              // }
                                                                              else
                                                                                return null;
                                                                            },

                                                                            //editing controller of this TextField
                                                                            decoration: const InputDecoration(
                                                                                contentPadding: EdgeInsets
                                                                                    .only(
                                                                                    right: 0,
                                                                                    left: 10,
                                                                                    top: 0.0,
                                                                                    bottom: 0.0),
                                                                                border: OutlineInputBorder(),

                                                                                hintText: 'Enter Date',
                                                                                suffixIcon: Icon(
                                                                                    Icons
                                                                                        .calendar_month_rounded)

                                                                            ),

                                                                            readOnly: true,
                                                                            //set it true, so that user will not able to edit text
                                                                            onTap: () async {
                                                                              DateTime? pickedDate = await showDatePicker(
                                                                                  context: context,
                                                                                  initialDate: DateTime
                                                                                      .now(),
                                                                                  firstDate: DateTime(
                                                                                      2000),
                                                                                  //DateTime.now() - not to allow to choose before today.
                                                                                  lastDate: DateTime(
                                                                                      2101)
                                                                              );

                                                                              if (pickedDate !=
                                                                                  null) {
                                                                                print(
                                                                                    pickedDate); //pickedDate output format => 2021-03-10 00:00:00.000
                                                                                String formattedDate = DateFormat(
                                                                                    'dd-MM-yyyy')
                                                                                    .format(
                                                                                    pickedDate);
                                                                                print(
                                                                                    formattedDate); //formatted date output using intl package =>  2021-03-16
                                                                                //you can implement different kind of Date Format here according to your requirement

                                                                                setState(() {
                                                                                  educationDateController
                                                                                      .text =
                                                                                      formattedDate; //set output date to TextField value.
                                                                                });
                                                                              } else {
                                                                                print(
                                                                                    "Date is not selected");
                                                                              }
                                                                            },
                                                                          ),

                                                                          SizedBox(
                                                                            height: 10
                                                                                .h,),
                                                                          Row(
                                                                            mainAxisAlignment: MainAxisAlignment
                                                                                .start,
                                                                            children: [

                                                                              Container(
                                                                                child: TextButton(
                                                                                  onPressed: () async {
                                                                                    if (educationFormKey
                                                                                        .currentState!
                                                                                        .validate()) {
                                                                                      uploadEducation();
                                                                                    }
                                                                                  },
                                                                                  style: TextButton
                                                                                      .styleFrom(
                                                                                    foregroundColor: Colors
                                                                                        .white,
                                                                                    splashFactory: NoSplash
                                                                                        .splashFactory,
                                                                                    backgroundColor: ColorConstants
                                                                                        .themeBlue, //
                                                                                    // padding: const EdgeInsets.only(top: 10, bottom: 10),
                                                                                  ),
                                                                                  child:
                                                                                  Text(
                                                                                      "Add",
                                                                                      style: TextStyle(
                                                                                          fontSize: 15
                                                                                              .sp),),
                                                                                ),
                                                                              ),
                                                                              SizedBox(
                                                                                width: 10
                                                                                    .w,),

                                                                              TextButton(
                                                                                onPressed: () async {
                                                                                  uploadGalImage =
                                                                                  null;
                                                                                  Navigator
                                                                                      .of(
                                                                                      context)
                                                                                      .pop();
                                                                                },
                                                                                style: ButtonStyle(
                                                                                    foregroundColor: MaterialStateProperty
                                                                                        .all<
                                                                                        Color>(
                                                                                        ColorConstants
                                                                                            .themeBlue),
                                                                                    shape: MaterialStateProperty
                                                                                        .all<
                                                                                        RoundedRectangleBorder>(
                                                                                        RoundedRectangleBorder(
                                                                                            borderRadius: BorderRadius
                                                                                                .circular(
                                                                                                5.0),
                                                                                            side: const BorderSide(
                                                                                                color: ColorConstants
                                                                                                    .themeBlue)
                                                                                        )
                                                                                    )
                                                                                ),
                                                                                child: Text(
                                                                                    "Cancel",
                                                                                    style: TextStyle(
                                                                                        fontSize: 15
                                                                                            .sp)),
                                                                              ),

                                                                            ],
                                                                          ),

                                                                        ],
                                                                      ),
                                                                    ),
                                                                  ),
                                                                ),
                                                              );
                                                            }
                                                            );
                                                          });
                                                    },
                                                    style: TextButton.styleFrom(
                                                      foregroundColor: Colors
                                                          .white,
                                                      splashFactory: NoSplash
                                                          .splashFactory,
                                                      backgroundColor: ColorConstants
                                                          .themeBlue, //
                                                      // padding: const EdgeInsets.only(top: 10, bottom: 10),
                                                    ),
                                                    child: Text(
                                                        "+ Add Education",
                                                        style: TextStyle(
                                                            fontSize: 20.sp)),
                                                  ),
                                                ),
                                              ],
                                            ),

                                          ),


                                          Container(
                                            padding: const EdgeInsets.symmetric(
                                                vertical: 5.0),
                                            decoration: BoxDecoration(
                                              color: Colors.white,
                                              borderRadius: BorderRadius.all(
                                                Radius.circular(10.0.r),
                                              ),
                                            ),
                                            margin: EdgeInsets.only(
                                                left: 10.w, right: 10.w),
                                            child: Column(
                                              children: [
                                                Container(
                                                      margin: EdgeInsets.only(
                                                      left: 5.w,
                                                      top: 5.h,
                                                      right: 5.w),
                                                  child: Row(
                                                    mainAxisAlignment: MainAxisAlignment.spaceBetween,
                                                    children:[
                                                      Row(
                                                        crossAxisAlignment: CrossAxisAlignment.center,
                                                        children: [
                                                          Icon(
                                                            Icons
                                                                .wallet_giftcard_rounded,
                                                            size: 23.sp,
                                                          ),
                                                          SizedBox(
                                                            width: 5.w,
                                                          ),
                                                          Text(
                                                            "Awards/Achievements",
                                                            textScaleFactor: 1.0,
                                                            style: TextStyle(
                                                                fontSize: 20.sp),
                                                          )
                                                        ],
                                                      ),
                                                      InkWell(
                                                        onTap: () {
                                                          setState(() {
                                                            if (showAwardButton ==
                                                                false) {
                                                              showAwardButton =
                                                              true;
                                                            } else {
                                                              showAwardButton =
                                                              false;
                                                            }
                                                         });
                                                        },
                                                        child: Icon(
                                                          Icons.edit_rounded,
                                                          color: showAwardButton ==
                                                              true
                                                              ? ColorConstants
                                                              .themeBlue
                                                              : Colors
                                                              .grey,
                                                          size: 23.sp,
                                                        ),
                                                      ),
                                                    ],
                                                  ),
                                                ),
                                                SizedBox(
                                                  height: 5.h,
                                                ),

                                                Align(
                                                  alignment: Alignment.topLeft,
                                                  child: SingleChildScrollView(
                                                    scrollDirection: Axis
                                                        .horizontal,
                                                    child:
                                                    Wrap(
                                                      direction: Axis
                                                          .horizontal,
                                                      children: [
                                                        InkWell(
                                                          onTap: () async {
                                                            showModalBottomSheet(
                                                                showDragHandle: true,
                                                                isScrollControlled: true,
                                                                useSafeArea: true,
                                                                shape: RoundedRectangleBorder(
                                                                  borderRadius: BorderRadius
                                                                      .vertical(
                                                                    top: Radius
                                                                        .circular(
                                                                        20),
                                                                  ),
                                                                ),
                                                                context: context,
                                                                builder: (
                                                                    context) {
                                                                  return StatefulBuilder(
                                                                  builder: (
                                                                      BuildContext context, void Function(void Function()) setState) {
                                                                    return SingleChildScrollView(
                                                                        child: Padding(
                                                                            padding: EdgeInsets
                                                                                .only(
                                                                                bottom: MediaQuery
                                                                                    .of(
                                                                                    context)
                                                                                    .viewInsets
                                                                                    .bottom),
                                                                            child: Container(
                                                                              margin: EdgeInsets
                                                                                  .symmetric(
                                                                                  horizontal: 20
                                                                                      .w),
                                                                              child: Form(
                                                                                key: achievementFormKey,
                                                                                child: Column(
                                                                                  mainAxisSize: MainAxisSize
                                                                                      .min,
                                                                                  crossAxisAlignment: CrossAxisAlignment
                                                                                      .center,
                                                                                  children: <
                                                                                      Widget>[

                                                                                    Container(
                                                                                      child: (uploadAwardImage ==
                                                                                          null)
                                                                                          ?
                                                                                      Container(

                                                                                        padding: const EdgeInsets
                                                                                            .all(
                                                                                            30),
                                                                                        child: Row
                                                                                          (
                                                                                          mainAxisAlignment: MainAxisAlignment
                                                                                              .center,
                                                                                          children: [
                                                                                            InkWell(
                                                                                              onTap: () async {
                                                                                                // chooseGalleryImage();
                                                                                                PickedFile? pickedFile = await ImagePicker()
                                                                                                    .getImage(
                                                                                                  source: ImageSource.gallery,
                                                                                                  maxWidth: 500,
                                                                                                  maxHeight: 500,
                                                                                                );
                                                                                                if (pickedFile != null) {
                                                                                                  setState(() {
                                                                                                    uploadAwardImage = File(pickedFile.path);
                                                                                                  });
                                                                                                }
                                                                                              },
                                                                                              child:
                                                                                              Image
                                                                                                  .asset(
                                                                                                'assets/images/gallery.png',
                                                                                                height: 50
                                                                                                    .h,
                                                                                                width: 50
                                                                                                    .w,
                                                                                              ),
                                                                                            ),
                                                                                            SizedBox(
                                                                                              width: 20
                                                                                                  .w,),
                                                                                            InkWell(
                                                                                              onTap: () async {
                                                                                                // chooseGalleryImage();
                                                                                                PickedFile? pickedFile = await ImagePicker()
                                                                                                    .getImage(
                                                                                                  source: ImageSource
                                                                                                      .camera,
                                                                                                  maxWidth: 500,
                                                                                                  maxHeight: 500,
                                                                                                );
                                                                                                if (pickedFile !=
                                                                                                    null) {
                                                                                                  setState(() {
                                                                                                    uploadAwardImage =
                                                                                                        File(
                                                                                                            pickedFile
                                                                                                                .path);
                                                                                                  });
                                                                                                }
                                                                                              },
                                                                                              child: Image
                                                                                                  .asset(
                                                                                                'assets/images/camera.png',
                                                                                                height: 50
                                                                                                    .h,
                                                                                                width: 50
                                                                                                    .w,
                                                                                              ),
                                                                                            ),
                                                                                          ],
                                                                                        ),
                                                                                      )
                                                                                          :
                                                                                      ClipRRect(
                                                                                        borderRadius: BorderRadius
                                                                                            .circular(
                                                                                            10
                                                                                        ),
                                                                                        child: Image
                                                                                            .file(
                                                                                          uploadAwardImage!,
                                                                                          fit: BoxFit
                                                                                              .cover,
                                                                                        ),
                                                                                      ),
                                                                                    ),
                                                                                    SizedBox(
                                                                                      height: 15
                                                                                          .h,),
                                                                                    TextFormField(
                                                                                      controller: awardTitleController,
                                                                                      autovalidateMode: AutovalidateMode
                                                                                          .onUserInteraction,
                                                                                      keyboardType: TextInputType
                                                                                          .text,
                                                                                      validator: (
                                                                                          value) {
                                                                                        if (value!
                                                                                            .isEmpty) {
                                                                                          return "Enter title";
                                                                                        }

                                                                                        else {
                                                                                          return null;
                                                                                        }
                                                                                      },
                                                                                      decoration: const InputDecoration(
                                                                                        contentPadding: EdgeInsets
                                                                                            .only(
                                                                                            right: 0,
                                                                                            left: 10,
                                                                                            top: 0.0,
                                                                                            bottom: 0.0),
                                                                                        hintText: 'Title',

                                                                                        border: OutlineInputBorder(),
                                                                                      ),
                                                                                      onFieldSubmitted: (
                                                                                          _) =>
                                                                                          FocusScope
                                                                                              .of(
                                                                                              context)
                                                                                              .nextFocus(),
                                                                                      textInputAction: TextInputAction
                                                                                          .next,
                                                                                      onEditingComplete: () {
                                                                                        // FocusScope.of(context).requestFocus(_nodePassword);
                                                                                      },
                                                                                    ),
                                                                                    SizedBox(
                                                                                      height: 15
                                                                                          .h,),
                                                                                    TextFormField(
                                                                                      autovalidateMode: AutovalidateMode
                                                                                          .onUserInteraction,
                                                                                      controller: awardDateController,
                                                                                      validator: (
                                                                                          value) {
                                                                                        if (value!
                                                                                            .isEmpty) {
                                                                                          return "The when feild is required";
                                                                                        }
                                                                                        // else if (value.length <= 10) {
                                                                                        //   return "Describe yourself in greater than 10 words";
                                                                                        // }
                                                                                        else
                                                                                          return null;
                                                                                      },

                                                                                      //editing controller of this TextField
                                                                                      decoration: const InputDecoration(
                                                                                          contentPadding: EdgeInsets
                                                                                              .only(
                                                                                              right: 0,
                                                                                              left: 10,
                                                                                              top: 0.0,
                                                                                              bottom: 0.0),
                                                                                          border: OutlineInputBorder(),
                                                                                          hintText: 'Enter Date',
                                                                                          suffixIcon: Icon(
                                                                                              Icons
                                                                                                  .calendar_month_rounded)

                                                                                      ),

                                                                                      readOnly: true,
                                                                                      //set it true, so that user will not able to edit text
                                                                                      onTap: () async {
                                                                                        DateTime? pickedDate = await showDatePicker(
                                                                                            context: context,
                                                                                            initialDate: DateTime
                                                                                                .now(),
                                                                                            firstDate: DateTime(
                                                                                                2000),
                                                                                            //DateTime.now() - not to allow to choose before today.
                                                                                            lastDate: DateTime(
                                                                                                2101)
                                                                                        );

                                                                                        if (pickedDate !=
                                                                                            null) {
                                                                                          print(
                                                                                              pickedDate); //pickedDate output format => 2021-03-10 00:00:00.000
                                                                                          String formattedDate = DateFormat(
                                                                                              'dd-MM-yyyy')
                                                                                              .format(
                                                                                              pickedDate);
                                                                                          print(
                                                                                              formattedDate); //formatted date output using intl package =>  2021-03-16
                                                                                          //you can implement different kind of Date Format here according to your requirement

                                                                                          setState(() {
                                                                                            awardDateController
                                                                                                .text =
                                                                                                formattedDate; //set output date to TextField value.
                                                                                          });
                                                                                        } else {
                                                                                          print(
                                                                                              "Date is not selected");
                                                                                        }
                                                                                      },
                                                                                    ),
                                                                                    SizedBox(
                                                                                      height: 15
                                                                                          .h,),

                                                                                    Container(
                                                                                      height: 40
                                                                                          .h,
                                                                                      padding: const EdgeInsets
                                                                                          .only(
                                                                                          left: 0,
                                                                                          right: 10),
                                                                                      decoration: BoxDecoration(
                                                                                          border: Border
                                                                                              .all(
                                                                                              color: Colors
                                                                                                  .grey),
                                                                                          borderRadius: BorderRadius
                                                                                              .circular(
                                                                                              5)
                                                                                      ),
                                                                                      child: DropdownButton2(
                                                                                        dropdownStyleData: DropdownStyleData(
                                                                                            useSafeArea: false,
                                                                                            offset: Offset(
                                                                                                5,
                                                                                                -10),
                                                                                            maxHeight: 200
                                                                                                .h,
                                                                                            scrollbarTheme: ScrollbarThemeData(
                                                                                                thumbVisibility: MaterialStateProperty
                                                                                                    .all(
                                                                                                    true)),
                                                                                            decoration: BoxDecoration(
                                                                                                borderRadius: BorderRadius
                                                                                                    .circular(
                                                                                                    10))
                                                                                        ),
                                                                                        underline: Container(),
                                                                                        isExpanded: true,
                                                                                        // value: awardType,
                                                                                        style: const TextStyle(
                                                                                            color: Colors
                                                                                                .black54
                                                                                            ,
                                                                                            fontSize: 15),
                                                                                        hint: Text(
                                                                                          "Select Award Type",
                                                                                          style: TextStyle(
                                                                                            color: Colors
                                                                                                .grey
                                                                                                .shade600,
                                                                                            fontSize: 15,
                                                                                          ),
                                                                                        ),
                                                                                        items: awardType
                                                                                            .map((
                                                                                            item) {
                                                                                          return DropdownMenuItem(
                                                                                            value: item['title']
                                                                                                .toString(),
                                                                                            child: Text(
                                                                                                item['title']
                                                                                                    .toString(),
                                                                                                style: TextStyle(
                                                                                                    color: Colors
                                                                                                        .black)),
                                                                                          );
                                                                                        })
                                                                                            .toList(),

                                                                                        onChanged: (
                                                                                            newVal) {
                                                                                          setState(() {
                                                                                            awarddropdownvalue =
                                                                                                newVal;
                                                                                          });
                                                                                        },
                                                                                        value: awarddropdownvalue,
                                                                                      ),
                                                                                    ),

                                                                                    SizedBox(
                                                                                      height: 10
                                                                                          .h,),
                                                                                    Row(
                                                                                      mainAxisAlignment: MainAxisAlignment
                                                                                          .start,
                                                                                      children: [


                                                                                        Container(
                                                                                          child: TextButton(
                                                                                            onPressed: () async {
                                                                                              if (achievementFormKey
                                                                                                  .currentState!
                                                                                                  .validate()) {
                                                                                                uploadAwrdImage();
                                                                                                setState(() {
                                                                                                  achievementProgress =
                                                                                                  true;
                                                                                                });
                                                                                              }
                                                                                            },
                                                                                            style: TextButton
                                                                                                .styleFrom(
                                                                                              foregroundColor: Colors
                                                                                                  .white,
                                                                                              splashFactory: NoSplash
                                                                                                  .splashFactory,
                                                                                              backgroundColor: ColorConstants
                                                                                                  .themeBlue, //
                                                                                              // padding: const EdgeInsets.only(top: 10, bottom: 10),
                                                                                            ),
                                                                                            child:
                                                                                            Text(
                                                                                                "Save",
                                                                                                style: TextStyle(
                                                                                                    fontSize: 20
                                                                                                        .sp)),
                                                                                          ),
                                                                                        ),

                                                                                        SizedBox(
                                                                                          width: 10
                                                                                              .w,),

                                                                                        Container(
                                                                                          child: TextButton(
                                                                                            onPressed: () async {
                                                                                              setState(() {
                                                                                                uploadAwardImage =
                                                                                                null;
                                                                                                achievementProgress =
                                                                                                false;
                                                                                              });
                                                                                              Navigator
                                                                                                  .of(
                                                                                                  context)
                                                                                                  .pop();
                                                                                            },
                                                                                            style: ButtonStyle(
                                                                                                foregroundColor: MaterialStateProperty
                                                                                                    .all<
                                                                                                    Color>(
                                                                                                    ColorConstants
                                                                                                        .themeBlue),
                                                                                                shape: MaterialStateProperty
                                                                                                    .all<
                                                                                                    RoundedRectangleBorder>(
                                                                                                    RoundedRectangleBorder(
                                                                                                        borderRadius: BorderRadius
                                                                                                            .circular(
                                                                                                            5.0),
                                                                                                        side: const BorderSide(
                                                                                                            color: ColorConstants
                                                                                                                .themeBlue)
                                                                                                    )
                                                                                                )
                                                                                            ),
                                                                                            child: Text(
                                                                                                "Cancel",
                                                                                                style: TextStyle(
                                                                                                    fontSize: 20
                                                                                                        .sp)),
                                                                                          ),
                                                                                        ),


                                                                                      ],
                                                                                    ),
                                                                                    Visibility(
                                                                                        visible: achievementProgress,
                                                                                        child: LinearProgressIndicator()),

                                                                                  ],
                                                                                ),
                                                                              ),
                                                                            ),
                                                                        ),
                                                                    );
                                                                  }
                                                                  );
                                                                });
                                                          },
                                                          child: Container(
                                                              margin: EdgeInsets
                                                                  .only(
                                                                  top: 10.h,
                                                                  bottom: 10.h,
                                                                  left: 10.w),
                                                              width: 100.w,
                                                              height: 150.h,
                                                              decoration: BoxDecoration(
                                                                color: ColorConstants
                                                                    .backgroundColor,
                                                                borderRadius: BorderRadius
                                                                    .circular(
                                                                    10.r),
                                                              ),
                                                              // alignment: Alignment.bottomLeft,
                                                              child:
                                                              Column(
                                                                mainAxisAlignment: MainAxisAlignment
                                                                    .center,
                                                                children: [
                                                                  Container(
                                                                      padding: const EdgeInsets
                                                                          .all(
                                                                          5),
                                                                      decoration: BoxDecoration(
                                                                          border: Border
                                                                              .all(
                                                                              color: Colors
                                                                                  .grey),
                                                                          color: Colors
                                                                              .white,
                                                                          borderRadius: BorderRadius
                                                                              .circular(
                                                                              100
                                                                                  .r)),
                                                                      child: const Icon(
                                                                        Icons
                                                                            .add,
                                                                        color: Colors
                                                                            .grey,)),

                                                                  SizedBox(
                                                                    height: 5
                                                                        .h,),
                                                                  Text(
                                                                    'Add More',
                                                                    style: TextStyle(
                                                                        fontSize: 12
                                                                            .sp),
                                                                  ),
                                                                ],
                                                              )

                                                          ),
                                                        ),


                                                        for (int i = 0; i <
                                                            user.awardAchivement
                                                                .length; i++)

                                                          Container(
                                                            margin: EdgeInsets
                                                                .symmetric(
                                                                vertical: 10.w),
                                                            child: Stack(
                                                              children: [
                                                                GestureDetector(
                                                                  onTap: () async {
                                                                    await showDialog<
                                                                        void>(
                                                                        context: context,
                                                                        barrierDismissible: false,
                                                                        // user must tap button!
                                                                        builder: (
                                                                            BuildContext context) {
                                                                          return AlertDialog(
                                                                            contentPadding: const EdgeInsets
                                                                                .all(
                                                                                5),
                                                                            shape: RoundedRectangleBorder(
                                                                              borderRadius: BorderRadius
                                                                                  .circular(
                                                                                  8.0),
                                                                            ),
                                                                            content: SingleChildScrollView(
                                                                              child: Column(
                                                                                children: [
                                                                                  Container(
                                                                                    child: Column(
                                                                                      children: [
                                                                                        GestureDetector(
                                                                                          onTap: () {

                                                                                            Navigator
                                                                                                .of(
                                                                                                context)
                                                                                                .pop();
                                                                                          },
                                                                                          child: Align(
                                                                                              alignment: Alignment
                                                                                                  .topRight,
                                                                                              child: Transform
                                                                                                  .rotate(
                                                                                                  angle: 45 *
                                                                                                      math
                                                                                                          .pi /
                                                                                                      180,
                                                                                                  child: const Icon(
                                                                                                      Icons
                                                                                                          .add_circle_rounded))),
                                                                                        ),
                                                                                        Image
                                                                                            .network(
                                                                                            user
                                                                                                .awardAchivement[i]['image'],

                                                                                            fit: BoxFit
                                                                                                .fitWidth),
                                                                                      ],
                                                                                    ),
                                                                                  ),
                                                                                ],
                                                                              ),
                                                                            ),
                                                                          );
                                                                        }
                                                                    );
                                                                  },
                                                                  onLongPress: () {
                                                                    setState(() {
                                                                      showAwardButton =
                                                                      true;
                                                                    });
                                                                  },
                                                                  child: Container(
                                                                    margin: EdgeInsets
                                                                        .only(
                                                                        left: 5
                                                                            .w,
                                                                        right: 5
                                                                            .w),
                                                                    padding: EdgeInsets
                                                                        .only(
                                                                        top: 5
                                                                            .h,
                                                                        bottom: 10
                                                                            .h,
                                                                        left: 5
                                                                            .w,
                                                                        right: 5
                                                                            .w),
                                                                    decoration: BoxDecoration(
                                                                        border: Border
                                                                            .all(
                                                                            color: Colors
                                                                                .grey,
                                                                            width: 0.1
                                                                                .w),
                                                                        borderRadius:
                                                                        BorderRadius
                                                                            .all(
                                                                            Radius
                                                                                .circular(
                                                                                10
                                                                                    .r))),
                                                                    child: Column(
                                                                      mainAxisAlignment:
                                                                      MainAxisAlignment
                                                                          .center,
                                                                      children: <
                                                                          Widget>[
                                                                        ClipRRect(
                                                                          borderRadius:
                                                                          BorderRadius
                                                                              .circular(
                                                                              10
                                                                                  .r),
                                                                          child: FadeInImage(
                                                                            height: 100
                                                                                .h,
                                                                            width: 100
                                                                                .w,
                                                                            fadeOutCurve: Curves
                                                                                .linear,
                                                                            placeholderFit: BoxFit
                                                                                .fitWidth,
                                                                            placeholder: const AssetImage(
                                                                              'assets/images/logo.png',),
                                                                            image: NetworkImage(
                                                                                user
                                                                                    .awardAchivement[i]['thumb']),
                                                                            imageErrorBuilder: (
                                                                                context,
                                                                                error,
                                                                                stackTrace) {
                                                                              return Image
                                                                                  .asset(
                                                                                  'assets/images/logo.png',
                                                                                  height: 100
                                                                                      .h,
                                                                                  width: 100
                                                                                      .w,
                                                                                  fit: BoxFit
                                                                                      .fitWidth);
                                                                            },
                                                                            fit: BoxFit
                                                                                .cover,
                                                                          ),
                                                                        ),

                                                                        Text(
                                                                          user
                                                                              .awardAchivement[i]['title'],
                                                                          textScaleFactor: 1.0,
                                                                          textAlign:
                                                                          TextAlign
                                                                              .center,
                                                                          style: TextStyle(
                                                                              fontSize: 13
                                                                                  .sp,
                                                                              color:
                                                                              Colors
                                                                                  .black),
                                                                        ),
                                                                        Text(
                                                                          user
                                                                              .awardAchivement[i]['year'],
                                                                          textScaleFactor: 1.0,
                                                                          textAlign:
                                                                          TextAlign
                                                                              .center,
                                                                          style: TextStyle(
                                                                              fontSize: 13
                                                                                  .sp,
                                                                              color:
                                                                              Colors
                                                                                  .black),
                                                                        ),
                                                                      ],
                                                                    ),
                                                                  ),
                                                                ),
                                                                Visibility(
                                                                  visible: showAwardButton,
                                                                  child: Positioned
                                                                      .fill(
                                                                    child: Align(
                                                                      alignment: Alignment
                                                                          .center,
                                                                      child: Container(
                                                                        margin: EdgeInsets
                                                                            .only(
                                                                            left: 5
                                                                                .w,
                                                                            right: 5
                                                                                .w),

                                                                        decoration: BoxDecoration(
                                                                          borderRadius: BorderRadius
                                                                              .circular(
                                                                              10),
                                                                          color: Colors
                                                                              .black54
                                                                              .withOpacity(
                                                                              0.5),),

                                                                        child: Align(
                                                                            alignment: Alignment
                                                                                .center,
                                                                            child: Row(
                                                                              mainAxisAlignment: MainAxisAlignment
                                                                                  .center,
                                                                              children: [
                                                                                InkWell(
                                                                                    onTap: () async {
                                                                                      showModalBottomSheet(
                                                                                          showDragHandle: true,
                                                                                          isScrollControlled: true,
                                                                                          enableDrag: true,
                                                                                          useSafeArea: true,
                                                                                          shape: const RoundedRectangleBorder(
                                                                                            borderRadius: BorderRadius
                                                                                                .vertical(
                                                                                              top: Radius
                                                                                                  .circular(
                                                                                                  20),
                                                                                            ),
                                                                                          ),
                                                                                          context: context,
                                                                                          builder: (
                                                                                              context){
                                                                                            return StatefulBuilder(
                                                                                            builder: (BuildContext context, void Function(void Function()) setState){
                                                                                              return SingleChildScrollView(
                                                                                                child: Padding(
                                                                                                    padding: EdgeInsets
                                                                                                        .only(
                                                                                                        bottom: MediaQuery
                                                                                                            .of(
                                                                                                            context)
                                                                                                            .viewInsets
                                                                                                            .bottom),

                                                                                                    child: Container(

                                                                                                      margin: EdgeInsets
                                                                                                          .symmetric(
                                                                                                          horizontal: 20
                                                                                                              .w),
                                                                                                      child: Form(
                                                                                                        key: achievementFormKey,
                                                                                                        child: Column(
                                                                                                          mainAxisSize: MainAxisSize
                                                                                                              .min,
                                                                                                          crossAxisAlignment: CrossAxisAlignment
                                                                                                              .center,
                                                                                                          children: <
                                                                                                              Widget>[

                                                                                                            // for (int i = 0; i <
                                                                                                            //     user.awardAchivement.length; i++)
                                                                                                            Stack(
                                                                                                              children: [
                                                                                                                Container(
                                                                                                                  child: (uploadAwardImage ==
                                                                                                                      null)
                                                                                                                      ?
                                                                                                                  ClipRRect(
                                                                                                                    borderRadius: BorderRadius
                                                                                                                        .circular(
                                                                                                                        10
                                                                                                                            .r),
                                                                                                                    child: Image
                                                                                                                        .network(
                                                                                                                      user
                                                                                                                          .awardAchivement[i]['image'],
                                                                                                                      // height: 50
                                                                                                                      //     .h,
                                                                                                                      // width: 50
                                                                                                                      //     .w,
                                                                                                                      fit: BoxFit
                                                                                                                          .cover,),
                                                                                                                  )
                                                                                                                      :
                                                                                                                  ClipRRect(
                                                                                                                    borderRadius: BorderRadius
                                                                                                                        .circular(
                                                                                                                        10
                                                                                                                            .r),
                                                                                                                    child: Image
                                                                                                                        .file(
                                                                                                                      uploadAwardImage!,
                                                                                                                      fit: BoxFit
                                                                                                                          .cover,
                                                                                                                    ),
                                                                                                                  ),
                                                                                                                ),
                                                                                                                Positioned
                                                                                                                    .fill(
                                                                                                                  child: Align(
                                                                                                                    alignment: Alignment
                                                                                                                        .center,
                                                                                                                    child: Container(

                                                                                                                      decoration: BoxDecoration(
                                                                                                                        borderRadius: BorderRadius
                                                                                                                            .circular(
                                                                                                                            10),
                                                                                                                        color: Colors
                                                                                                                            .black54
                                                                                                                            .withOpacity(
                                                                                                                            0.5),),

                                                                                                                      child: Align(
                                                                                                                          alignment: Alignment
                                                                                                                              .center,
                                                                                                                          child: InkWell(
                                                                                                                              onTap: () async {
                                                                                                                                // chooseGalleryImage();
                                                                                                                                PickedFile? pickedFile = await ImagePicker()
                                                                                                                                    .getImage(
                                                                                                                                  source: ImageSource
                                                                                                                                      .gallery,
                                                                                                                                  maxWidth: 500,
                                                                                                                                  maxHeight: 500,
                                                                                                                                );
                                                                                                                                if (pickedFile !=
                                                                                                                                    null) {
                                                                                                                                  setState(() {
                                                                                                                                    uploadAwardImage =
                                                                                                                                        File(
                                                                                                                                            pickedFile
                                                                                                                                                .path);
                                                                                                                                  });
                                                                                                                                }
                                                                                                                              },
                                                                                                                              child: const Icon(
                                                                                                                                Icons
                                                                                                                                    .add_photo_alternate_rounded,
                                                                                                                                color: Colors
                                                                                                                                    .white,))),
                                                                                                                    ),
                                                                                                                  ),
                                                                                                                ),
                                                                                                              ],
                                                                                                            ),
                                                                                                            SizedBox(
                                                                                                              height: 10
                                                                                                                  .h,),
                                                                                                            TextFormField(
                                                                                                              controller: awardEditTitleController
                                                                                                                ..text = user
                                                                                                                    .awardAchivement[i]['title'],
                                                                                                              // initialValue: name,
                                                                                                              // focusNode: _nodeFullname,
                                                                                                              keyboardType: TextInputType
                                                                                                                  .text,
                                                                                                              autovalidateMode: AutovalidateMode
                                                                                                                  .onUserInteraction,
                                                                                                              validator: (
                                                                                                                  value) {
                                                                                                                if (value!
                                                                                                                    .isEmpty) {
                                                                                                                  return "Enter title";
                                                                                                                }
                                                                                                                // else if (value.length <= 10) {
                                                                                                                //   return "Describe yourself in greater than 10 words";
                                                                                                                // }
                                                                                                                else {
                                                                                                                  return null;
                                                                                                                }
                                                                                                              },
                                                                                                              decoration: const InputDecoration(
                                                                                                                contentPadding: EdgeInsets
                                                                                                                    .only(
                                                                                                                    right: 0,
                                                                                                                    left: 10,
                                                                                                                    top: 0.0,
                                                                                                                    bottom: 0.0),
                                                                                                                hintText: 'Title',
                                                                                                                border: OutlineInputBorder(),
                                                                                                              ),
                                                                                                              textInputAction: TextInputAction
                                                                                                                  .next,
                                                                                                              onEditingComplete: () {
                                                                                                                // FocusScope.of(context).requestFocus(_nodePassword);
                                                                                                              },
                                                                                                            ),
                                                                                                            SizedBox(
                                                                                                              height: 10
                                                                                                                  .h,),
                                                                                                            TextFormField(

                                                                                                              autovalidateMode: AutovalidateMode
                                                                                                                  .onUserInteraction,
                                                                                                              controller: awardEditDateController
                                                                                                                ..text = user
                                                                                                                    .awardAchivement[i]['year'],

                                                                                                              validator: (
                                                                                                                  value) {
                                                                                                                if (value!
                                                                                                                    .isEmpty) {
                                                                                                                  return "The when feild is required";
                                                                                                                }
                                                                                                                // else if (value.length <= 10) {
                                                                                                                //   return "Describe yourself in greater than 10 words";
                                                                                                                // }
                                                                                                                else
                                                                                                                  return null;
                                                                                                              },

                                                                                                              //editing controller of this TextField

                                                                                                              decoration: const InputDecoration(
                                                                                                                  contentPadding: EdgeInsets
                                                                                                                      .only(
                                                                                                                      right: 0,
                                                                                                                      left: 10,
                                                                                                                      top: 0.0,
                                                                                                                      bottom: 0.0),
                                                                                                                  border: OutlineInputBorder(),
                                                                                                                  hintText: 'Enter Date',
                                                                                                                  suffixIcon: Icon(
                                                                                                                      Icons
                                                                                                                          .calendar_month_rounded)
                                                                                                              ),
                                                                                                              readOnly: true,
                                                                                                              //set it true, so that user will not able to edit text
                                                                                                              onTap: () async {
                                                                                                                DateTime? pickedDate = await showDatePicker(
                                                                                                                    context: context,
                                                                                                                    initialDate: DateTime
                                                                                                                        .now(),
                                                                                                                    firstDate: DateTime(
                                                                                                                        2000),
                                                                                                                    //DateTime.now() - not to allow to choose before today.
                                                                                                                    lastDate: DateTime(
                                                                                                                        2101)
                                                                                                                );

                                                                                                                if (pickedDate !=
                                                                                                                    null) {
                                                                                                                  String formattedDate = DateFormat(
                                                                                                                      'dd-MM-yyyy')
                                                                                                                      .format(
                                                                                                                      pickedDate);
                                                                                                                  print(
                                                                                                                      formattedDate); //formatted date output using intl package =>  2021-03-16
                                                                                                                  //you can implement different kind of Date Format here according to your requirement

                                                                                                                  setState(() {
                                                                                                                    awardEditDateController
                                                                                                                        .text =
                                                                                                                        formattedDate; //set output date to TextField value.
                                                                                                                  });
                                                                                                                } else {
                                                                                                                  print(
                                                                                                                      "Date is not selected");
                                                                                                                }
                                                                                                              },


                                                                                                            ),
                                                                                                            SizedBox(
                                                                                                              height: 10
                                                                                                                  .h,),

                                                                                                            Container(
                                                                                                              height: 40
                                                                                                                  .h,
                                                                                                              padding: const EdgeInsets
                                                                                                                  .only(
                                                                                                                  left: 0,
                                                                                                                  right: 10),
                                                                                                              decoration: BoxDecoration(
                                                                                                                  border: Border
                                                                                                                      .all(
                                                                                                                      color: Colors
                                                                                                                          .grey),
                                                                                                                  borderRadius: BorderRadius
                                                                                                                      .circular(
                                                                                                                      5)
                                                                                                              ),
                                                                                                              child: DropdownButton2(
                                                                                                                dropdownStyleData: DropdownStyleData(
                                                                                                                    useSafeArea: false,
                                                                                                                    offset: const Offset(
                                                                                                                        5,
                                                                                                                        -10),
                                                                                                                    maxHeight: 200
                                                                                                                        .h,
                                                                                                                    scrollbarTheme: ScrollbarThemeData(
                                                                                                                        thumbVisibility: MaterialStateProperty
                                                                                                                            .all(
                                                                                                                            true)),
                                                                                                                    decoration: BoxDecoration(
                                                                                                                        borderRadius: BorderRadius
                                                                                                                            .circular(
                                                                                                                            10))
                                                                                                                ),
                                                                                                                underline: Container(),
                                                                                                                isExpanded: true,
                                                                                                                // value: awardType,
                                                                                                                style: const TextStyle(
                                                                                                                    color: Colors
                                                                                                                        .black54,
                                                                                                                    fontSize: 15),
                                                                                                                hint: Text(
                                                                                                                  "Select Award Type",
                                                                                                                  style: TextStyle(
                                                                                                                    color: Colors
                                                                                                                        .grey
                                                                                                                        .shade600,
                                                                                                                    fontSize: 15,
                                                                                                                  ),
                                                                                                                ),
                                                                                                                items: awardType
                                                                                                                    .map((
                                                                                                                    item) {
                                                                                                                  return DropdownMenuItem(
                                                                                                                    value: item['title']
                                                                                                                        .toString(),
                                                                                                                    child: Text(
                                                                                                                        item['title']
                                                                                                                            .toString(),
                                                                                                                        style: TextStyle(
                                                                                                                            color: Colors
                                                                                                                                .black)),
                                                                                                                  );
                                                                                                                })
                                                                                                                    .toList(),

                                                                                                                onChanged: (
                                                                                                                    newVal) {
                                                                                                                  setState(() {
                                                                                                                    awardEditdropdownvalue =
                                                                                                                        newVal;
                                                                                                                  });
                                                                                                                },
                                                                                                                value: awardEditdropdownvalue,
                                                                                                              ),
                                                                                                            ),

                                                                                                            SizedBox(
                                                                                                              height: 5
                                                                                                                  .h,),
                                                                                                            Row(
                                                                                                              mainAxisAlignment: MainAxisAlignment
                                                                                                                  .start,
                                                                                                              children: [

                                                                                                                Container(
                                                                                                                  child: TextButton(
                                                                                                                    onPressed: () async {
                                                                                                                      setState(() {
                                                                                                                        uploadAwardImage =
                                                                                                                        null;
                                                                                                                        achievementProgress =
                                                                                                                        false;
                                                                                                                      });

                                                                                                                      Navigator
                                                                                                                          .of(
                                                                                                                          context)
                                                                                                                          .pop();
                                                                                                                    },
                                                                                                                    style: ButtonStyle(
                                                                                                                        foregroundColor: MaterialStateProperty
                                                                                                                            .all<
                                                                                                                            Color>(
                                                                                                                            ColorConstants
                                                                                                                                .themeBlue),
                                                                                                                        shape: MaterialStateProperty
                                                                                                                            .all<
                                                                                                                            RoundedRectangleBorder>(
                                                                                                                            RoundedRectangleBorder(
                                                                                                                                borderRadius: BorderRadius
                                                                                                                                    .circular(
                                                                                                                                    5.0),
                                                                                                                                side: BorderSide(
                                                                                                                                    color: ColorConstants
                                                                                                                                        .themeBlue)
                                                                                                                            )
                                                                                                                        )
                                                                                                                    ),
                                                                                                                    child: Text(
                                                                                                                        "Cancel",
                                                                                                                        style: TextStyle(
                                                                                                                            fontSize: 15
                                                                                                                                .sp)),
                                                                                                                  ),
                                                                                                                ),

                                                                                                                SizedBox(
                                                                                                                  width: 10
                                                                                                                      .w,),
                                                                                                                Container(
                                                                                                                  child: TextButton(
                                                                                                                    onPressed: () async {
                                                                                                                      if (achievementFormKey
                                                                                                                          .currentState!
                                                                                                                          .validate()) {
                                                                                                                        editAwrd(
                                                                                                                            user
                                                                                                                                .awardAchivement[i]['awrd_id']);
                                                                                                                        setState(() {
                                                                                                                          achievementProgress =
                                                                                                                          true;
                                                                                                                        });
                                                                                                                      }
                                                                                                                    },
                                                                                                                    style: TextButton
                                                                                                                        .styleFrom(
                                                                                                                      foregroundColor: Colors
                                                                                                                          .white,
                                                                                                                      splashFactory: NoSplash
                                                                                                                          .splashFactory,
                                                                                                                      backgroundColor: ColorConstants
                                                                                                                          .themeBlue, //
                                                                                                                      // padding: const EdgeInsets.only(top: 10, bottom: 10),
                                                                                                                    ),
                                                                                                                    child:
                                                                                                                    Text(
                                                                                                                        "Update",
                                                                                                                        style: TextStyle(
                                                                                                                            fontSize: 15
                                                                                                                                .sp),),
                                                                                                                  ),
                                                                                                                ),


                                                                                                              ],
                                                                                                            ),
                                                                                                            Visibility(
                                                                                                                visible: achievementProgress,
                                                                                                                child: LinearProgressIndicator()),

                                                                                                          ],
                                                                                                        ),
                                                                                                      ),
                                                                                                    )),
                                                                                              );
                                                                                            }
                                                                                            );
                                                                                          });
                                                                                    },
                                                                                    child: const Icon(
                                                                                      Icons
                                                                                          .edit_rounded,
                                                                                      color: Colors
                                                                                          .white,)),
                                                                                SizedBox(
                                                                                  width: 10
                                                                                      .w,),
                                                                                InkWell(
                                                                                    onTap: () {
                                                                                      showDialog<
                                                                                          void>(
                                                                                          context: context,
                                                                                          barrierDismissible: false,
                                                                                          // user must tap button!
                                                                                          builder: (
                                                                                              BuildContext context) {
                                                                                            return
                                                                                              AlertDialog(
                                                                                                contentPadding: const EdgeInsets
                                                                                                    .all(
                                                                                                    10),
                                                                                                title: const Text(
                                                                                                  'Delete Award',
                                                                                                  textAlign: TextAlign
                                                                                                      .center,
                                                                                                  style: TextStyle(
                                                                                                      color: ColorConstants
                                                                                                          .themeBlue),
                                                                                                ),
                                                                                                titleTextStyle: const TextStyle(
                                                                                                  fontSize: 16.0,
                                                                                                  color: Colors
                                                                                                      .blue,
                                                                                                  fontWeight: FontWeight
                                                                                                      .w700,
                                                                                                ),
                                                                                                shape: RoundedRectangleBorder(
                                                                                                  borderRadius: BorderRadius
                                                                                                      .circular(
                                                                                                      8.0),
                                                                                                ),
                                                                                                content: Column(
                                                                                                  mainAxisSize: MainAxisSize
                                                                                                      .min,
                                                                                                  crossAxisAlignment: CrossAxisAlignment
                                                                                                      .center,
                                                                                                  children: <
                                                                                                      Widget>[
                                                                                                    Text(
                                                                                                      'Are you sure you want to remove this record?',
                                                                                                      textAlign: TextAlign
                                                                                                          .center,),
                                                                                                    SizedBox(
                                                                                                      height: 10
                                                                                                          .h,),
                                                                                                    Row(
                                                                                                      mainAxisAlignment: MainAxisAlignment
                                                                                                          .center,
                                                                                                      children: [
                                                                                                        Container(
                                                                                                          child: TextButton(
                                                                                                            onPressed: () async {
                                                                                                              Navigator
                                                                                                                  .of(
                                                                                                                  context)
                                                                                                                  .pop();
                                                                                                            },
                                                                                                            style: ButtonStyle(
                                                                                                                foregroundColor: MaterialStateProperty
                                                                                                                    .all<
                                                                                                                    Color>(
                                                                                                                    ColorConstants
                                                                                                                        .themeBlue),
                                                                                                                shape: MaterialStateProperty
                                                                                                                    .all<
                                                                                                                    RoundedRectangleBorder>(
                                                                                                                    RoundedRectangleBorder(
                                                                                                                        borderRadius: BorderRadius
                                                                                                                            .circular(
                                                                                                                            5.0),
                                                                                                                        side: BorderSide(
                                                                                                                            color: ColorConstants
                                                                                                                                .themeBlue)
                                                                                                                    )
                                                                                                                )
                                                                                                            ),
                                                                                                            child: Text(
                                                                                                                "Cancel",
                                                                                                                style: TextStyle(
                                                                                                                    fontSize: 15
                                                                                                                        .sp)),
                                                                                                          ),
                                                                                                        ),
                                                                                                        SizedBox(
                                                                                                          width: 10
                                                                                                              .w,),
                                                                                                        Container(
                                                                                                          child: TextButton(
                                                                                                            onPressed: () async {
                                                                                                              deleteAwrdImage(
                                                                                                                  user
                                                                                                                      .awardAchivement[i]['awrd_id']
                                                                                                                      .toString());
                                                                                                            },
                                                                                                            style: TextButton
                                                                                                                .styleFrom(
                                                                                                              foregroundColor: Colors
                                                                                                                  .white,
                                                                                                              splashFactory: NoSplash
                                                                                                                  .splashFactory,
                                                                                                              backgroundColor: ColorConstants
                                                                                                                  .themeBlue, //
                                                                                                              // padding: const EdgeInsets.only(top: 10, bottom: 10),
                                                                                                            ),
                                                                                                            child: Text(
                                                                                                                "Yes",
                                                                                                                style: TextStyle(
                                                                                                                    fontSize: 15
                                                                                                                        .sp)),
                                                                                                          ),
                                                                                                        ),
                                                                                                      ],
                                                                                                    ),

                                                                                                  ],
                                                                                                ),

                                                                                              );
                                                                                          }
                                                                                      );
                                                                                    },
                                                                                    child: const Icon(
                                                                                      Icons
                                                                                          .delete_rounded,
                                                                                      color: Colors
                                                                                          .white,)),
                                                                              ],
                                                                            )),
                                                                      ),
                                                                    ),
                                                                  ),
                                                                )
                                                              ],
                                                            ),
                                                          ),

                                                        // (user.awardAchivement.isNotEmpty) ?
                                                        // Container(
                                                        //   margin: EdgeInsets.symmetric(
                                                        //       vertical: 10.w),
                                                        //   child: NotificationListener<
                                                        //       OverscrollIndicatorNotification>(
                                                        //     onNotification:
                                                        //         (
                                                        //         OverscrollIndicatorNotification
                                                        //         overscroll) {
                                                        //       overscroll
                                                        //           .disallowIndicator();
                                                        //       return true;
                                                        //     },
                                                        //     child: Container(
                                                        //       height: 150.h,
                                                        //       margin: EdgeInsetsDirectional
                                                        //           .symmetric(
                                                        //           horizontal: 10.h),
                                                        //       child: ListView(
                                                        //           scrollDirection:
                                                        //           Axis.horizontal,
                                                        //           children: <Widget>[
                                                        //             for (int i = 0; i <
                                                        //                 user.awardAchivement
                                                        //                     .length; i++)
                                                        //
                                                        //               Stack(
                                                        //                 children: [
                                                        //                   GestureDetector(
                                                        //                     onTap: () async {
                                                        //                       await showDialog<
                                                        //                           void>(
                                                        //                           context: context,
                                                        //                           barrierDismissible: false,
                                                        //                           // user must tap button!
                                                        //                           builder: (
                                                        //                               BuildContext context) {
                                                        //                             return AlertDialog(
                                                        //                               contentPadding: EdgeInsets
                                                        //                                   .all(
                                                        //                                   5),
                                                        //                               shape: RoundedRectangleBorder(
                                                        //                                 borderRadius: BorderRadius
                                                        //                                     .circular(
                                                        //                                     8.0),
                                                        //                               ),
                                                        //                               content: SingleChildScrollView(
                                                        //                                 child: Column(
                                                        //                                   children: [
                                                        //                                     Container(
                                                        //
                                                        //                                       child: Column(
                                                        //                                         children: [
                                                        //                                           GestureDetector(
                                                        //                                             onTap: () {
                                                        //                                               Navigator
                                                        //                                                   .of(
                                                        //                                                   context)
                                                        //                                                   .pop();
                                                        //                                             },
                                                        //                                             child: Align(
                                                        //                                                 alignment: Alignment
                                                        //                                                     .topRight,
                                                        //                                                 child: Transform
                                                        //                                                     .rotate(
                                                        //                                                     angle: 45 *
                                                        //                                                         math
                                                        //                                                             .pi /
                                                        //                                                         180,
                                                        //                                                     child: Icon(
                                                        //                                                         Icons
                                                        //                                                             .add_circle_rounded))),
                                                        //                                           ),
                                                        //                                           Image
                                                        //                                               .network(
                                                        //                                               user
                                                        //                                                   .awardAchivement[i]['image'],
                                                        //                                               fit: BoxFit
                                                        //                                                   .fitWidth),
                                                        //                                         ],
                                                        //                                       ),
                                                        //                                     ),
                                                        //                                   ],
                                                        //                                 ),
                                                        //                               ),
                                                        //                             );
                                                        //                           }
                                                        //                       );
                                                        //                     },
                                                        //                     onLongPress: () {
                                                        //                       setState(() {
                                                        //                         showAwardButton =
                                                        //                         true;
                                                        //                       });
                                                        //                     },
                                                        //                     child: Container(
                                                        //                       margin: EdgeInsets
                                                        //                           .only(
                                                        //                           left: 5.w,
                                                        //                           right: 5
                                                        //                               .w),
                                                        //                       padding: EdgeInsets
                                                        //                           .only(
                                                        //                           top: 5.h,
                                                        //                           bottom: 10
                                                        //                               .h,
                                                        //                           left: 5.w,
                                                        //                           right: 5
                                                        //                               .w),
                                                        //                       decoration: BoxDecoration(
                                                        //                           border: Border
                                                        //                               .all(
                                                        //                               color: Colors
                                                        //                                   .grey,
                                                        //                               width: 0.1
                                                        //                                   .w),
                                                        //                           borderRadius:
                                                        //                           BorderRadius
                                                        //                               .all(
                                                        //                               Radius
                                                        //                                   .circular(
                                                        //                                   10
                                                        //                                       .r))),
                                                        //                       child: Column(
                                                        //                         mainAxisAlignment:
                                                        //                         MainAxisAlignment
                                                        //                             .center,
                                                        //                         children: <
                                                        //                             Widget>[
                                                        //                           ClipRRect(
                                                        //                             borderRadius:
                                                        //                             BorderRadius
                                                        //                                 .circular(
                                                        //                                 10
                                                        //                                     .r),
                                                        //                             child:
                                                        //                             FadeInImage(
                                                        //                               height: 100
                                                        //                                   .h,
                                                        //                               width: 100
                                                        //                                   .w,
                                                        //                               fadeOutCurve: Curves
                                                        //                                   .linear,
                                                        //                               placeholderFit: BoxFit
                                                        //                                   .fitWidth,
                                                        //                               placeholder: const AssetImage(
                                                        //                                 'assets/images/logo.png',),
                                                        //                               image: NetworkImage(
                                                        //                                   user
                                                        //                                       .awardAchivement[i]['thumb']),
                                                        //                               imageErrorBuilder: (
                                                        //                                   context,
                                                        //                                   error,
                                                        //                                   stackTrace) {
                                                        //                                 return Image
                                                        //                                     .asset(
                                                        //                                     'assets/images/logo.png',
                                                        //                                     height: 100
                                                        //                                         .h,
                                                        //                                     width: 100
                                                        //                                         .w,
                                                        //                                     fit: BoxFit
                                                        //                                         .fitWidth);
                                                        //                               },
                                                        //                               fit: BoxFit
                                                        //                                   .cover,
                                                        //                             ),
                                                        //                           ),
                                                        //
                                                        //                           Text(
                                                        //                             user
                                                        //                                 .awardAchivement[i]['title'],
                                                        //                             textScaleFactor: 1.0,
                                                        //                             textAlign:
                                                        //                             TextAlign
                                                        //                                 .center,
                                                        //                             style: TextStyle(
                                                        //                                 fontSize: 13
                                                        //                                     .sp,
                                                        //                                 color:
                                                        //                                 Colors
                                                        //                                     .black),
                                                        //                           ),
                                                        //                           Text(
                                                        //                             user
                                                        //                                 .awardAchivement[i]['year'],
                                                        //                             textScaleFactor: 1.0,
                                                        //                             textAlign:
                                                        //                             TextAlign
                                                        //                                 .center,
                                                        //                             style: TextStyle(
                                                        //                                 fontSize: 13
                                                        //                                     .sp,
                                                        //                                 color:
                                                        //                                 Colors
                                                        //                                     .black),
                                                        //                           ),
                                                        //                         ],
                                                        //                       ),
                                                        //                     ),
                                                        //                   ),
                                                        //                   Visibility(
                                                        //                     visible: showAwardButton,
                                                        //                     child: Positioned
                                                        //                         .fill(
                                                        //                       child: Align(
                                                        //                         alignment: Alignment
                                                        //                             .center,
                                                        //                         child: Container(
                                                        //                           margin: EdgeInsets
                                                        //                               .only(
                                                        //                               left: 5
                                                        //                                   .w,
                                                        //                               right: 5
                                                        //                                   .w),
                                                        //                           // height: 100,
                                                        //                           // width: 90,
                                                        //                           decoration: BoxDecoration(
                                                        //                             borderRadius: BorderRadius
                                                        //                                 .circular(
                                                        //                                 10),
                                                        //                             color: Colors
                                                        //                                 .black54
                                                        //                                 .withOpacity(
                                                        //                                 0.5),),
                                                        //
                                                        //                           child: Align(
                                                        //                               alignment: Alignment
                                                        //                                   .center,
                                                        //                               child: Row(
                                                        //                                 mainAxisAlignment: MainAxisAlignment
                                                        //                                     .center,
                                                        //                                 children: [
                                                        //                                   InkWell(
                                                        //                                       onTap: () async {
                                                        //                                         showModalBottomSheet(
                                                        //                                             showDragHandle: true,
                                                        //                                             isScrollControlled: true,
                                                        //                                             enableDrag: true,
                                                        //                                             useSafeArea: true,
                                                        //                                             shape: RoundedRectangleBorder(
                                                        //                                               borderRadius: BorderRadius
                                                        //                                                   .vertical(
                                                        //                                                 top: Radius
                                                        //                                                     .circular(
                                                        //                                                     20),
                                                        //                                               ),
                                                        //                                             ),
                                                        //                                             context: context,
                                                        //                                             builder: (context) {
                                                        //                                               return Container(
                                                        //                                                 margin: EdgeInsets.symmetric(horizontal: 20.w),
                                                        //                                                 child:   Form(
                                                        //                                                   key: achievementFormKey,
                                                        //
                                                        //                                                   child: Column(
                                                        //                                                     mainAxisSize: MainAxisSize
                                                        //                                                         .min,
                                                        //                                                     crossAxisAlignment: CrossAxisAlignment
                                                        //                                                         .center,
                                                        //                                                     children: <
                                                        //                                                         Widget>[
                                                        //
                                                        //                                                       for (int i = 0; i <
                                                        //                                                           user
                                                        //                                                               .awardAchivement
                                                        //                                                               .length; i++)
                                                        //                                                         Stack(
                                                        //                                                           children: [
                                                        //                                                             Container(
                                                        //                                                               child: (uploadAwardImage ==
                                                        //                                                                   null)
                                                        //                                                                   ?
                                                        //                                                               ClipRRect(
                                                        //                                                                 // padding: EdgeInsets
                                                        //                                                                 //     .all(
                                                        //                                                                 //     30),
                                                        //                                                                 borderRadius: BorderRadius
                                                        //                                                                     .circular(
                                                        //                                                                     10
                                                        //                                                                         .r),
                                                        //                                                                 child: Image
                                                        //                                                                     .network(
                                                        //                                                                   user
                                                        //                                                                       .awardAchivement[i]['image'],
                                                        //                                                                   // height: 50
                                                        //                                                                   //     .h,
                                                        //                                                                   // width: 50
                                                        //                                                                   //     .w,
                                                        //                                                                   fit: BoxFit
                                                        //                                                                       .cover,),
                                                        //                                                               )
                                                        //                                                                   :
                                                        //                                                               ClipRRect(
                                                        //                                                                 borderRadius: BorderRadius
                                                        //                                                                     .circular(
                                                        //                                                                     10
                                                        //                                                                         .r),
                                                        //                                                                 child: Image
                                                        //                                                                     .file(
                                                        //                                                                   uploadAwardImage!,
                                                        //                                                                   fit: BoxFit
                                                        //                                                                       .cover,
                                                        //                                                                 ),
                                                        //                                                               ),
                                                        //                                                             ),
                                                        //                                                             Positioned
                                                        //                                                                 .fill(
                                                        //                                                               child: Align(
                                                        //                                                                 alignment: Alignment
                                                        //                                                                     .center,
                                                        //                                                                 child: Container(
                                                        //                                                                   // margin: EdgeInsets
                                                        //                                                                   //     .only(right: 10
                                                        //                                                                   //     .w),
                                                        //                                                                   // height: 100,
                                                        //                                                                   // width: 90,
                                                        //                                                                   decoration: BoxDecoration(
                                                        //                                                                     borderRadius: BorderRadius
                                                        //                                                                         .circular(
                                                        //                                                                         10),
                                                        //                                                                     color: Colors
                                                        //                                                                         .black54
                                                        //                                                                         .withOpacity(
                                                        //                                                                         0.5),),
                                                        //
                                                        //                                                                   child: Align(
                                                        //                                                                       alignment: Alignment
                                                        //                                                                           .center,
                                                        //                                                                       child: InkWell(
                                                        //                                                                           onTap: () async {
                                                        //                                                                             // chooseGalleryImage();
                                                        //                                                                             PickedFile? pickedFile = await ImagePicker()
                                                        //                                                                                 .getImage(
                                                        //                                                                               source: ImageSource
                                                        //                                                                                   .gallery,
                                                        //                                                                               maxWidth: 500,
                                                        //                                                                               maxHeight: 500,
                                                        //                                                                             );
                                                        //                                                                             if (pickedFile !=
                                                        //                                                                                 null) {
                                                        //                                                                               setState(() {
                                                        //                                                                                 uploadAwardImage =
                                                        //                                                                                     File(
                                                        //                                                                                         pickedFile
                                                        //                                                                                             .path);
                                                        //                                                                               });
                                                        //                                                                             }
                                                        //                                                                           },
                                                        //                                                                           child: Icon(
                                                        //                                                                             Icons
                                                        //                                                                                 .add_photo_alternate_rounded,
                                                        //                                                                             color: Colors
                                                        //                                                                                 .white,))),
                                                        //                                                                 ),
                                                        //                                                               ),
                                                        //                                                             ),
                                                        //                                                           ],
                                                        //                                                         ),
                                                        //                                                       SizedBox(
                                                        //                                                         height: 10
                                                        //                                                             .h,),
                                                        //                                                       TextFormField(
                                                        //                                                         controller: awardEditTitleController
                                                        //                                                           ..text = user
                                                        //                                                               .awardAchivement[i]['title'],
                                                        //                                                         // initialValue: name,
                                                        //                                                         // focusNode: _nodeFullname,
                                                        //                                                         keyboardType: TextInputType
                                                        //                                                             .text,
                                                        //                                                         validator: (
                                                        //                                                             value) {
                                                        //                                                           if (value!
                                                        //                                                               .isEmpty) {
                                                        //                                                             return "Enter title";
                                                        //                                                           }
                                                        //                                                           // else if (value.length <= 10) {
                                                        //                                                           //   return "Describe yourself in greater than 10 words";
                                                        //                                                           // }
                                                        //                                                           else
                                                        //                                                             return null;
                                                        //                                                         },
                                                        //                                                         decoration: InputDecoration(
                                                        //                                                           contentPadding: EdgeInsets.only(right: 0,left: 10,top: 0.0,bottom: 0.0),
                                                        //                                                           hintText: 'Title',
                                                        //                                                           border: OutlineInputBorder(),
                                                        //                                                         ),
                                                        //                                                         textInputAction: TextInputAction
                                                        //                                                             .next,
                                                        //                                                         onEditingComplete: () {
                                                        //                                                           // FocusScope.of(context).requestFocus(_nodePassword);
                                                        //                                                         },
                                                        //                                                       ),
                                                        //                                                       SizedBox(
                                                        //                                                         height: 10
                                                        //                                                             .h,),
                                                        //                                                       TextFormField(
                                                        //                                                         controller: awardEditDateController
                                                        //                                                           ..text = user
                                                        //                                                               .awardAchivement[i]['year'],
                                                        //                                                         validator: (
                                                        //                                                             value) {
                                                        //                                                           if (value!
                                                        //                                                               .isEmpty) {
                                                        //                                                             return "The when feild is required";
                                                        //                                                           }
                                                        //                                                           // else if (value.length <= 10) {
                                                        //                                                           //   return "Describe yourself in greater than 10 words";
                                                        //                                                           // }
                                                        //                                                           else
                                                        //                                                             return null;
                                                        //                                                         },
                                                        //
                                                        //                                                         //editing controller of this TextField
                                                        //                                                         decoration: InputDecoration(
                                                        //                                                             contentPadding: EdgeInsets.only(right: 0,left: 10,top: 0.0,bottom: 0.0),
                                                        //                                                             border: OutlineInputBorder(),
                                                        //                                                             hintText: 'Enter Date',
                                                        //                                                             suffixIcon: Icon(
                                                        //                                                                 Icons
                                                        //                                                                     .calendar_month_rounded)
                                                        //
                                                        //                                                         ),
                                                        //
                                                        //                                                         readOnly: true,
                                                        //                                                         //set it true, so that user will not able to edit text
                                                        //                                                         onTap: () async {
                                                        //                                                           DateTime? pickedDate = await showDatePicker(
                                                        //                                                               context: context,
                                                        //                                                               initialDate: DateTime
                                                        //                                                                   .now(),
                                                        //                                                               firstDate: DateTime(
                                                        //                                                                   2000),
                                                        //                                                               //DateTime.now() - not to allow to choose before today.
                                                        //                                                               lastDate: DateTime(
                                                        //                                                                   2101)
                                                        //                                                           );
                                                        //
                                                        //                                                           if (pickedDate !=
                                                        //                                                               null) {
                                                        //                                                             print(
                                                        //                                                                 pickedDate); //pickedDate output format => 2021-03-10 00:00:00.000
                                                        //                                                             String formattedDate = DateFormat(
                                                        //                                                                 'dd-MM-yyyy')
                                                        //                                                                 .format(
                                                        //                                                                 pickedDate);
                                                        //                                                             print(
                                                        //                                                                 formattedDate); //formatted date output using intl package =>  2021-03-16
                                                        //                                                             //you can implement different kind of Date Format here according to your requirement
                                                        //
                                                        //                                                             setState(() {
                                                        //                                                               awardEditDateController
                                                        //                                                                   .text =
                                                        //                                                                   formattedDate; //set output date to TextField value.
                                                        //                                                             });
                                                        //                                                           } else {
                                                        //                                                             print(
                                                        //                                                                 "Date is not selected");
                                                        //                                                           }
                                                        //                                                         },
                                                        //                                                       ),
                                                        //                                                       SizedBox(
                                                        //                                                         height: 10
                                                        //                                                             .h,),
                                                        //
                                                        //                                                       Container(
                                                        //                                                         height:40.h,
                                                        //                                                         padding: const EdgeInsets
                                                        //                                                             .only(
                                                        //                                                             left: 0,
                                                        //                                                             right: 10),
                                                        //
                                                        //
                                                        //                                                         decoration: BoxDecoration(
                                                        //                                                             border: Border.all(color: Colors.grey),
                                                        //                                                             borderRadius: BorderRadius
                                                        //                                                                 .circular(5)
                                                        //                                                         ),
                                                        //                                                         child: DropdownButton2(
                                                        //                                                           dropdownStyleData: DropdownStyleData(
                                                        //                                                               useSafeArea: false,
                                                        //                                                               offset: Offset(
                                                        //                                                                   5,
                                                        //                                                                   -10),
                                                        //                                                               maxHeight: 200
                                                        //                                                                   .h,
                                                        //                                                               scrollbarTheme: ScrollbarThemeData(
                                                        //                                                                   thumbVisibility: MaterialStateProperty
                                                        //                                                                       .all(
                                                        //                                                                       true)),
                                                        //                                                               decoration: BoxDecoration(
                                                        //                                                                   borderRadius: BorderRadius
                                                        //                                                                       .circular(
                                                        //                                                                       10))
                                                        //                                                           ),
                                                        //                                                           underline: Container(),
                                                        //                                                           isExpanded: true,
                                                        //                                                           // value: awardType,
                                                        //                                                           style: TextStyle(
                                                        //                                                               color: Colors
                                                        //                                                                   .black54,
                                                        //                                                               fontSize: 15),
                                                        //                                                           hint: Text(
                                                        //                                                             "Select Award Type",
                                                        //                                                             style: TextStyle(
                                                        //                                                               color: Colors
                                                        //                                                                   .grey
                                                        //                                                                   .shade600,
                                                        //                                                               fontSize: 15,
                                                        //                                                             ),
                                                        //                                                           ),
                                                        //                                                           items: awardType
                                                        //                                                               .map((
                                                        //                                                               item) {
                                                        //                                                             return DropdownMenuItem(
                                                        //                                                               value: item['title']
                                                        //                                                                   .toString(),
                                                        //                                                               child: Text(
                                                        //                                                                   item['title']
                                                        //                                                                       .toString()),
                                                        //                                                             );
                                                        //                                                           })
                                                        //                                                               .toList(),
                                                        //
                                                        //                                                           onChanged: (
                                                        //                                                               newVal) {
                                                        //                                                             setState(() {
                                                        //                                                               awardEditdropdownvalue =
                                                        //                                                                   newVal;
                                                        //                                                             });
                                                        //                                                           },
                                                        //                                                           value: awardEditdropdownvalue,
                                                        //                                                         ),
                                                        //                                                       ),
                                                        //
                                                        //                                                       SizedBox(
                                                        //                                                         height: 5
                                                        //                                                             .h,),
                                                        //                                                       Row(
                                                        //                                                         mainAxisAlignment: MainAxisAlignment
                                                        //                                                             .start,
                                                        //                                                         children: [
                                                        //
                                                        //                                                           Container(
                                                        //                                                             child: TextButton(
                                                        //                                                               onPressed: () async {
                                                        //                                                                 setState(() {
                                                        //                                                                   uploadAwardImage =
                                                        //                                                                   null;
                                                        //                                                                   achievementProgress =
                                                        //                                                                   false;
                                                        //                                                                 });
                                                        //
                                                        //                                                                 Navigator
                                                        //                                                                     .of(
                                                        //                                                                     context)
                                                        //                                                                     .pop();
                                                        //                                                               },
                                                        //                                                               style: ButtonStyle(
                                                        //                                                                   foregroundColor: MaterialStateProperty
                                                        //                                                                       .all<
                                                        //                                                                       Color>(
                                                        //                                                                       ColorConstants
                                                        //                                                                           .themeBlue),
                                                        //                                                                   shape: MaterialStateProperty
                                                        //                                                                       .all<
                                                        //                                                                       RoundedRectangleBorder>(
                                                        //                                                                       RoundedRectangleBorder(
                                                        //                                                                           borderRadius: BorderRadius
                                                        //                                                                               .circular(
                                                        //                                                                               5.0),
                                                        //                                                                           side: BorderSide(
                                                        //                                                                               color: ColorConstants
                                                        //                                                                                   .themeBlue)
                                                        //                                                                       )
                                                        //                                                                   )
                                                        //                                                               ),
                                                        //                                                               child: Text(
                                                        //                                                                   "Cancel",
                                                        //                                                                   style: TextStyle(
                                                        //                                                                       fontSize: 20
                                                        //                                                                           .sp)),
                                                        //                                                             ),
                                                        //                                                           ),
                                                        //
                                                        //                                                           SizedBox(
                                                        //                                                             width: 10
                                                        //                                                                 .w,),
                                                        //                                                           Container(
                                                        //                                                             child: TextButton(
                                                        //                                                               onPressed: () async {
                                                        //                                                                 if (achievementFormKey
                                                        //                                                                     .currentState!
                                                        //                                                                     .validate()) {
                                                        //                                                                   editAwrd(
                                                        //                                                                       user
                                                        //                                                                           .awardAchivement[i]['awrd_id']);
                                                        //                                                                   setState(() {
                                                        //                                                                     achievementProgress =
                                                        //                                                                     true;
                                                        //                                                                   });
                                                        //                                                                 }
                                                        //                                                               },
                                                        //                                                               style: TextButton
                                                        //                                                                   .styleFrom(
                                                        //                                                                 primary: Colors
                                                        //                                                                     .white,
                                                        //                                                                 splashFactory: NoSplash
                                                        //                                                                     .splashFactory,
                                                        //                                                                 backgroundColor: ColorConstants
                                                        //                                                                     .themeBlue, //
                                                        //                                                                 // padding: const EdgeInsets.only(top: 10, bottom: 10),
                                                        //                                                               ),
                                                        //                                                               child:
                                                        //                                                               Text(
                                                        //                                                                   "Update",
                                                        //                                                                   style: TextStyle(
                                                        //                                                                       fontSize: 20
                                                        //                                                                           .sp)),
                                                        //                                                             ),
                                                        //                                                           ),
                                                        //
                                                        //
                                                        //                                                         ],
                                                        //                                                       ),
                                                        //                                                       Visibility(
                                                        //                                                           visible: achievementProgress,
                                                        //                                                           child: LinearProgressIndicator()),
                                                        //
                                                        //                                                     ],
                                                        //                                                   ),
                                                        //                                                 ),
                                                        //                                               );
                                                        //                                             });
                                                        //
                                                        //                                       },
                                                        //                                       child: Icon(
                                                        //                                         Icons
                                                        //                                             .edit_rounded,
                                                        //                                         color: Colors
                                                        //                                             .white,)),
                                                        //                                   SizedBox(
                                                        //                                     width: 10
                                                        //                                         .w,),
                                                        //                                   InkWell(
                                                        //                                       onTap: () {
                                                        //                                         showDialog<
                                                        //                                             void>(
                                                        //                                             context: context,
                                                        //                                             barrierDismissible: false,
                                                        //                                             // user must tap button!
                                                        //                                             builder: (
                                                        //                                                 BuildContext context) {
                                                        //                                               return
                                                        //                                                 AlertDialog(
                                                        //                                                   contentPadding: EdgeInsets
                                                        //                                                       .all(
                                                        //                                                       10),
                                                        //                                                   title: Text(
                                                        //                                                     'Delete Award',
                                                        //                                                     textAlign: TextAlign
                                                        //                                                         .center,
                                                        //                                                     style: TextStyle(
                                                        //                                                         color: ColorConstants
                                                        //                                                             .themeBlue),
                                                        //                                                   ),
                                                        //                                                   titleTextStyle: TextStyle(
                                                        //                                                     fontSize: 16.0,
                                                        //                                                     color: Colors
                                                        //                                                         .blue,
                                                        //                                                     fontWeight: FontWeight
                                                        //                                                         .w700,
                                                        //                                                   ),
                                                        //                                                   shape: RoundedRectangleBorder(
                                                        //                                                     borderRadius: BorderRadius
                                                        //                                                         .circular(
                                                        //                                                         8.0),
                                                        //                                                   ),
                                                        //                                                   content: Column(
                                                        //                                                     mainAxisSize: MainAxisSize
                                                        //                                                         .min,
                                                        //                                                     crossAxisAlignment: CrossAxisAlignment
                                                        //                                                         .center,
                                                        //                                                     children: <
                                                        //                                                         Widget>[
                                                        //                                                       Container(
                                                        //                                                           child:
                                                        //                                                           Text(
                                                        //                                                             'Are you sure you want to remove this record?',
                                                        //                                                             textAlign: TextAlign
                                                        //                                                                 .center,)
                                                        //                                                       ),
                                                        //                                                       SizedBox(
                                                        //                                                         height: 10
                                                        //                                                             .h,),
                                                        //                                                       Row(
                                                        //                                                         mainAxisAlignment: MainAxisAlignment
                                                        //                                                             .center,
                                                        //                                                         children: [
                                                        //                                                           Container(
                                                        //                                                             child: TextButton(
                                                        //                                                               onPressed: () async {
                                                        //                                                                 Navigator
                                                        //                                                                     .of(
                                                        //                                                                     context)
                                                        //                                                                     .pop();
                                                        //                                                               },
                                                        //                                                               style: ButtonStyle(
                                                        //                                                                   foregroundColor: MaterialStateProperty
                                                        //                                                                       .all<
                                                        //                                                                       Color>(
                                                        //                                                                       ColorConstants
                                                        //                                                                           .themeBlue),
                                                        //                                                                   shape: MaterialStateProperty
                                                        //                                                                       .all<
                                                        //                                                                       RoundedRectangleBorder>(
                                                        //                                                                       RoundedRectangleBorder(
                                                        //                                                                           borderRadius: BorderRadius
                                                        //                                                                               .circular(
                                                        //                                                                               5.0),
                                                        //                                                                           side: BorderSide(
                                                        //                                                                               color: ColorConstants
                                                        //                                                                                   .themeBlue)
                                                        //                                                                       )
                                                        //                                                                   )
                                                        //                                                               ),
                                                        //                                                               child: Text(
                                                        //                                                                   "Cancel",
                                                        //                                                                   style: TextStyle(
                                                        //                                                                       fontSize: 20
                                                        //                                                                           .sp)),
                                                        //                                                             ),
                                                        //                                                           ),
                                                        //                                                           SizedBox(
                                                        //                                                             width: 10
                                                        //                                                                 .w,),
                                                        //                                                           Container(
                                                        //                                                             child: TextButton(
                                                        //                                                               onPressed: () async {
                                                        //                                                                 deleteAwrdImage(
                                                        //                                                                     user
                                                        //                                                                         .awardAchivement[i]['awrd_id']
                                                        //                                                                         .toString());
                                                        //                                                               },
                                                        //                                                               style: TextButton
                                                        //                                                                   .styleFrom(
                                                        //                                                                 primary: Colors
                                                        //                                                                     .white,
                                                        //                                                                 splashFactory: NoSplash
                                                        //                                                                     .splashFactory,
                                                        //                                                                 backgroundColor: ColorConstants
                                                        //                                                                     .themeBlue, //
                                                        //                                                                 // padding: const EdgeInsets.only(top: 10, bottom: 10),
                                                        //                                                               ),
                                                        //                                                               child: Text(
                                                        //                                                                   "Yes",
                                                        //                                                                   style: TextStyle(
                                                        //                                                                       fontSize: 20
                                                        //                                                                           .sp)),
                                                        //                                                             ),
                                                        //                                                           ),
                                                        //                                                         ],
                                                        //                                                       ),
                                                        //
                                                        //                                                     ],
                                                        //                                                   ),
                                                        //
                                                        //                                                 );
                                                        //                                             }
                                                        //                                         );
                                                        //                                       },
                                                        //                                       child: Icon(
                                                        //                                         Icons
                                                        //                                             .delete_rounded,
                                                        //                                         color: Colors
                                                        //                                             .white,)),
                                                        //                                 ],
                                                        //                               )),
                                                        //                         ),
                                                        //                       ),
                                                        //                     ),
                                                        //                   )
                                                        //                 ],
                                                        //               ),
                                                        //
                                                        //           ]),
                                                        //     ),
                                                        //   ),
                                                        // ) :
                                                        // Container(
                                                        //   height: 100.h,
                                                        //   child: Center(
                                                        //       child: Text(
                                                        //           'No Data Found')),),

                                                      ],),
                                                  ),
                                                ),


                                              ],
                                            ),
                                          ),
                                          SizedBox(
                                            height: 10.h,
                                          ),
                                          InkWell(
                                            onTap: () {
                                              setState(() {
                                                showGalleryButton = false;
                                              });
                                            },
                                            child: Container(
                                              padding: EdgeInsets.symmetric(
                                                  vertical: 5.0),
                                              decoration: BoxDecoration(
                                                color: Colors.white,
                                                borderRadius: BorderRadius.all(
                                                  Radius.circular(10.0),
                                                ),
                                              ),
                                              margin: EdgeInsets.only(
                                                  left: 10.w, right: 10.w),
                                              child: Column(
                                                children: [
                                                  Container(
                                                    margin: EdgeInsets.only(
                                                        left: 5.w),
                                                    child: Row(
                                                      crossAxisAlignment: CrossAxisAlignment
                                                          .center,
                                                      children: [
                                                        Icon(
                                                          Icons
                                                              .collections_rounded,
                                                          size: 23.sp,
                                                        ),
                                                        SizedBox(
                                                          width: 5.w,
                                                        ),
                                                        Text(
                                                          "Gallery",
                                                          textScaleFactor: 1.0,
                                                          style: TextStyle(
                                                              fontSize: 20.sp),
                                                        )
                                                      ],
                                                    ),
                                                  ),
                                                  SizedBox(
                                                    height: 5.h,
                                                  ),

                                                  Align(
                                                    alignment: Alignment
                                                        .topLeft,
                                                    child: SingleChildScrollView(

                                                      scrollDirection: Axis
                                                          .horizontal,
                                                      child:
                                                      Wrap(
                                                        direction: Axis
                                                            .horizontal,
                                                        children: [
                                                          (user.gallery
                                                              .length >= 5)
                                                              ? Container()
                                                              :
                                                          InkWell(
                                                            onTap: () async {
                                                              showDialog<
                                                                  ImageSource>(
                                                                  context: context,
                                                                  builder: (
                                                                      BuildContext bc) {
                                                                    return
                                                                      AlertDialog(
                                                                        contentPadding: const EdgeInsets
                                                                            .all(
                                                                            10),
                                                                        title: Text(
                                                                          'Add images',
                                                                          textAlign: TextAlign
                                                                              .center,
                                                                          style: TextStyle(
                                                                              color: ColorConstants
                                                                                  .themeBlue),
                                                                        ),
                                                                        titleTextStyle: const TextStyle(
                                                                          fontSize: 16.0,
                                                                          color: Colors
                                                                              .blue,
                                                                          fontWeight: FontWeight
                                                                              .w700,
                                                                        ),
                                                                        shape: RoundedRectangleBorder(
                                                                          borderRadius: BorderRadius
                                                                              .circular(
                                                                              8.0),
                                                                        ),
                                                                        content: StatefulBuilder(
                                                                            builder: (
                                                                                BuildContext context,
                                                                                StateSetter setState) {
                                                                              return
                                                                                Column(
                                                                                  mainAxisSize: MainAxisSize
                                                                                      .min,
                                                                                  crossAxisAlignment: CrossAxisAlignment
                                                                                      .center,
                                                                                  children: <
                                                                                      Widget>[

                                                                                    Container(
                                                                                      child: (uploadGalImage ==
                                                                                          null)
                                                                                          ?
                                                                                      Container(
                                                                                        padding: EdgeInsets
                                                                                            .all(
                                                                                            30),
                                                                                        child: Row(
                                                                                          mainAxisAlignment: MainAxisAlignment
                                                                                              .center,
                                                                                          children: [
                                                                                            InkWell(
                                                                                              onTap: () async {
                                                                                                // chooseGalleryImage();
                                                                                                PickedFile? pickedFile = await ImagePicker()
                                                                                                    .getImage(
                                                                                                  source: ImageSource
                                                                                                      .gallery,
                                                                                                  maxWidth: 500,
                                                                                                  maxHeight: 500,
                                                                                                );
                                                                                                if (pickedFile !=
                                                                                                    null) {
                                                                                                  setState(() {
                                                                                                    print(
                                                                                                        'hgjhv $uploadGalImage');
                                                                                                    uploadGalImage =
                                                                                                        File(
                                                                                                            pickedFile
                                                                                                                .path);
                                                                                                  });
                                                                                                }
                                                                                              },
                                                                                              child: Image
                                                                                                  .asset(
                                                                                                'assets/images/gallery.png',
                                                                                                height: 40
                                                                                                    .h,
                                                                                                width: 40
                                                                                                    .w,
                                                                                              ),
                                                                                            ),
                                                                                            SizedBox(
                                                                                              width: 20
                                                                                                  .w,),
                                                                                            InkWell(
                                                                                              onTap: () async {
                                                                                                // chooseGalleryImage();
                                                                                                PickedFile? pickedFile = await ImagePicker()
                                                                                                    .getImage(
                                                                                                  source: ImageSource
                                                                                                      .camera,
                                                                                                  maxWidth: 500,
                                                                                                  maxHeight: 500,
                                                                                                );
                                                                                                if (pickedFile !=
                                                                                                    null) {
                                                                                                  setState(() {
                                                                                                    print(
                                                                                                        'hgjhv $uploadGalImage');
                                                                                                    uploadGalImage =
                                                                                                        File(
                                                                                                            pickedFile
                                                                                                                .path);
                                                                                                  });
                                                                                                }
                                                                                              },
                                                                                              child: Image
                                                                                                  .asset(
                                                                                                'assets/images/camera.png',
                                                                                                height: 50
                                                                                                    .h,
                                                                                                width: 50
                                                                                                    .w,


                                                                                              ),
                                                                                            ),
                                                                                          ],
                                                                                        ),
                                                                                      )
                                                                                          :
                                                                                      ClipRRect(
                                                                                        borderRadius: BorderRadius
                                                                                            .circular(
                                                                                            10),
                                                                                        child: Image
                                                                                            .file(
                                                                                          uploadGalImage!,
                                                                                          fit: BoxFit
                                                                                              .cover,
                                                                                        ),
                                                                                      ),
                                                                                    ),

                                                                                    SizedBox(
                                                                                      height: 5
                                                                                          .h,),
                                                                                    Row(
                                                                                      mainAxisAlignment: MainAxisAlignment
                                                                                          .center,
                                                                                      children: [
                                                                                        Expanded(
                                                                                          child: Container(
                                                                                            child: TextButton(
                                                                                              onPressed: () async {
                                                                                                setState(() {
                                                                                                  uploadGalImage =
                                                                                                  null;
                                                                                                  galleryProgress =
                                                                                                  false;
                                                                                                });
                                                                                                Navigator
                                                                                                    .of(
                                                                                                    context)
                                                                                                    .pop();
                                                                                              },
                                                                                              style: ButtonStyle(
                                                                                                  foregroundColor: MaterialStateProperty
                                                                                                      .all<
                                                                                                      Color>(
                                                                                                      ColorConstants
                                                                                                          .themeBlue),
                                                                                                  shape: MaterialStateProperty
                                                                                                      .all<
                                                                                                      RoundedRectangleBorder>(
                                                                                                      RoundedRectangleBorder(
                                                                                                        borderRadius: BorderRadius
                                                                                                            .circular(
                                                                                                            5.0),
                                                                                                        side: BorderSide(
                                                                                                            color: ColorConstants
                                                                                                                .themeBlue),
                                                                                                      )
                                                                                                  )
                                                                                              ),
                                                                                              child: Text(
                                                                                                  "Cancel",
                                                                                                  style: TextStyle(
                                                                                                      fontSize: 20
                                                                                                          .sp)),
                                                                                            ),
                                                                                          ),
                                                                                        ),
                                                                                        SizedBox(
                                                                                          width: 10
                                                                                              .w,),
                                                                                        Expanded(
                                                                                          child: (uploadGalImage ==
                                                                                              null)
                                                                                              ?
                                                                                          Container(
                                                                                            child: TextButton(
                                                                                              onPressed: () {},
                                                                                              style: TextButton
                                                                                                  .styleFrom(
                                                                                                foregroundColor: Colors
                                                                                                    .white,
                                                                                                splashFactory: NoSplash
                                                                                                    .splashFactory,
                                                                                                backgroundColor: ColorConstants
                                                                                                    .themeBlue
                                                                                                    .withOpacity(
                                                                                                    0.5), //
                                                                                                // padding: const EdgeInsets.only(top: 10, bottom: 10),
                                                                                              ),
                                                                                              child:
                                                                                              Text(
                                                                                                  "Add",
                                                                                                  style: TextStyle(
                                                                                                      fontSize: 20
                                                                                                          .sp)),
                                                                                            ),
                                                                                          )
                                                                                              :
                                                                                          Container(
                                                                                            child: TextButton(
                                                                                              onPressed: () async {
                                                                                                uploadGalleryImage();
                                                                                                setState(() {
                                                                                                  galleryProgress =
                                                                                                  true;
                                                                                                });
                                                                                              },
                                                                                              style: TextButton
                                                                                                  .styleFrom(
                                                                                                foregroundColor: Colors
                                                                                                    .white,
                                                                                                splashFactory: NoSplash
                                                                                                    .splashFactory,
                                                                                                backgroundColor: ColorConstants
                                                                                                    .themeBlue, //
                                                                                                // padding: const EdgeInsets.only(top: 10, bottom: 10),
                                                                                              ),
                                                                                              child:
                                                                                              Text(
                                                                                                  "Upload Image",
                                                                                                  style: TextStyle(
                                                                                                      fontSize: 18
                                                                                                          .sp)),
                                                                                            ),
                                                                                          ),
                                                                                        ),

                                                                                      ],
                                                                                    ),
                                                                                    Visibility(
                                                                                        visible: galleryProgress,
                                                                                        child: LinearProgressIndicator()),

                                                                                  ],
                                                                                );
                                                                            }
                                                                        ),

                                                                      );
                                                                  }
                                                              );
                                                            },
                                                            child: Container(
                                                                margin: EdgeInsets
                                                                    .only(
                                                                    top: 10.h,
                                                                    bottom: 10
                                                                        .h,
                                                                    left: 10.w,
                                                                    right: 10
                                                                        .w),
                                                                width: 100.w,
                                                                height: 100.h,
                                                                decoration: BoxDecoration(
                                                                  color: ColorConstants
                                                                      .backgroundColor,
                                                                  borderRadius: BorderRadius
                                                                      .circular(
                                                                      10.r),
                                                                ),
                                                                // alignment: Alignment.bottomLeft,
                                                                child:
                                                                Column(
                                                                  mainAxisAlignment: MainAxisAlignment
                                                                      .center,
                                                                  children: [
                                                                    Container(
                                                                        padding: EdgeInsets
                                                                            .all(
                                                                            5),
                                                                        decoration: BoxDecoration(
                                                                            border: Border
                                                                                .all(
                                                                                color: Colors
                                                                                    .grey),
                                                                            color: Colors
                                                                                .white,
                                                                            borderRadius: BorderRadius
                                                                                .circular(
                                                                                100
                                                                                    .r)),
                                                                        child: Icon(
                                                                          Icons
                                                                              .add,
                                                                          color: Colors
                                                                              .grey,)),

                                                                    SizedBox(
                                                                      height: 5
                                                                          .h,),
                                                                    Text(
                                                                      'Add More',
                                                                      style: TextStyle(
                                                                          fontSize: 12
                                                                              .sp),)
                                                                  ],
                                                                )

                                                            ),
                                                          ),

                                                          for (int i = 0; i <
                                                              user.gallery
                                                                  .length; i++)

                                                            Container(
                                                              margin: EdgeInsets
                                                                  .symmetric(
                                                                  vertical: 10
                                                                      .w),
                                                              child: Stack(
                                                                children: [
                                                                  InkWell(
                                                                    onLongPress: () {
                                                                      setState(() {
                                                                        showGalleryButton =
                                                                        true;
                                                                      });
                                                                    },
                                                                    onTap: () {
                                                                      print(
                                                                          'vjhvjh ${user
                                                                              .gallery[i]['thumb']}');
                                                                      Navigator
                                                                          .of(
                                                                          context as BuildContext)
                                                                          .push(
                                                                        MaterialPageRoute(
                                                                          builder: (
                                                                              _) =>
                                                                              GalleryWidget(
                                                                                  galleryImages: [
                                                                                    for(int g = 0; g <
                                                                                        user
                                                                                            .gallery
                                                                                            .length; g++)
                                                                                      user
                                                                                          .gallery[g]['image'],
                                                                                  ]),
                                                                        ),
                                                                      );
                                                                    },
                                                                    child: Container(
                                                                      margin: EdgeInsets
                                                                          .only(
                                                                          right: 10
                                                                              .w),
                                                                      child: ClipRRect(
                                                                        borderRadius:
                                                                        BorderRadius
                                                                            .circular(
                                                                            10
                                                                                .r),
                                                                        child:
                                                                        FadeInImage(
                                                                          height: 100
                                                                              .h,
                                                                          width: 100
                                                                              .w,
                                                                          fadeOutCurve: Curves
                                                                              .linear,
                                                                          placeholderFit: BoxFit
                                                                              .fitWidth,
                                                                          placeholder: const AssetImage(
                                                                            'assets/images/logo.png',),
                                                                          image: NetworkImage(
                                                                              user
                                                                                  .gallery[i]['image']),
                                                                          imageErrorBuilder: (
                                                                              context,
                                                                              error,
                                                                              stackTrace) {
                                                                            return Image
                                                                                .asset(
                                                                                'assets/images/noimage.jpeg',
                                                                                height: 100
                                                                                    .h,
                                                                                width: 100
                                                                                    .w,
                                                                                fit: BoxFit
                                                                                    .fitWidth);
                                                                          },
                                                                          fit: BoxFit
                                                                              .cover,
                                                                        ),
                                                                      ),
                                                                    ),
                                                                  ),
                                                                  Visibility(
                                                                    visible: showGalleryButton,
                                                                    child: Positioned
                                                                        .fill(
                                                                      child: Align(
                                                                        alignment: Alignment
                                                                            .center,
                                                                        child: Container(
                                                                          margin: EdgeInsets
                                                                              .only(
                                                                              right: 10
                                                                                  .w),
                                                                          // height: 100,
                                                                          // width: 90,
                                                                          decoration: BoxDecoration(
                                                                            borderRadius: BorderRadius
                                                                                .circular(
                                                                                10),
                                                                            color: Colors
                                                                                .black54
                                                                                .withOpacity(
                                                                                0.5),),
                                                                          child: Align(
                                                                              alignment: Alignment
                                                                                  .center,
                                                                              child: InkWell(
                                                                                  onTap: () {
                                                                                    showDialog<
                                                                                        void>(
                                                                                        context: context,
                                                                                        barrierDismissible: false,
                                                                                        // user must tap button!
                                                                                        builder: (
                                                                                            BuildContext context) {
                                                                                          return
                                                                                            AlertDialog(
                                                                                              contentPadding: const EdgeInsets
                                                                                                  .all(
                                                                                                  10),
                                                                                              title: const Text(
                                                                                                'Delete Image',
                                                                                                textAlign: TextAlign
                                                                                                    .center,
                                                                                                style: TextStyle(
                                                                                                    color: ColorConstants
                                                                                                        .themeBlue),
                                                                                              ),
                                                                                              titleTextStyle: const TextStyle(
                                                                                                fontSize: 16.0,
                                                                                                color: Colors
                                                                                                    .blue,
                                                                                                fontWeight: FontWeight
                                                                                                    .w700,
                                                                                              ),
                                                                                              shape: RoundedRectangleBorder(
                                                                                                borderRadius: BorderRadius
                                                                                                    .circular(
                                                                                                    8.0),
                                                                                              ),
                                                                                              content: Column(
                                                                                                mainAxisSize: MainAxisSize
                                                                                                    .min,
                                                                                                crossAxisAlignment: CrossAxisAlignment
                                                                                                    .center,
                                                                                                children: <
                                                                                                    Widget>[
                                                                                                  Container(
                                                                                                      child:
                                                                                                      Text(
                                                                                                        'Are you sure you want to remove this record?',
                                                                                                        textAlign: TextAlign
                                                                                                            .center,)
                                                                                                  ),
                                                                                                  SizedBox(
                                                                                                    height: 10
                                                                                                        .h,),
                                                                                                  Row(
                                                                                                    mainAxisAlignment: MainAxisAlignment
                                                                                                        .center,
                                                                                                    children: [
                                                                                                      Container(
                                                                                                        child: TextButton(
                                                                                                          onPressed: () async {
                                                                                                            Navigator
                                                                                                                .of(
                                                                                                                context)
                                                                                                                .pop();
                                                                                                          },
                                                                                                          style: ButtonStyle(
                                                                                                            foregroundColor: MaterialStateProperty
                                                                                                                .all<
                                                                                                                Color>(
                                                                                                                ColorConstants
                                                                                                                    .themeBlue),
                                                                                                            shape: MaterialStateProperty
                                                                                                                .all<
                                                                                                                RoundedRectangleBorder>(
                                                                                                              RoundedRectangleBorder(
                                                                                                                  borderRadius: BorderRadius
                                                                                                                      .circular(
                                                                                                                      5.0),
                                                                                                                  side: BorderSide(
                                                                                                                      color: ColorConstants
                                                                                                                          .themeBlue)
                                                                                                              ),
                                                                                                            ),
                                                                                                          ),
                                                                                                          child: Text(
                                                                                                              "Cancel",
                                                                                                              style: TextStyle(
                                                                                                                  fontSize: 20
                                                                                                                      .sp)),
                                                                                                        ),
                                                                                                      ),
                                                                                                      SizedBox(
                                                                                                        width: 10
                                                                                                            .w,),
                                                                                                      Container(
                                                                                                        child: TextButton(
                                                                                                          onPressed: () async {
                                                                                                            deleteGalleryImage(
                                                                                                                user
                                                                                                                    .gallery[i]['glry_id']
                                                                                                                    .toString());
                                                                                                          },
                                                                                                          style: TextButton
                                                                                                              .styleFrom(
                                                                                                            foregroundColor: Colors
                                                                                                                .white,
                                                                                                            splashFactory: NoSplash
                                                                                                                .splashFactory,
                                                                                                            backgroundColor: ColorConstants
                                                                                                                .themeBlue, //
                                                                                                            // padding: const EdgeInsets.only(top: 10, bottom: 10),
                                                                                                          ),
                                                                                                          child: Text(
                                                                                                              "Yes",
                                                                                                              style: TextStyle(
                                                                                                                  fontSize: 20
                                                                                                                      .sp)),
                                                                                                        ),
                                                                                                      ),
                                                                                                    ],
                                                                                                  ),

                                                                                                ],
                                                                                              ),

                                                                                            );
                                                                                        }
                                                                                    );
                                                                                  },
                                                                                  child: Icon(
                                                                                    Icons
                                                                                        .delete_rounded,
                                                                                    color: Colors
                                                                                        .white,))),
                                                                        ),
                                                                      ),
                                                                    ),
                                                                  )
                                                                ],
                                                              ),
                                                            ),

                                                          // (user.awardAchivement.isNotEmpty) ?
                                                          // Container(
                                                          //   margin: EdgeInsets.symmetric(
                                                          //       vertical: 10.w),
                                                          //   child: NotificationListener<
                                                          //       OverscrollIndicatorNotification>(
                                                          //     onNotification:
                                                          //         (
                                                          //         OverscrollIndicatorNotification
                                                          //         overscroll) {
                                                          //       overscroll
                                                          //           .disallowIndicator();
                                                          //       return true;
                                                          //     },
                                                          //     child: Container(
                                                          //       height: 150.h,
                                                          //       margin: EdgeInsetsDirectional
                                                          //           .symmetric(
                                                          //           horizontal: 10.h),
                                                          //       child: ListView(
                                                          //           scrollDirection:
                                                          //           Axis.horizontal,
                                                          //           children: <Widget>[
                                                          //             for (int i = 0; i <
                                                          //                 user.awardAchivement
                                                          //                     .length; i++)
                                                          //
                                                          //               Stack(
                                                          //                 children: [
                                                          //                   GestureDetector(
                                                          //                     onTap: () async {
                                                          //                       await showDialog<
                                                          //                           void>(
                                                          //                           context: context,
                                                          //                           barrierDismissible: false,
                                                          //                           // user must tap button!
                                                          //                           builder: (
                                                          //                               BuildContext context) {
                                                          //                             return AlertDialog(
                                                          //                               contentPadding: EdgeInsets
                                                          //                                   .all(
                                                          //                                   5),
                                                          //                               shape: RoundedRectangleBorder(
                                                          //                                 borderRadius: BorderRadius
                                                          //                                     .circular(
                                                          //                                     8.0),
                                                          //                               ),
                                                          //                               content: SingleChildScrollView(
                                                          //                                 child: Column(
                                                          //                                   children: [
                                                          //                                     Container(
                                                          //
                                                          //                                       child: Column(
                                                          //                                         children: [
                                                          //                                           GestureDetector(
                                                          //                                             onTap: () {
                                                          //                                               Navigator
                                                          //                                                   .of(
                                                          //                                                   context)
                                                          //                                                   .pop();
                                                          //                                             },
                                                          //                                             child: Align(
                                                          //                                                 alignment: Alignment
                                                          //                                                     .topRight,
                                                          //                                                 child: Transform
                                                          //                                                     .rotate(
                                                          //                                                     angle: 45 *
                                                          //                                                         math
                                                          //                                                             .pi /
                                                          //                                                         180,
                                                          //                                                     child: Icon(
                                                          //                                                         Icons
                                                          //                                                             .add_circle_rounded))),
                                                          //                                           ),
                                                          //                                           Image
                                                          //                                               .network(
                                                          //                                               user
                                                          //                                                   .awardAchivement[i]['image'],
                                                          //                                               fit: BoxFit
                                                          //                                                   .fitWidth),
                                                          //                                         ],
                                                          //                                       ),
                                                          //                                     ),
                                                          //                                   ],
                                                          //                                 ),
                                                          //                               ),
                                                          //                             );
                                                          //                           }
                                                          //                       );
                                                          //                     },
                                                          //                     onLongPress: () {
                                                          //                       setState(() {
                                                          //                         showAwardButton =
                                                          //                         true;
                                                          //                       });
                                                          //                     },
                                                          //                     child: Container(
                                                          //                       margin: EdgeInsets
                                                          //                           .only(
                                                          //                           left: 5.w,
                                                          //                           right: 5
                                                          //                               .w),
                                                          //                       padding: EdgeInsets
                                                          //                           .only(
                                                          //                           top: 5.h,
                                                          //                           bottom: 10
                                                          //                               .h,
                                                          //                           left: 5.w,
                                                          //                           right: 5
                                                          //                               .w),
                                                          //                       decoration: BoxDecoration(
                                                          //                           border: Border
                                                          //                               .all(
                                                          //                               color: Colors
                                                          //                                   .grey,
                                                          //                               width: 0.1
                                                          //                                   .w),
                                                          //                           borderRadius:
                                                          //                           BorderRadius
                                                          //                               .all(
                                                          //                               Radius
                                                          //                                   .circular(
                                                          //                                   10
                                                          //                                       .r))),
                                                          //                       child: Column(
                                                          //                         mainAxisAlignment:
                                                          //                         MainAxisAlignment
                                                          //                             .center,
                                                          //                         children: <
                                                          //                             Widget>[
                                                          //                           ClipRRect(
                                                          //                             borderRadius:
                                                          //                             BorderRadius
                                                          //                                 .circular(
                                                          //                                 10
                                                          //                                     .r),
                                                          //                             child:
                                                          //                             FadeInImage(
                                                          //                               height: 100
                                                          //                                   .h,
                                                          //                               width: 100
                                                          //                                   .w,
                                                          //                               fadeOutCurve: Curves
                                                          //                                   .linear,
                                                          //                               placeholderFit: BoxFit
                                                          //                                   .fitWidth,
                                                          //                               placeholder: const AssetImage(
                                                          //                                 'assets/images/logo.png',),
                                                          //                               image: NetworkImage(
                                                          //                                   user
                                                          //                                       .awardAchivement[i]['thumb']),
                                                          //                               imageErrorBuilder: (
                                                          //                                   context,
                                                          //                                   error,
                                                          //                                   stackTrace) {
                                                          //                                 return Image
                                                          //                                     .asset(
                                                          //                                     'assets/images/logo.png',
                                                          //                                     height: 100
                                                          //                                         .h,
                                                          //                                     width: 100
                                                          //                                         .w,
                                                          //                                     fit: BoxFit
                                                          //                                         .fitWidth);
                                                          //                               },
                                                          //                               fit: BoxFit
                                                          //                                   .cover,
                                                          //                             ),
                                                          //                           ),
                                                          //
                                                          //                           Text(
                                                          //                             user
                                                          //                                 .awardAchivement[i]['title'],
                                                          //                             textScaleFactor: 1.0,
                                                          //                             textAlign:
                                                          //                             TextAlign
                                                          //                                 .center,
                                                          //                             style: TextStyle(
                                                          //                                 fontSize: 13
                                                          //                                     .sp,
                                                          //                                 color:
                                                          //                                 Colors
                                                          //                                     .black),
                                                          //                           ),
                                                          //                           Text(
                                                          //                             user
                                                          //                                 .awardAchivement[i]['year'],
                                                          //                             textScaleFactor: 1.0,
                                                          //                             textAlign:
                                                          //                             TextAlign
                                                          //                                 .center,
                                                          //                             style: TextStyle(
                                                          //                                 fontSize: 13
                                                          //                                     .sp,
                                                          //                                 color:
                                                          //                                 Colors
                                                          //                                     .black),
                                                          //                           ),
                                                          //                         ],
                                                          //                       ),
                                                          //                     ),
                                                          //                   ),
                                                          //                   Visibility(
                                                          //                     visible: showAwardButton,
                                                          //                     child: Positioned
                                                          //                         .fill(
                                                          //                       child: Align(
                                                          //                         alignment: Alignment
                                                          //                             .center,
                                                          //                         child: Container(
                                                          //                           margin: EdgeInsets
                                                          //                               .only(
                                                          //                               left: 5
                                                          //                                   .w,
                                                          //                               right: 5
                                                          //                                   .w),
                                                          //                           // height: 100,
                                                          //                           // width: 90,
                                                          //                           decoration: BoxDecoration(
                                                          //                             borderRadius: BorderRadius
                                                          //                                 .circular(
                                                          //                                 10),
                                                          //                             color: Colors
                                                          //                                 .black54
                                                          //                                 .withOpacity(
                                                          //                                 0.5),),
                                                          //
                                                          //                           child: Align(
                                                          //                               alignment: Alignment
                                                          //                                   .center,
                                                          //                               child: Row(
                                                          //                                 mainAxisAlignment: MainAxisAlignment
                                                          //                                     .center,
                                                          //                                 children: [
                                                          //                                   InkWell(
                                                          //                                       onTap: () async {
                                                          //                                         showModalBottomSheet(
                                                          //                                             showDragHandle: true,
                                                          //                                             isScrollControlled: true,
                                                          //                                             enableDrag: true,
                                                          //                                             useSafeArea: true,
                                                          //                                             shape: RoundedRectangleBorder(
                                                          //                                               borderRadius: BorderRadius
                                                          //                                                   .vertical(
                                                          //                                                 top: Radius
                                                          //                                                     .circular(
                                                          //                                                     20),
                                                          //                                               ),
                                                          //                                             ),
                                                          //                                             context: context,
                                                          //                                             builder: (context) {
                                                          //                                               return Container(
                                                          //                                                 margin: EdgeInsets.symmetric(horizontal: 20.w),
                                                          //                                                 child:   Form(
                                                          //                                                   key: achievementFormKey,
                                                          //
                                                          //                                                   child: Column(
                                                          //                                                     mainAxisSize: MainAxisSize
                                                          //                                                         .min,
                                                          //                                                     crossAxisAlignment: CrossAxisAlignment
                                                          //                                                         .center,
                                                          //                                                     children: <
                                                          //                                                         Widget>[
                                                          //
                                                          //                                                       for (int i = 0; i <
                                                          //                                                           user
                                                          //                                                               .awardAchivement
                                                          //                                                               .length; i++)
                                                          //                                                         Stack(
                                                          //                                                           children: [
                                                          //                                                             Container(
                                                          //                                                               child: (uploadAwardImage ==
                                                          //                                                                   null)
                                                          //                                                                   ?
                                                          //                                                               ClipRRect(
                                                          //                                                                 // padding: EdgeInsets
                                                          //                                                                 //     .all(
                                                          //                                                                 //     30),
                                                          //                                                                 borderRadius: BorderRadius
                                                          //                                                                     .circular(
                                                          //                                                                     10
                                                          //                                                                         .r),
                                                          //                                                                 child: Image
                                                          //                                                                     .network(
                                                          //                                                                   user
                                                          //                                                                       .awardAchivement[i]['image'],
                                                          //                                                                   // height: 50
                                                          //                                                                   //     .h,
                                                          //                                                                   // width: 50
                                                          //                                                                   //     .w,
                                                          //                                                                   fit: BoxFit
                                                          //                                                                       .cover,),
                                                          //                                                               )
                                                          //                                                                   :
                                                          //                                                               ClipRRect(
                                                          //                                                                 borderRadius: BorderRadius
                                                          //                                                                     .circular(
                                                          //                                                                     10
                                                          //                                                                         .r),
                                                          //                                                                 child: Image
                                                          //                                                                     .file(
                                                          //                                                                   uploadAwardImage!,
                                                          //                                                                   fit: BoxFit
                                                          //                                                                       .cover,
                                                          //                                                                 ),
                                                          //                                                               ),
                                                          //                                                             ),
                                                          //                                                             Positioned
                                                          //                                                                 .fill(
                                                          //                                                               child: Align(
                                                          //                                                                 alignment: Alignment
                                                          //                                                                     .center,
                                                          //                                                                 child: Container(
                                                          //                                                                   // margin: EdgeInsets
                                                          //                                                                   //     .only(right: 10
                                                          //                                                                   //     .w),
                                                          //                                                                   // height: 100,
                                                          //                                                                   // width: 90,
                                                          //                                                                   decoration: BoxDecoration(
                                                          //                                                                     borderRadius: BorderRadius
                                                          //                                                                         .circular(
                                                          //                                                                         10),
                                                          //                                                                     color: Colors
                                                          //                                                                         .black54
                                                          //                                                                         .withOpacity(
                                                          //                                                                         0.5),),
                                                          //
                                                          //                                                                   child: Align(
                                                          //                                                                       alignment: Alignment
                                                          //                                                                           .center,
                                                          //                                                                       child: InkWell(
                                                          //                                                                           onTap: () async {
                                                          //                                                                             // chooseGalleryImage();
                                                          //                                                                             PickedFile? pickedFile = await ImagePicker()
                                                          //                                                                                 .getImage(
                                                          //                                                                               source: ImageSource
                                                          //                                                                                   .gallery,
                                                          //                                                                               maxWidth: 500,
                                                          //                                                                               maxHeight: 500,
                                                          //                                                                             );
                                                          //                                                                             if (pickedFile !=
                                                          //                                                                                 null) {
                                                          //                                                                               setState(() {
                                                          //                                                                                 uploadAwardImage =
                                                          //                                                                                     File(
                                                          //                                                                                         pickedFile
                                                          //                                                                                             .path);
                                                          //                                                                               });
                                                          //                                                                             }
                                                          //                                                                           },
                                                          //                                                                           child: Icon(
                                                          //                                                                             Icons
                                                          //                                                                                 .add_photo_alternate_rounded,
                                                          //                                                                             color: Colors
                                                          //                                                                                 .white,))),
                                                          //                                                                 ),
                                                          //                                                               ),
                                                          //                                                             ),
                                                          //                                                           ],
                                                          //                                                         ),
                                                          //                                                       SizedBox(
                                                          //                                                         height: 10
                                                          //                                                             .h,),
                                                          //                                                       TextFormField(
                                                          //                                                         controller: awardEditTitleController
                                                          //                                                           ..text = user
                                                          //                                                               .awardAchivement[i]['title'],
                                                          //                                                         // initialValue: name,
                                                          //                                                         // focusNode: _nodeFullname,
                                                          //                                                         keyboardType: TextInputType
                                                          //                                                             .text,
                                                          //                                                         validator: (
                                                          //                                                             value) {
                                                          //                                                           if (value!
                                                          //                                                               .isEmpty) {
                                                          //                                                             return "Enter title";
                                                          //                                                           }
                                                          //                                                           // else if (value.length <= 10) {
                                                          //                                                           //   return "Describe yourself in greater than 10 words";
                                                          //                                                           // }
                                                          //                                                           else
                                                          //                                                             return null;
                                                          //                                                         },
                                                          //                                                         decoration: InputDecoration(
                                                          //                                                           contentPadding: EdgeInsets.only(right: 0,left: 10,top: 0.0,bottom: 0.0),
                                                          //                                                           hintText: 'Title',
                                                          //                                                           border: OutlineInputBorder(),
                                                          //                                                         ),
                                                          //                                                         textInputAction: TextInputAction
                                                          //                                                             .next,
                                                          //                                                         onEditingComplete: () {
                                                          //                                                           // FocusScope.of(context).requestFocus(_nodePassword);
                                                          //                                                         },
                                                          //                                                       ),
                                                          //                                                       SizedBox(
                                                          //                                                         height: 10
                                                          //                                                             .h,),
                                                          //                                                       TextFormField(
                                                          //                                                         controller: awardEditDateController
                                                          //                                                           ..text = user
                                                          //                                                               .awardAchivement[i]['year'],
                                                          //                                                         validator: (
                                                          //                                                             value) {
                                                          //                                                           if (value!
                                                          //                                                               .isEmpty) {
                                                          //                                                             return "The when feild is required";
                                                          //                                                           }
                                                          //                                                           // else if (value.length <= 10) {
                                                          //                                                           //   return "Describe yourself in greater than 10 words";
                                                          //                                                           // }
                                                          //                                                           else
                                                          //                                                             return null;
                                                          //                                                         },
                                                          //
                                                          //                                                         //editing controller of this TextField
                                                          //                                                         decoration: InputDecoration(
                                                          //                                                             contentPadding: EdgeInsets.only(right: 0,left: 10,top: 0.0,bottom: 0.0),
                                                          //                                                             border: OutlineInputBorder(),
                                                          //                                                             hintText: 'Enter Date',
                                                          //                                                             suffixIcon: Icon(
                                                          //                                                                 Icons
                                                          //                                                                     .calendar_month_rounded)
                                                          //
                                                          //                                                         ),
                                                          //
                                                          //                                                         readOnly: true,
                                                          //                                                         //set it true, so that user will not able to edit text
                                                          //                                                         onTap: () async {
                                                          //                                                           DateTime? pickedDate = await showDatePicker(
                                                          //                                                               context: context,
                                                          //                                                               initialDate: DateTime
                                                          //                                                                   .now(),
                                                          //                                                               firstDate: DateTime(
                                                          //                                                                   2000),
                                                          //                                                               //DateTime.now() - not to allow to choose before today.
                                                          //                                                               lastDate: DateTime(
                                                          //                                                                   2101)
                                                          //                                                           );
                                                          //
                                                          //                                                           if (pickedDate !=
                                                          //                                                               null) {
                                                          //                                                             print(
                                                          //                                                                 pickedDate); //pickedDate output format => 2021-03-10 00:00:00.000
                                                          //                                                             String formattedDate = DateFormat(
                                                          //                                                                 'dd-MM-yyyy')
                                                          //                                                                 .format(
                                                          //                                                                 pickedDate);
                                                          //                                                             print(
                                                          //                                                                 formattedDate); //formatted date output using intl package =>  2021-03-16
                                                          //                                                             //you can implement different kind of Date Format here according to your requirement
                                                          //
                                                          //                                                             setState(() {
                                                          //                                                               awardEditDateController
                                                          //                                                                   .text =
                                                          //                                                                   formattedDate; //set output date to TextField value.
                                                          //                                                             });
                                                          //                                                           } else {
                                                          //                                                             print(
                                                          //                                                                 "Date is not selected");
                                                          //                                                           }
                                                          //                                                         },
                                                          //                                                       ),
                                                          //                                                       SizedBox(
                                                          //                                                         height: 10
                                                          //                                                             .h,),
                                                          //
                                                          //                                                       Container(
                                                          //                                                         height:40.h,
                                                          //                                                         padding: const EdgeInsets
                                                          //                                                             .only(
                                                          //                                                             left: 0,
                                                          //                                                             right: 10),
                                                          //
                                                          //
                                                          //                                                         decoration: BoxDecoration(
                                                          //                                                             border: Border.all(color: Colors.grey),
                                                          //                                                             borderRadius: BorderRadius
                                                          //                                                                 .circular(5)
                                                          //                                                         ),
                                                          //                                                         child: DropdownButton2(
                                                          //                                                           dropdownStyleData: DropdownStyleData(
                                                          //                                                               useSafeArea: false,
                                                          //                                                               offset: Offset(
                                                          //                                                                   5,
                                                          //                                                                   -10),
                                                          //                                                               maxHeight: 200
                                                          //                                                                   .h,
                                                          //                                                               scrollbarTheme: ScrollbarThemeData(
                                                          //                                                                   thumbVisibility: MaterialStateProperty
                                                          //                                                                       .all(
                                                          //                                                                       true)),
                                                          //                                                               decoration: BoxDecoration(
                                                          //                                                                   borderRadius: BorderRadius
                                                          //                                                                       .circular(
                                                          //                                                                       10))
                                                          //                                                           ),
                                                          //                                                           underline: Container(),
                                                          //                                                           isExpanded: true,
                                                          //                                                           // value: awardType,
                                                          //                                                           style: TextStyle(
                                                          //                                                               color: Colors
                                                          //                                                                   .black54,
                                                          //                                                               fontSize: 15),
                                                          //                                                           hint: Text(
                                                          //                                                             "Select Award Type",
                                                          //                                                             style: TextStyle(
                                                          //                                                               color: Colors
                                                          //                                                                   .grey
                                                          //                                                                   .shade600,
                                                          //                                                               fontSize: 15,
                                                          //                                                             ),
                                                          //                                                           ),
                                                          //                                                           items: awardType
                                                          //                                                               .map((
                                                          //                                                               item) {
                                                          //                                                             return DropdownMenuItem(
                                                          //                                                               value: item['title']
                                                          //                                                                   .toString(),
                                                          //                                                               child: Text(
                                                          //                                                                   item['title']
                                                          //                                                                       .toString()),
                                                          //                                                             );
                                                          //                                                           })
                                                          //                                                               .toList(),
                                                          //
                                                          //                                                           onChanged: (
                                                          //                                                               newVal) {
                                                          //                                                             setState(() {
                                                          //                                                               awardEditdropdownvalue =
                                                          //                                                                   newVal;
                                                          //                                                             });
                                                          //                                                           },
                                                          //                                                           value: awardEditdropdownvalue,
                                                          //                                                         ),
                                                          //                                                       ),
                                                          //
                                                          //                                                       SizedBox(
                                                          //                                                         height: 5
                                                          //                                                             .h,),
                                                          //                                                       Row(
                                                          //                                                         mainAxisAlignment: MainAxisAlignment
                                                          //                                                             .start,
                                                          //                                                         children: [
                                                          //
                                                          //                                                           Container(
                                                          //                                                             child: TextButton(
                                                          //                                                               onPressed: () async {
                                                          //                                                                 setState(() {
                                                          //                                                                   uploadAwardImage =
                                                          //                                                                   null;
                                                          //                                                                   achievementProgress =
                                                          //                                                                   false;
                                                          //                                                                 });
                                                          //
                                                          //                                                                 Navigator
                                                          //                                                                     .of(
                                                          //                                                                     context)
                                                          //                                                                     .pop();
                                                          //                                                               },
                                                          //                                                               style: ButtonStyle(
                                                          //                                                                   foregroundColor: MaterialStateProperty
                                                          //                                                                       .all<
                                                          //                                                                       Color>(
                                                          //                                                                       ColorConstants
                                                          //                                                                           .themeBlue),
                                                          //                                                                   shape: MaterialStateProperty
                                                          //                                                                       .all<
                                                          //                                                                       RoundedRectangleBorder>(
                                                          //                                                                       RoundedRectangleBorder(
                                                          //                                                                           borderRadius: BorderRadius
                                                          //                                                                               .circular(
                                                          //                                                                               5.0),
                                                          //                                                                           side: BorderSide(
                                                          //                                                                               color: ColorConstants
                                                          //                                                                                   .themeBlue)
                                                          //                                                                       )
                                                          //                                                                   )
                                                          //                                                               ),
                                                          //                                                               child: Text(
                                                          //                                                                   "Cancel",
                                                          //                                                                   style: TextStyle(
                                                          //                                                                       fontSize: 20
                                                          //                                                                           .sp)),
                                                          //                                                             ),
                                                          //                                                           ),
                                                          //
                                                          //                                                           SizedBox(
                                                          //                                                             width: 10
                                                          //                                                                 .w,),
                                                          //                                                           Container(
                                                          //                                                             child: TextButton(
                                                          //                                                               onPressed: () async {
                                                          //                                                                 if (achievementFormKey
                                                          //                                                                     .currentState!
                                                          //                                                                     .validate()) {
                                                          //                                                                   editAwrd(
                                                          //                                                                       user
                                                          //                                                                           .awardAchivement[i]['awrd_id']);
                                                          //                                                                   setState(() {
                                                          //                                                                     achievementProgress =
                                                          //                                                                     true;
                                                          //                                                                   });
                                                          //                                                                 }
                                                          //                                                               },
                                                          //                                                               style: TextButton
                                                          //                                                                   .styleFrom(
                                                          //                                                                 primary: Colors
                                                          //                                                                     .white,
                                                          //                                                                 splashFactory: NoSplash
                                                          //                                                                     .splashFactory,
                                                          //                                                                 backgroundColor: ColorConstants
                                                          //                                                                     .themeBlue, //
                                                          //                                                                 // padding: const EdgeInsets.only(top: 10, bottom: 10),
                                                          //                                                               ),
                                                          //                                                               child:
                                                          //                                                               Text(
                                                          //                                                                   "Update",
                                                          //                                                                   style: TextStyle(
                                                          //                                                                       fontSize: 20
                                                          //                                                                           .sp)),
                                                          //                                                             ),
                                                          //                                                           ),
                                                          //
                                                          //
                                                          //                                                         ],
                                                          //                                                       ),
                                                          //                                                       Visibility(
                                                          //                                                           visible: achievementProgress,
                                                          //                                                           child: LinearProgressIndicator()),
                                                          //
                                                          //                                                     ],
                                                          //                                                   ),
                                                          //                                                 ),
                                                          //                                               );
                                                          //                                             });
                                                          //
                                                          //                                       },
                                                          //                                       child: Icon(
                                                          //                                         Icons
                                                          //                                             .edit_rounded,
                                                          //                                         color: Colors
                                                          //                                             .white,)),
                                                          //                                   SizedBox(
                                                          //                                     width: 10
                                                          //                                         .w,),
                                                          //                                   InkWell(
                                                          //                                       onTap: () {
                                                          //                                         showDialog<
                                                          //                                             void>(
                                                          //                                             context: context,
                                                          //                                             barrierDismissible: false,
                                                          //                                             // user must tap button!
                                                          //                                             builder: (
                                                          //                                                 BuildContext context) {
                                                          //                                               return
                                                          //                                                 AlertDialog(
                                                          //                                                   contentPadding: EdgeInsets
                                                          //                                                       .all(
                                                          //                                                       10),
                                                          //                                                   title: Text(
                                                          //                                                     'Delete Award',
                                                          //                                                     textAlign: TextAlign
                                                          //                                                         .center,
                                                          //                                                     style: TextStyle(
                                                          //                                                         color: ColorConstants
                                                          //                                                             .themeBlue),
                                                          //                                                   ),
                                                          //                                                   titleTextStyle: TextStyle(
                                                          //                                                     fontSize: 16.0,
                                                          //                                                     color: Colors
                                                          //                                                         .blue,
                                                          //                                                     fontWeight: FontWeight
                                                          //                                                         .w700,
                                                          //                                                   ),
                                                          //                                                   shape: RoundedRectangleBorder(
                                                          //                                                     borderRadius: BorderRadius
                                                          //                                                         .circular(
                                                          //                                                         8.0),
                                                          //                                                   ),
                                                          //                                                   content: Column(
                                                          //                                                     mainAxisSize: MainAxisSize
                                                          //                                                         .min,
                                                          //                                                     crossAxisAlignment: CrossAxisAlignment
                                                          //                                                         .center,
                                                          //                                                     children: <
                                                          //                                                         Widget>[
                                                          //                                                       Container(
                                                          //                                                           child:
                                                          //                                                           Text(
                                                          //                                                             'Are you sure you want to remove this record?',
                                                          //                                                             textAlign: TextAlign
                                                          //                                                                 .center,)
                                                          //                                                       ),
                                                          //                                                       SizedBox(
                                                          //                                                         height: 10
                                                          //                                                             .h,),
                                                          //                                                       Row(
                                                          //                                                         mainAxisAlignment: MainAxisAlignment
                                                          //                                                             .center,
                                                          //                                                         children: [
                                                          //                                                           Container(
                                                          //                                                             child: TextButton(
                                                          //                                                               onPressed: () async {
                                                          //                                                                 Navigator
                                                          //                                                                     .of(
                                                          //                                                                     context)
                                                          //                                                                     .pop();
                                                          //                                                               },
                                                          //                                                               style: ButtonStyle(
                                                          //                                                                   foregroundColor: MaterialStateProperty
                                                          //                                                                       .all<
                                                          //                                                                       Color>(
                                                          //                                                                       ColorConstants
                                                          //                                                                           .themeBlue),
                                                          //                                                                   shape: MaterialStateProperty
                                                          //                                                                       .all<
                                                          //                                                                       RoundedRectangleBorder>(
                                                          //                                                                       RoundedRectangleBorder(
                                                          //                                                                           borderRadius: BorderRadius
                                                          //                                                                               .circular(
                                                          //                                                                               5.0),
                                                          //                                                                           side: BorderSide(
                                                          //                                                                               color: ColorConstants
                                                          //                                                                                   .themeBlue)
                                                          //                                                                       )
                                                          //                                                                   )
                                                          //                                                               ),
                                                          //                                                               child: Text(
                                                          //                                                                   "Cancel",
                                                          //                                                                   style: TextStyle(
                                                          //                                                                       fontSize: 20
                                                          //                                                                           .sp)),
                                                          //                                                             ),
                                                          //                                                           ),
                                                          //                                                           SizedBox(
                                                          //                                                             width: 10
                                                          //                                                                 .w,),
                                                          //                                                           Container(
                                                          //                                                             child: TextButton(
                                                          //                                                               onPressed: () async {
                                                          //                                                                 deleteAwrdImage(
                                                          //                                                                     user
                                                          //                                                                         .awardAchivement[i]['awrd_id']
                                                          //                                                                         .toString());
                                                          //                                                               },
                                                          //                                                               style: TextButton
                                                          //                                                                   .styleFrom(
                                                          //                                                                 primary: Colors
                                                          //                                                                     .white,
                                                          //                                                                 splashFactory: NoSplash
                                                          //                                                                     .splashFactory,
                                                          //                                                                 backgroundColor: ColorConstants
                                                          //                                                                     .themeBlue, //
                                                          //                                                                 // padding: const EdgeInsets.only(top: 10, bottom: 10),
                                                          //                                                               ),
                                                          //                                                               child: Text(
                                                          //                                                                   "Yes",
                                                          //                                                                   style: TextStyle(
                                                          //                                                                       fontSize: 20
                                                          //                                                                           .sp)),
                                                          //                                                             ),
                                                          //                                                           ),
                                                          //                                                         ],
                                                          //                                                       ),
                                                          //
                                                          //                                                     ],
                                                          //                                                   ),
                                                          //
                                                          //                                                 );
                                                          //                                             }
                                                          //                                         );
                                                          //                                       },
                                                          //                                       child: Icon(
                                                          //                                         Icons
                                                          //                                             .delete_rounded,
                                                          //                                         color: Colors
                                                          //                                             .white,)),
                                                          //                                 ],
                                                          //                               )),
                                                          //                         ),
                                                          //                       ),
                                                          //                     ),
                                                          //                   )
                                                          //                 ],
                                                          //               ),
                                                          //
                                                          //           ]),
                                                          //     ),
                                                          //   ),
                                                          // ) :
                                                          // Container(
                                                          //   height: 100.h,
                                                          //   child: Center(
                                                          //       child: Text(
                                                          //           'No Data Found')),),

                                                        ],),
                                                    ),
                                                  ),

                                                  // (user.gallery.isNotEmpty) ?
                                                  // Container(
                                                  //   margin: EdgeInsets.symmetric(
                                                  //       vertical: 10.w),
                                                  //   child: NotificationListener<
                                                  //       OverscrollIndicatorNotification>(
                                                  //     onNotification:
                                                  //         (
                                                  //         OverscrollIndicatorNotification
                                                  //         overscroll) {
                                                  //       overscroll
                                                  //           .disallowIndicator();
                                                  //       return true;
                                                  //     },
                                                  //     child: Container(
                                                  //       height: 100.h,
                                                  //       margin: EdgeInsetsDirectional
                                                  //           .symmetric(
                                                  //           horizontal: 10.h),
                                                  //       child: ListView(
                                                  //           scrollDirection:
                                                  //           Axis.horizontal,
                                                  //           children: <Widget>[
                                                  //             for (int i = 0; i <
                                                  //                 user.gallery
                                                  //                     .length; i++)
                                                  //
                                                  //               Stack(
                                                  //                 children: [
                                                  //                   InkWell(
                                                  //                     onLongPress: () {
                                                  //                       setState(() {
                                                  //                         showGalleryButton =
                                                  //                         true;
                                                  //                       });
                                                  //                     },
                                                  //                     onTap: () {
                                                  //                       print(
                                                  //                           'vjhvjh ${user
                                                  //                               .gallery[i]['thumb']}');
                                                  //                       Navigator
                                                  //                           .of(
                                                  //                           context as BuildContext)
                                                  //                           .push(
                                                  //                           MaterialPageRoute(
                                                  //                             builder: (
                                                  //                                 _) =>
                                                  //                                 GalleryWidget(
                                                  //                                     galleryImages: [
                                                  //                                       user
                                                  //                                           .gallery[i]['image'],
                                                  //                                     ]),
                                                  //                           ));
                                                  //                     },
                                                  //                     child: Container(
                                                  //                       margin: EdgeInsets
                                                  //                           .only(
                                                  //                           right: 10
                                                  //                               .w),
                                                  //                       child: ClipRRect(
                                                  //                         borderRadius:
                                                  //                         BorderRadius
                                                  //                             .circular(
                                                  //                             10.r),
                                                  //                         child:
                                                  //                         FadeInImage(
                                                  //                           height: 100
                                                  //                               .h,
                                                  //                           width: 100
                                                  //                               .w,
                                                  //                           fadeOutCurve: Curves
                                                  //                               .linear,
                                                  //                           placeholderFit: BoxFit
                                                  //                               .fitWidth,
                                                  //                           placeholder: const AssetImage(
                                                  //                             'assets/images/logo.png',),
                                                  //                           image: NetworkImage(
                                                  //                               user
                                                  //                                   .gallery[i]['image']),
                                                  //                           imageErrorBuilder: (
                                                  //                               context,
                                                  //                               error,
                                                  //                               stackTrace) {
                                                  //                             return Image
                                                  //                                 .asset(
                                                  //                                 'assets/images/noimage.jpeg',
                                                  //                                 height: 100
                                                  //                                     .h,
                                                  //                                 width: 100
                                                  //                                     .w,
                                                  //                                 fit: BoxFit
                                                  //                                     .fitWidth);
                                                  //                           },
                                                  //                           fit: BoxFit
                                                  //                               .cover,
                                                  //                         ),
                                                  //                       ),
                                                  //                     ),
                                                  //                   ),
                                                  //                   Visibility(
                                                  //                     visible: showGalleryButton,
                                                  //                     child: Positioned
                                                  //                         .fill(
                                                  //                       child: Align(
                                                  //                         alignment: Alignment
                                                  //                             .center,
                                                  //                         child: Container(
                                                  //                           margin: EdgeInsets
                                                  //                               .only(
                                                  //                               right: 10
                                                  //                                   .w),
                                                  //                           // height: 100,
                                                  //                           // width: 90,
                                                  //                           decoration: BoxDecoration(
                                                  //                             borderRadius: BorderRadius
                                                  //                                 .circular(
                                                  //                                 10),
                                                  //                             color: Colors
                                                  //                                 .black54
                                                  //                                 .withOpacity(
                                                  //                                 0.5),),
                                                  //
                                                  //                           child: Align(
                                                  //                               alignment: Alignment
                                                  //                                   .center,
                                                  //                               child: InkWell(
                                                  //                                   onTap: () {
                                                  //                                     showDialog<
                                                  //                                         void>(
                                                  //                                         context: context,
                                                  //                                         barrierDismissible: false,
                                                  //                                         // user must tap button!
                                                  //                                         builder: (
                                                  //                                             BuildContext context) {
                                                  //                                           return
                                                  //                                             AlertDialog(
                                                  //                                               contentPadding: EdgeInsets
                                                  //                                                   .all(
                                                  //                                                   10),
                                                  //                                               title: Text(
                                                  //                                                 'Delete Image',
                                                  //                                                 textAlign: TextAlign
                                                  //                                                     .center,
                                                  //                                                 style: TextStyle(
                                                  //                                                     color: ColorConstants
                                                  //                                                         .themeBlue),
                                                  //                                               ),
                                                  //                                               titleTextStyle: TextStyle(
                                                  //                                                 fontSize: 16.0,
                                                  //                                                 color: Colors
                                                  //                                                     .blue,
                                                  //                                                 fontWeight: FontWeight
                                                  //                                                     .w700,
                                                  //                                               ),
                                                  //                                               shape: RoundedRectangleBorder(
                                                  //                                                 borderRadius: BorderRadius
                                                  //                                                     .circular(
                                                  //                                                     8.0),
                                                  //                                               ),
                                                  //                                               content: Column(
                                                  //                                                 mainAxisSize: MainAxisSize
                                                  //                                                     .min,
                                                  //                                                 crossAxisAlignment: CrossAxisAlignment
                                                  //                                                     .center,
                                                  //                                                 children: <
                                                  //                                                     Widget>[
                                                  //                                                   Container(
                                                  //                                                       child:
                                                  //                                                       Text(
                                                  //                                                         'Are you sure you want to remove this record?',
                                                  //                                                         textAlign: TextAlign
                                                  //                                                             .center,)
                                                  //                                                   ),
                                                  //                                                   SizedBox(
                                                  //                                                     height: 10
                                                  //                                                         .h,),
                                                  //                                                   Row(
                                                  //                                                     mainAxisAlignment: MainAxisAlignment
                                                  //                                                         .center,
                                                  //                                                     children: [
                                                  //                                                       Container(
                                                  //                                                         child: TextButton(
                                                  //                                                           onPressed: () async {
                                                  //                                                             Navigator
                                                  //                                                                 .of(
                                                  //                                                                 context)
                                                  //                                                                 .pop();
                                                  //                                                           },
                                                  //                                                           style: ButtonStyle(
                                                  //                                                               foregroundColor: MaterialStateProperty
                                                  //                                                                   .all<
                                                  //                                                                   Color>(
                                                  //                                                                   ColorConstants
                                                  //                                                                       .themeBlue),
                                                  //                                                               shape: MaterialStateProperty
                                                  //                                                                   .all<
                                                  //                                                                   RoundedRectangleBorder>(
                                                  //                                                                   RoundedRectangleBorder(
                                                  //                                                                       borderRadius: BorderRadius
                                                  //                                                                           .circular(
                                                  //                                                                           5.0),
                                                  //                                                                       side: BorderSide(
                                                  //                                                                           color: ColorConstants
                                                  //                                                                               .themeBlue)
                                                  //                                                                   )
                                                  //                                                               )
                                                  //                                                           ),
                                                  //                                                           child: Text(
                                                  //                                                               "Cancel",
                                                  //                                                               style: TextStyle(
                                                  //                                                                   fontSize: 20
                                                  //                                                                       .sp)),
                                                  //                                                         ),
                                                  //                                                       ),
                                                  //                                                       SizedBox(
                                                  //                                                         width: 10
                                                  //                                                             .w,),
                                                  //                                                       Container(
                                                  //                                                         child: TextButton(
                                                  //                                                           onPressed: () async {
                                                  //                                                             deleteGalleryImage(
                                                  //                                                                 user
                                                  //                                                                     .gallery[i]['glry_id']
                                                  //                                                                     .toString());
                                                  //                                                           },
                                                  //                                                           style: TextButton
                                                  //                                                               .styleFrom(
                                                  //                                                             primary: Colors
                                                  //                                                                 .white,
                                                  //                                                             splashFactory: NoSplash
                                                  //                                                                 .splashFactory,
                                                  //                                                             backgroundColor: ColorConstants
                                                  //                                                                 .themeBlue, //
                                                  //                                                             // padding: const EdgeInsets.only(top: 10, bottom: 10),
                                                  //                                                           ),
                                                  //                                                           child: Text(
                                                  //                                                               "Yes",
                                                  //                                                               style: TextStyle(
                                                  //                                                                   fontSize: 20
                                                  //                                                                       .sp)),
                                                  //                                                         ),
                                                  //                                                       ),
                                                  //                                                     ],
                                                  //                                                   ),
                                                  //
                                                  //                                                 ],
                                                  //                                               ),
                                                  //
                                                  //                                             );
                                                  //                                         }
                                                  //                                     );
                                                  //                                   },
                                                  //                                   child: Icon(
                                                  //                                     Icons
                                                  //                                         .delete_rounded,
                                                  //                                     color: Colors
                                                  //                                         .white,))),
                                                  //                         ),
                                                  //                       ),
                                                  //                     ),
                                                  //                   )
                                                  //                 ],
                                                  //               ),
                                                  //           ]),
                                                  //     ),
                                                  //   ),
                                                  // ) :
                                                  // Container(
                                                  //   height: 100.h,
                                                  //   child: Center(
                                                  //       child: Text(
                                                  //           'No Data Found')),),


                                                ],
                                              ),
                                            ),
                                          ),
                                          SizedBox(
                                            height: 10.h,
                                          ),


                                          Container(
                                            width: double.infinity,
                                            margin:
                                            EdgeInsets.fromLTRB(
                                                10.0, 0, 10, 10),
                                            padding: EdgeInsets.all(10.0),
                                            decoration: BoxDecoration(
                                              color: Colors.white,
                                              borderRadius: BorderRadius.all(
                                                Radius.circular(10.0),
                                              ),
                                            ),
                                            child: SingleChildScrollView(
                                              child: Column(
                                                children: [
                                                  Text(
                                                    'Working hours',
                                                    textScaleFactor: 1.0,
                                                    style: TextStyle(
                                                        fontSize: 16.sp,
                                                        fontWeight: FontWeight
                                                            .bold),
                                                  ),
                                                  SizedBox(
                                                    height: 10.h,
                                                  ),
                                                  (user.openingHours.isNotEmpty)
                                                      ?
                                                  Column(
                                                      children: [
                                                        Row(
                                                          crossAxisAlignment:
                                                          CrossAxisAlignment
                                                              .start,
                                                          children: [
                                                            Expanded(flex: 3,
                                                              child: Text(
                                                                  'Monday',
                                                                  textScaleFactor: 1.0,
                                                                  style: TextStyle(
                                                                      fontSize: 13
                                                                          .sp)),),
                                                            Expanded(flex: 1,
                                                              child: Text(
                                                                  ' - '),),
                                                            (user
                                                                .openingHours[0]['enhours']
                                                                .toString() !=
                                                                "" || user
                                                                .openingHours[0]['open'][0]
                                                                .toString() !=
                                                                'null') ?
                                                            Expanded(flex: 6,
                                                              child: (user
                                                                  .openingHours[0]['enhours']
                                                                  .toString() !=
                                                                  "hourly")
                                                                  ?
                                                              Text(user
                                                                  .openingHours[0]['enhours']
                                                                  .toString(),
                                                                  textScaleFactor: 1.0,
                                                                  style: TextStyle(
                                                                      fontSize: 13
                                                                          .sp,
                                                                      color: (user
                                                                          .openingHours[0]['enhours']
                                                                          .toString() ==
                                                                          "Closed full day")
                                                                          ? Colors
                                                                          .red
                                                                          : Colors
                                                                          .black))
                                                                  :
                                                              Text(
                                                                // (user.openingHours[0]['open'].toString() == null)?
                                                                  user
                                                                      .openingHours[0]['open'][0]
                                                                      .toString() +
                                                                      ' to ' +
                                                                      user
                                                                          .openingHours[0]['close'][0]
                                                                          .toString(),
                                                                  // :'',
                                                                  textScaleFactor: 1.0,
                                                                  style: TextStyle(
                                                                      fontSize: 13
                                                                          .sp)),
                                                            ) :
                                                            Expanded(
                                                              flex: 6,
                                                              child: Container(),)
                                                          ],
                                                        ),
                                                        Row(crossAxisAlignment:
                                                        CrossAxisAlignment
                                                            .start,
                                                          children: [
                                                            Expanded(flex: 3,
                                                              child: Text(
                                                                  'Tuesday',
                                                                  textScaleFactor: 1.0,
                                                                  style: TextStyle(
                                                                      fontSize: 13
                                                                          .sp)),),
                                                            Expanded(flex: 1,
                                                              child: Text(
                                                                  ' - '),),
                                                            (user
                                                                .openingHours[1]['enhours']
                                                                .toString() !=
                                                                'null' || user
                                                                .openingHours[1]['open'][0]
                                                                .toString() !=
                                                                'null')
                                                                ?
                                                            Expanded(flex: 6,
                                                                child: Text(
                                                                  (user
                                                                      .openingHours[1]['enhours']
                                                                      .toString() !=
                                                                      "hourly")
                                                                      ?
                                                                  user
                                                                      .openingHours[1]['enhours']
                                                                      .toString()
                                                                      :
                                                                  user
                                                                      .openingHours[1]['open'][0]
                                                                      .toString() +
                                                                      ' to ' +
                                                                      user
                                                                          .openingHours[1]['close'][0]
                                                                          .toString(),
                                                                  textScaleFactor: 1.0,
                                                                  style: TextStyle(
                                                                      fontSize: 13
                                                                          .sp,
                                                                      color: (user
                                                                          .openingHours[1]['enhours']
                                                                          .toString() ==
                                                                          "Closed full day")
                                                                          ? Colors
                                                                          .red
                                                                          : Colors
                                                                          .black),))
                                                                : Expanded(
                                                              flex: 6,
                                                              child: Container(),)
                                                          ],
                                                        ),
                                                        Row(crossAxisAlignment:
                                                        CrossAxisAlignment
                                                            .start,
                                                          children: [
                                                            Expanded(flex: 3,
                                                              child: Text(
                                                                  'Wednesday',
                                                                  textScaleFactor: 1.0,
                                                                  style: TextStyle(
                                                                      fontSize: 13
                                                                          .sp)),),
                                                            Expanded(flex: 1,
                                                              child: Text(
                                                                  ' - '),),
                                                            (user
                                                                .openingHours[2]['enhours']
                                                                .toString() !=
                                                                'null' || user
                                                                .openingHours[2]['open'][0]
                                                                .toString() !=
                                                                'null')
                                                                ?
                                                            Expanded(flex: 6,
                                                                child: Text(
                                                                  (user
                                                                      .openingHours[2]['enhours']
                                                                      .toString() !=
                                                                      "hourly")
                                                                      ?
                                                                  user
                                                                      .openingHours[2]['enhours']
                                                                      .toString()
                                                                      :
                                                                  user
                                                                      .openingHours[2]['open'][0]
                                                                      .toString() +
                                                                      ' to ' +
                                                                      user
                                                                          .openingHours[2]['close'][0]
                                                                          .toString(),
                                                                  textScaleFactor: 1.0,
                                                                  style: TextStyle(
                                                                      fontSize: 13
                                                                          .sp,
                                                                      color: (user
                                                                          .openingHours[2]['enhours']
                                                                          .toString() ==
                                                                          "Closed full day")
                                                                          ? Colors
                                                                          .red
                                                                          : Colors
                                                                          .black),))
                                                                : Expanded(
                                                              flex: 6,
                                                              child: Container(),)
                                                          ],
                                                        ),
                                                        Row(crossAxisAlignment:
                                                        CrossAxisAlignment
                                                            .start,
                                                          children: [
                                                            Expanded(flex: 3,
                                                              child: Text(
                                                                  'Thursday',
                                                                  textScaleFactor: 1.0,
                                                                  style: TextStyle(
                                                                      fontSize: 13
                                                                          .sp)),),
                                                            Expanded(flex: 1,
                                                              child: Text(
                                                                  ' - '),),
                                                            (user
                                                                .openingHours[3]['enhours']
                                                                .toString() !=
                                                                'null' || user
                                                                .openingHours[3]['open'][0]
                                                                .toString() !=
                                                                'null')
                                                                ?
                                                            Expanded(flex: 6,
                                                                child: Text(
                                                                  (user
                                                                      .openingHours[3]['enhours']
                                                                      .toString() !=
                                                                      "hourly")
                                                                      ?
                                                                  user
                                                                      .openingHours[3]['enhours']
                                                                      .toString()
                                                                      :
                                                                  user
                                                                      .openingHours[3]['open'][0]
                                                                      .toString() +
                                                                      ' to ' +
                                                                      user
                                                                          .openingHours[3]['close'][0]
                                                                          .toString(),
                                                                  textScaleFactor: 1.0,
                                                                  style: TextStyle(
                                                                      fontSize: 13
                                                                          .sp,
                                                                      color: (user
                                                                          .openingHours[3]['enhours']
                                                                          .toString() ==
                                                                          "Closed full day")
                                                                          ? Colors
                                                                          .red
                                                                          : Colors
                                                                          .black),))
                                                                : Expanded(
                                                              flex: 6,
                                                              child: Container(),)
                                                          ],
                                                        ),
                                                        Row(crossAxisAlignment:
                                                        CrossAxisAlignment
                                                            .start,
                                                          children: [
                                                            Expanded(flex: 3,
                                                              child: Text(
                                                                  'Friday',
                                                                  textScaleFactor: 1.0,
                                                                  style: TextStyle(
                                                                      fontSize: 13
                                                                          .sp)),),
                                                            Expanded(flex: 1,
                                                              child: Text(
                                                                  ' - '),),
                                                            (user
                                                                .openingHours[4]['enhours']
                                                                .toString() !=
                                                                'null' || user
                                                                .openingHours[4]['open'][0]
                                                                .toString() !=
                                                                'null')
                                                                ?
                                                            Expanded(flex: 6,
                                                                child: Text(
                                                                  (user
                                                                      .openingHours[4]['enhours']
                                                                      .toString() !=
                                                                      "hourly")
                                                                      ?
                                                                  user
                                                                      .openingHours[4]['enhours']
                                                                      .toString()
                                                                      :
                                                                  user
                                                                      .openingHours[4]['open'][0]
                                                                      .toString() +
                                                                      ' to ' +
                                                                      user
                                                                          .openingHours[4]['close'][0]
                                                                          .toString(),
                                                                  textScaleFactor: 1.0,
                                                                  style: TextStyle(
                                                                      fontSize: 13
                                                                          .sp,
                                                                      color: (user
                                                                          .openingHours[4]['enhours']
                                                                          .toString() ==
                                                                          "Closed full day")
                                                                          ? Colors
                                                                          .red
                                                                          : Colors
                                                                          .black),))
                                                                : Expanded(
                                                              flex: 6,
                                                              child: Container(),)
                                                          ],
                                                        ),
                                                        Row(crossAxisAlignment:
                                                        CrossAxisAlignment
                                                            .start,
                                                          children: [
                                                            Expanded(flex: 3,
                                                              child: Text(
                                                                  'Saturday',
                                                                  textScaleFactor: 1.0,
                                                                  style: TextStyle(
                                                                      fontSize: 13
                                                                          .sp)),),
                                                            Expanded(flex: 1,
                                                              child: Text(
                                                                  ' - '),),
                                                            (user
                                                                .openingHours[5]['enhours']
                                                                .toString() !=
                                                                'null' || user
                                                                .openingHours[5]['open'][0]
                                                                .toString() !=
                                                                'null')
                                                                ?
                                                            Expanded(flex: 6,
                                                                child: Text(
                                                                  (user
                                                                      .openingHours[5]['enhours']
                                                                      .toString() !=
                                                                      "hourly")
                                                                      ?
                                                                  user
                                                                      .openingHours[5]['enhours']
                                                                      .toString()
                                                                      :
                                                                  user
                                                                      .openingHours[5]['open'][0]
                                                                      .toString() +
                                                                      ' to ' +
                                                                      user
                                                                          .openingHours[5]['close'][0]
                                                                          .toString(),
                                                                  textScaleFactor: 1.0,
                                                                  style: TextStyle(
                                                                      fontSize: 13
                                                                          .sp,
                                                                      color: (user
                                                                          .openingHours[5]['enhours']
                                                                          .toString() ==
                                                                          "Closed full day")
                                                                          ? Colors
                                                                          .red
                                                                          : Colors
                                                                          .black),))
                                                                : Expanded(
                                                              flex: 6,
                                                              child: Container(),)
                                                          ],
                                                        ),
                                                        Row(crossAxisAlignment:
                                                        CrossAxisAlignment
                                                            .start,
                                                          children: [
                                                            Expanded(flex: 3,
                                                              child: Text(
                                                                'Sunday',
                                                                textScaleFactor: 1.0,
                                                                style: TextStyle(
                                                                    fontSize: 13
                                                                        .sp),),),
                                                            Expanded(flex: 1,
                                                              child: Text(
                                                                  ' - '),),
                                                            (user
                                                                .openingHours[6]['enhours']
                                                                .toString() !=
                                                                'null' || user
                                                                .openingHours[6]['open'][0]
                                                                .toString() !=
                                                                'null')
                                                                ?
                                                            Expanded(flex: 6,
                                                                child: Text(
                                                                    (user
                                                                        .openingHours[6]['enhours']
                                                                        .toString() !=
                                                                        "hourly")
                                                                        ?
                                                                    user
                                                                        .openingHours[6]['enhours']
                                                                        .toString()
                                                                        :
                                                                    user
                                                                        .openingHours[6]['open'][0]
                                                                        .toString() +
                                                                        ' to ' +
                                                                        user
                                                                            .openingHours[6]['close'][0]
                                                                            .toString(),
                                                                    textScaleFactor: 1.0,
                                                                    style: TextStyle(
                                                                        fontSize: 13
                                                                            .sp,
                                                                        color: (user
                                                                            .openingHours[6]['enhours']
                                                                            .toString() ==
                                                                            "Closed full day")
                                                                            ? Colors
                                                                            .red
                                                                            : Colors
                                                                            .black)))
                                                                : Expanded(
                                                              flex: 6,
                                                              child: Container(),)
                                                          ],
                                                        ),
                                                      ]
                                                  )
                                                      :
                                                  Container(
                                                      padding: EdgeInsets.only(
                                                          top: 20.h,
                                                          bottom: 20.h),
                                                      child: Text(
                                                          'Not available')),
                                                  Container(
                                                    // margin: EdgeInsets.only(right: 20.w, left: 20.w),
                                                    width: double.infinity,
                                                    // alignment: Alignment.bottomLeft,
                                                    child: TextButton(
                                                      onPressed: () async {
                                                        showModalBottomSheet(
                                                            shape: RoundedRectangleBorder(
                                                              borderRadius: BorderRadius
                                                                  .vertical(
                                                                top: Radius
                                                                    .circular(
                                                                    20),
                                                              ),
                                                            ),
                                                            context: context,
                                                            builder: (context) {
                                                              return StatefulBuilder(
                                                                  builder: (
                                                                      context,
                                                                      StateSetter setState) {
                                                                    return Stack(
                                                                      children: [
                                                                        Column(
                                                                          mainAxisSize: MainAxisSize
                                                                              .min,
                                                                          children: <
                                                                              Widget>[
                                                                            Container(
                                                                                padding: EdgeInsets
                                                                                    .all(
                                                                                    6),
                                                                                // margin: EdgeInsets.only(top: 10.h,bottom: 5.h),
                                                                                child: Image
                                                                                    .asset(
                                                                                  'assets/images/minus.png',
                                                                                  fit: BoxFit
                                                                                      .fitWidth,
                                                                                  color: Colors
                                                                                      .grey,
                                                                                  height: 4
                                                                                      .h,
                                                                                  width: 28
                                                                                      .w,)
                                                                            ),
                                                                            SizedBox(
                                                                              height: 10
                                                                                  .h,),
                                                                            Text(
                                                                                'Add Working Hours'),
                                                                            SizedBox(
                                                                              height: 20
                                                                                  .h,),

                                                                            Row(
                                                                              mainAxisAlignment: MainAxisAlignment
                                                                                  .spaceEvenly,
                                                                              children: [
                                                                                InkWell(
                                                                                  onTap: () {
                                                                                    setState(() {
                                                                                      showMonRadioTime =
                                                                                      true;
                                                                                      selectedDay =
                                                                                      'Monday';
                                                                                    });
                                                                                  },
                                                                                  child: Container(
                                                                                      padding: EdgeInsets
                                                                                          .all(
                                                                                          10),
                                                                                      decoration: BoxDecoration(
                                                                                          color: (selectedDay ==
                                                                                              'Monday')
                                                                                              ? ColorConstants
                                                                                              .themeBlue
                                                                                              : Colors
                                                                                              .grey
                                                                                              .shade200,
                                                                                          shape: BoxShape
                                                                                              .circle
                                                                                      ),
                                                                                      child: Text(
                                                                                          'M',
                                                                                          style: TextStyle(
                                                                                              color: (selectedDay ==
                                                                                                  'Monday')
                                                                                                  ? Colors
                                                                                                  .white
                                                                                                  : Colors
                                                                                                  .black54))),
                                                                                ),
                                                                                InkWell(
                                                                                  onTap: () {
                                                                                    setState(() {
                                                                                      showTueRadioTime =
                                                                                      true;
                                                                                      selectedDay =
                                                                                      'Tuesday';
                                                                                    });
                                                                                  },
                                                                                  child: Container(
                                                                                      padding: EdgeInsets
                                                                                          .all(
                                                                                          10),
                                                                                      decoration: BoxDecoration(
                                                                                          color: (selectedDay ==
                                                                                              'Tuesday')
                                                                                              ? ColorConstants
                                                                                              .themeBlue
                                                                                              : Colors
                                                                                              .grey
                                                                                              .shade200,
                                                                                          shape: BoxShape
                                                                                              .circle
                                                                                      ),
                                                                                      child: Text(
                                                                                          'T',
                                                                                          style: TextStyle(
                                                                                              color: (selectedDay ==
                                                                                                  'Tuesday')
                                                                                                  ? Colors
                                                                                                  .white
                                                                                                  : Colors
                                                                                                  .black54))),
                                                                                ),
                                                                                InkWell(
                                                                                  onTap: () {
                                                                                    setState(() {
                                                                                      showWedRadioTime =
                                                                                      true;
                                                                                      selectedDay =
                                                                                      'Wednesday';
                                                                                    });
                                                                                  },
                                                                                  child: Container(
                                                                                      padding: EdgeInsets
                                                                                          .all(
                                                                                          10),
                                                                                      decoration: BoxDecoration(
                                                                                          color: (selectedDay ==
                                                                                              'Wednesday')
                                                                                              ? ColorConstants
                                                                                              .themeBlue
                                                                                              : Colors
                                                                                              .grey
                                                                                              .shade200,
                                                                                          shape: BoxShape
                                                                                              .circle
                                                                                      ),
                                                                                      child: Text(
                                                                                          'W',
                                                                                          style: TextStyle(
                                                                                              color: (selectedDay ==
                                                                                                  'Wednesday')
                                                                                                  ? Colors
                                                                                                  .white
                                                                                                  : Colors
                                                                                                  .black54))),
                                                                                ),
                                                                                InkWell(
                                                                                  onTap: () {
                                                                                    setState(() {
                                                                                      showThrRadioTime =
                                                                                      true;
                                                                                      selectedDay =
                                                                                      'Thursday';
                                                                                    });
                                                                                  },
                                                                                  child: Container(
                                                                                      padding: EdgeInsets
                                                                                          .all(
                                                                                          10),
                                                                                      decoration: BoxDecoration(
                                                                                          color: (selectedDay ==
                                                                                              'Thursday')
                                                                                              ? ColorConstants
                                                                                              .themeBlue
                                                                                              : Colors
                                                                                              .grey
                                                                                              .shade200,
                                                                                          shape: BoxShape
                                                                                              .circle
                                                                                      ),
                                                                                      child: Text(
                                                                                          'T',
                                                                                          style: TextStyle(
                                                                                              color: (selectedDay ==
                                                                                                  'Thursday')
                                                                                                  ? Colors
                                                                                                  .white
                                                                                                  : Colors
                                                                                                  .black54))),
                                                                                ),
                                                                                InkWell(
                                                                                  onTap: () {
                                                                                    setState(() {
                                                                                      showFriRadioTime =
                                                                                      true;
                                                                                      selectedDay =
                                                                                      'Friday';
                                                                                    });
                                                                                  },
                                                                                  child: Container(
                                                                                      padding: EdgeInsets
                                                                                          .all(
                                                                                          10),
                                                                                      decoration: BoxDecoration(
                                                                                          color: (selectedDay ==
                                                                                              'Friday')
                                                                                              ? ColorConstants
                                                                                              .themeBlue
                                                                                              : Colors
                                                                                              .grey
                                                                                              .shade200,
                                                                                          shape: BoxShape
                                                                                              .circle
                                                                                      ),
                                                                                      child: Text(
                                                                                          'F',
                                                                                          style: TextStyle(
                                                                                              color: (selectedDay ==
                                                                                                  'Friday')
                                                                                                  ? Colors
                                                                                                  .white
                                                                                                  : Colors
                                                                                                  .black54))),
                                                                                ),
                                                                                InkWell(
                                                                                  onTap: () {
                                                                                    setState(() {
                                                                                      showSatRadioTime =
                                                                                      true;
                                                                                      selectedDay =
                                                                                      'Saturday';
                                                                                    });
                                                                                  },
                                                                                  child: Container(
                                                                                      padding: EdgeInsets
                                                                                          .all(
                                                                                          10),
                                                                                      decoration: BoxDecoration(
                                                                                          color: (selectedDay ==
                                                                                              'Saturday')
                                                                                              ? ColorConstants
                                                                                              .themeBlue
                                                                                              : Colors
                                                                                              .grey
                                                                                              .shade200,
                                                                                          shape: BoxShape
                                                                                              .circle
                                                                                      ),
                                                                                      child: Text(
                                                                                          'S',
                                                                                          style: TextStyle(
                                                                                              color: (selectedDay ==
                                                                                                  'Saturday')
                                                                                                  ? Colors
                                                                                                  .white
                                                                                                  : Colors
                                                                                                  .black54))),
                                                                                ),
                                                                                InkWell(
                                                                                  onTap: () {
                                                                                    setState(() {
                                                                                      showRadioTime =
                                                                                      true;
                                                                                      selectedDay =
                                                                                      'Sunday';
                                                                                    });
                                                                                  },
                                                                                  child: Container(
                                                                                      padding: EdgeInsets
                                                                                          .all(
                                                                                          10),
                                                                                      decoration: BoxDecoration(
                                                                                          color: (selectedDay ==
                                                                                              'Sunday')
                                                                                              ? ColorConstants
                                                                                              .themeBlue
                                                                                              : Colors
                                                                                              .grey
                                                                                              .shade200,
                                                                                          shape: BoxShape
                                                                                              .circle
                                                                                      ),
                                                                                      child: Text(
                                                                                        'S',
                                                                                        style: TextStyle(
                                                                                            color: (selectedDay ==
                                                                                                'Sunday')
                                                                                                ? Colors
                                                                                                .white
                                                                                                : Colors
                                                                                                .black54),)),
                                                                                ),
                                                                              ],),
                                                                            SizedBox(
                                                                              height: 20
                                                                                  .h,),
                                                                            (selectedDay ==
                                                                                'Monday')
                                                                                ?
                                                                            Container(
                                                                              child: Column(
                                                                                children: [
                                                                                  Visibility(
                                                                                    visible: showMonRadioTime,
                                                                                    child: Container(
                                                                                      padding: EdgeInsets
                                                                                          .only(
                                                                                          left: 10,
                                                                                          right: 10),
                                                                                      child: Column(
                                                                                        children: [
                                                                                          Row(
                                                                                            mainAxisAlignment: MainAxisAlignment
                                                                                                .spaceEvenly,
                                                                                            children: [
                                                                                              Expanded(
                                                                                                flex: 1,
                                                                                                child: RadioListTile(
                                                                                                  activeColor: ColorConstants
                                                                                                      .themeBlue,
                                                                                                  contentPadding: EdgeInsets
                                                                                                      .symmetric(
                                                                                                      vertical:
                                                                                                      0),
                                                                                                  dense: true,
                                                                                                  title: Text(
                                                                                                      "Enter hours"),
                                                                                                  value: 'hourly',
                                                                                                  groupValue: monWorkingHours,
                                                                                                  onChanged: (
                                                                                                      value) {
                                                                                                    setState(() {
                                                                                                      monWorkingHours =
                                                                                                          value
                                                                                                              .toString();
                                                                                                      showMonTime =
                                                                                                      true;
                                                                                                      saveMonTime =
                                                                                                      false;
                                                                                                    });
                                                                                                  },
                                                                                                ),
                                                                                              ),
                                                                                              Expanded(
                                                                                                flex: 1,
                                                                                                child: RadioListTile(
                                                                                                  activeColor: ColorConstants
                                                                                                      .themeBlue,
                                                                                                  contentPadding: EdgeInsets
                                                                                                      .symmetric(
                                                                                                      vertical:
                                                                                                      0),
                                                                                                  dense: true,
                                                                                                  title: Text(
                                                                                                      "Open full day"),
                                                                                                  value: "Open full day",
                                                                                                  groupValue: monWorkingHours,
                                                                                                  onChanged: (
                                                                                                      value) {
                                                                                                    setState(() {
                                                                                                      monWorkingHours =
                                                                                                          value
                                                                                                              .toString();
                                                                                                      saveMonTime =
                                                                                                      true;
                                                                                                      showMonTime =
                                                                                                      false;
                                                                                                    });
                                                                                                  },
                                                                                                ),
                                                                                              ),
                                                                                            ],),
                                                                                          Row(
                                                                                            mainAxisAlignment: MainAxisAlignment
                                                                                                .spaceEvenly,
                                                                                            children: [

                                                                                              Expanded(
                                                                                                flex: 1,
                                                                                                child: RadioListTile(
                                                                                                  activeColor: ColorConstants
                                                                                                      .themeBlue,
                                                                                                  contentPadding: EdgeInsets
                                                                                                      .symmetric(
                                                                                                      vertical:
                                                                                                      0),
                                                                                                  dense: true,
                                                                                                  title: Text(
                                                                                                      "Closed full day"),
                                                                                                  value: "Closed full day",
                                                                                                  groupValue: monWorkingHours,
                                                                                                  onChanged: (
                                                                                                      value) {
                                                                                                    setState(() {
                                                                                                      monWorkingHours =
                                                                                                          value
                                                                                                              .toString();
                                                                                                      monToTime =
                                                                                                      null;
                                                                                                      monFromTime =
                                                                                                      null;
                                                                                                      saveMonTime =
                                                                                                      true;
                                                                                                      showMonTime =
                                                                                                      false;
                                                                                                    });
                                                                                                  },
                                                                                                ),
                                                                                              ),
                                                                                              Expanded(
                                                                                                flex: 1,
                                                                                                child: RadioListTile(
                                                                                                  activeColor: ColorConstants
                                                                                                      .themeBlue,
                                                                                                  contentPadding: EdgeInsets
                                                                                                      .all(
                                                                                                      0),
                                                                                                  dense: true,
                                                                                                  title: Text(
                                                                                                      "By appointment only"),
                                                                                                  value: "By appointment only",
                                                                                                  groupValue: monWorkingHours,
                                                                                                  onChanged: (
                                                                                                      value) {
                                                                                                    setState(() {
                                                                                                      monWorkingHours =
                                                                                                          value
                                                                                                              .toString();
                                                                                                      saveMonTime =
                                                                                                      true;
                                                                                                      showMonTime =
                                                                                                      false;
                                                                                                    });
                                                                                                  },
                                                                                                ),
                                                                                              ),
                                                                                            ],),
                                                                                        ],
                                                                                      ),
                                                                                    ),
                                                                                  ),
                                                                                  SizedBox(
                                                                                    height: 20
                                                                                        .h,),
                                                                                  Visibility(
                                                                                    visible: showMonTime,
                                                                                    child: Row(
                                                                                      mainAxisAlignment: MainAxisAlignment
                                                                                          .spaceEvenly,
                                                                                      crossAxisAlignment: CrossAxisAlignment
                                                                                          .center,
                                                                                      children: [
                                                                                        InkWell(
                                                                                            onTap: () async {
                                                                                              _showMonFrom(
                                                                                                  context,
                                                                                                  setState);
                                                                                            },
                                                                                            child: Container(
                                                                                              padding: EdgeInsets
                                                                                                  .all(
                                                                                                  10),
                                                                                              decoration: BoxDecoration(
                                                                                                  color: Colors
                                                                                                      .grey
                                                                                                      .shade200,
                                                                                                  borderRadius: BorderRadius
                                                                                                      .circular(
                                                                                                      20)
                                                                                              ),
                                                                                              child: Text(
                                                                                                monFromTime !=
                                                                                                    null
                                                                                                    ? monFromTime!
                                                                                                    : '0:00 AM',
                                                                                                style: const TextStyle(
                                                                                                    fontSize: 30),),
                                                                                            )),
                                                                                        Container(
                                                                                            padding: EdgeInsets
                                                                                                .all(
                                                                                                6),
                                                                                            // margin: EdgeInsets.only(top: 10.h,bottom: 5.h),
                                                                                            child: Image
                                                                                                .asset(
                                                                                              'assets/images/minus.png',
                                                                                              fit: BoxFit
                                                                                                  .fitWidth,
                                                                                              color: Colors
                                                                                                  .black54,
                                                                                              height: 4
                                                                                                  .h,
                                                                                              width: 28
                                                                                                  .w,)
                                                                                        ),
                                                                                        InkWell(
                                                                                            onTap: () async {
                                                                                              _showMonTo(
                                                                                                  context,
                                                                                                  setState);
                                                                                            },
                                                                                            child: Container(
                                                                                              padding: EdgeInsets
                                                                                                  .all(
                                                                                                  10),
                                                                                              decoration: BoxDecoration(
                                                                                                  color: Colors
                                                                                                      .grey
                                                                                                      .shade200,
                                                                                                  borderRadius: BorderRadius
                                                                                                      .circular(
                                                                                                      20)
                                                                                              ),
                                                                                              child: Text(
                                                                                                monToTime !=
                                                                                                    null
                                                                                                    ? monToTime!
                                                                                                    : '0:00 PM',
                                                                                                style: const TextStyle(
                                                                                                    fontSize: 30),),
                                                                                            )),
                                                                                      ],
                                                                                    ),
                                                                                  ),
                                                                                  SizedBox(
                                                                                    height: 20
                                                                                        .h,),
                                                                                  // Visibility(
                                                                                  //   visible: saveMonTime,
                                                                                  //   child: Container(
                                                                                  //     margin: EdgeInsets
                                                                                  //         .only(
                                                                                  //         right: 20
                                                                                  //             .w,
                                                                                  //         left: 20
                                                                                  //             .w),
                                                                                  //     width: double
                                                                                  //         .infinity,
                                                                                  //     // alignment: Alignment.bottomLeft,
                                                                                  //     child: TextButton(
                                                                                  //       onPressed: () async {
                                                                                  //         uploadWorkingHours();
                                                                                  //       },
                                                                                  //       style: TextButton
                                                                                  //           .styleFrom(
                                                                                  //         primary: Colors
                                                                                  //             .white,
                                                                                  //         splashFactory: NoSplash
                                                                                  //             .splashFactory,
                                                                                  //         backgroundColor: ColorConstants
                                                                                  //             .themeBlue, //
                                                                                  //         // padding: const EdgeInsets.only(top: 10, bottom: 10),
                                                                                  //       ),
                                                                                  //       child: Text(
                                                                                  //           "Save",
                                                                                  //           style: TextStyle(
                                                                                  //               fontSize: 20
                                                                                  //                   .sp)),
                                                                                  //     ),
                                                                                  //   ),
                                                                                  // ),
                                                                                ],
                                                                              ),
                                                                            )
                                                                                :
                                                                            (selectedDay ==
                                                                                'Tuesday')
                                                                                ?
                                                                            Container(
                                                                              child: Column(
                                                                                children: [
                                                                                  Visibility(
                                                                                    visible: showTueRadioTime,
                                                                                    child: Container(
                                                                                      padding: EdgeInsets
                                                                                          .only(
                                                                                          left: 10,
                                                                                          right: 10),
                                                                                      child: Column(
                                                                                        children: [
                                                                                          Row(
                                                                                            mainAxisAlignment: MainAxisAlignment
                                                                                                .spaceEvenly,
                                                                                            children: [
                                                                                              Expanded(
                                                                                                flex: 1,
                                                                                                child: RadioListTile(
                                                                                                  activeColor: ColorConstants
                                                                                                      .themeBlue,
                                                                                                  contentPadding: EdgeInsets
                                                                                                      .symmetric(
                                                                                                      vertical:
                                                                                                      0),
                                                                                                  dense: true,
                                                                                                  title: Text(
                                                                                                      "Enter hours"),
                                                                                                  value: 'hourly',
                                                                                                  groupValue: tueWorkingHours,
                                                                                                  onChanged: (
                                                                                                      value) {
                                                                                                    setState(() {
                                                                                                      tueWorkingHours =
                                                                                                          value
                                                                                                              .toString();
                                                                                                      showTueTime =
                                                                                                      true;
                                                                                                      saveTueTime =
                                                                                                      false;
                                                                                                    });
                                                                                                  },
                                                                                                ),
                                                                                              ),
                                                                                              Expanded(
                                                                                                flex: 1,
                                                                                                child: RadioListTile(
                                                                                                  activeColor: ColorConstants
                                                                                                      .themeBlue,
                                                                                                  contentPadding: EdgeInsets
                                                                                                      .symmetric(
                                                                                                      vertical:
                                                                                                      0),
                                                                                                  dense: true,
                                                                                                  title: Text(
                                                                                                      "Open full day"),
                                                                                                  value: "Open full day",
                                                                                                  groupValue: tueWorkingHours,
                                                                                                  onChanged: (
                                                                                                      value) {
                                                                                                    setState(() {
                                                                                                      tueWorkingHours =
                                                                                                          value
                                                                                                              .toString();
                                                                                                      saveTueTime =
                                                                                                      true;
                                                                                                      showTueTime =
                                                                                                      false;
                                                                                                    });
                                                                                                  },
                                                                                                ),
                                                                                              ),
                                                                                            ],),
                                                                                          Row(
                                                                                            mainAxisAlignment: MainAxisAlignment
                                                                                                .spaceEvenly,
                                                                                            children: [

                                                                                              Expanded(
                                                                                                flex: 1,
                                                                                                child: RadioListTile(
                                                                                                  activeColor: ColorConstants
                                                                                                      .themeBlue,
                                                                                                  contentPadding: EdgeInsets
                                                                                                      .symmetric(
                                                                                                      vertical:
                                                                                                      0),
                                                                                                  dense: true,
                                                                                                  title: Text(
                                                                                                      "Closed full day"),
                                                                                                  value: "Closed full day",
                                                                                                  groupValue: tueWorkingHours,
                                                                                                  onChanged: (
                                                                                                      value) {
                                                                                                    setState(() {
                                                                                                      tueWorkingHours =
                                                                                                          value
                                                                                                              .toString();
                                                                                                      tueToTime =
                                                                                                      null;
                                                                                                      tueFromTime =
                                                                                                      null;
                                                                                                      saveTueTime =
                                                                                                      true;
                                                                                                      showTueTime =
                                                                                                      false;
                                                                                                    });
                                                                                                  },
                                                                                                ),
                                                                                              ),
                                                                                              Expanded(
                                                                                                flex: 1,
                                                                                                child: RadioListTile(
                                                                                                  activeColor: ColorConstants
                                                                                                      .themeBlue,
                                                                                                  contentPadding: EdgeInsets
                                                                                                      .all(
                                                                                                      0),
                                                                                                  dense: true,
                                                                                                  title: Text(
                                                                                                      "By appointment only"),
                                                                                                  value: "By appointment only",
                                                                                                  groupValue: tueWorkingHours,
                                                                                                  onChanged: (
                                                                                                      value) {
                                                                                                    setState(() {
                                                                                                      tueWorkingHours =
                                                                                                          value
                                                                                                              .toString();
                                                                                                      saveTueTime =
                                                                                                      true;
                                                                                                      showTueTime =
                                                                                                      false;
                                                                                                    });
                                                                                                  },
                                                                                                ),
                                                                                              ),
                                                                                            ],),
                                                                                        ],
                                                                                      ),
                                                                                    ),
                                                                                  ),
                                                                                  SizedBox(
                                                                                    height: 20
                                                                                        .h,),
                                                                                  Visibility(
                                                                                    visible: showTueTime,
                                                                                    child: Row(
                                                                                      mainAxisAlignment: MainAxisAlignment
                                                                                          .spaceEvenly,
                                                                                      crossAxisAlignment: CrossAxisAlignment
                                                                                          .center,
                                                                                      children: [
                                                                                        InkWell(
                                                                                            onTap: () async {
                                                                                              _showTueFrom(
                                                                                                  context,
                                                                                                  setState);
                                                                                            },
                                                                                            child: Container(
                                                                                              padding: EdgeInsets
                                                                                                  .all(
                                                                                                  10),
                                                                                              decoration: BoxDecoration(
                                                                                                  color: Colors
                                                                                                      .grey
                                                                                                      .shade200,
                                                                                                  borderRadius: BorderRadius
                                                                                                      .circular(
                                                                                                      20)
                                                                                              ),
                                                                                              child: Text(
                                                                                                tueFromTime !=
                                                                                                    null
                                                                                                    ? tueFromTime!
                                                                                                    : '0:00 AM',
                                                                                                style: const TextStyle(
                                                                                                    fontSize: 30),),
                                                                                            )),
                                                                                        Container(
                                                                                            padding: EdgeInsets
                                                                                                .all(
                                                                                                6),
                                                                                            // margin: EdgeInsets.only(top: 10.h,bottom: 5.h),
                                                                                            child: Image
                                                                                                .asset(
                                                                                              'assets/images/minus.png',
                                                                                              fit: BoxFit
                                                                                                  .fitWidth,
                                                                                              color: Colors
                                                                                                  .black54,
                                                                                              height: 4
                                                                                                  .h,
                                                                                              width: 28
                                                                                                  .w,)
                                                                                        ),
                                                                                        InkWell(
                                                                                            onTap: () async {
                                                                                              _showTueTo(
                                                                                                  context,
                                                                                                  setState);
                                                                                            },
                                                                                            child: Container(
                                                                                              padding: EdgeInsets
                                                                                                  .all(
                                                                                                  10),
                                                                                              decoration: BoxDecoration(
                                                                                                  color: Colors
                                                                                                      .grey
                                                                                                      .shade200,
                                                                                                  borderRadius: BorderRadius
                                                                                                      .circular(
                                                                                                      20)
                                                                                              ),
                                                                                              child: Text(
                                                                                                tueToTime !=
                                                                                                    null
                                                                                                    ? tueToTime!
                                                                                                    : '0:00 PM',
                                                                                                style: const TextStyle(
                                                                                                    fontSize: 30),),
                                                                                            )),
                                                                                      ],
                                                                                    ),
                                                                                  ),
                                                                                  SizedBox(
                                                                                    height: 20
                                                                                        .h,),
                                                                                  // Visibility(
                                                                                  //   visible: saveTueTime,
                                                                                  //   child: Container(
                                                                                  //     margin: EdgeInsets
                                                                                  //         .only(
                                                                                  //         right: 20
                                                                                  //             .w,
                                                                                  //         left: 20
                                                                                  //             .w),
                                                                                  //     width: double
                                                                                  //         .infinity,
                                                                                  //     // alignment: Alignment.bottomLeft,
                                                                                  //     child: TextButton(
                                                                                  //       onPressed: () async {
                                                                                  //         uploadWorkingHours();
                                                                                  //       },
                                                                                  //       style: TextButton
                                                                                  //           .styleFrom(
                                                                                  //         primary: Colors
                                                                                  //             .white,
                                                                                  //         splashFactory: NoSplash
                                                                                  //             .splashFactory,
                                                                                  //         backgroundColor: ColorConstants
                                                                                  //             .themeBlue, //
                                                                                  //         // padding: const EdgeInsets.only(top: 10, bottom: 10),
                                                                                  //       ),
                                                                                  //       child: Text(
                                                                                  //           "Save",
                                                                                  //           style: TextStyle(
                                                                                  //               fontSize: 20
                                                                                  //                   .sp)),
                                                                                  //     ),
                                                                                  //   ),
                                                                                  // ),
                                                                                ],
                                                                              ),
                                                                            )
                                                                                :
                                                                            (selectedDay ==
                                                                                'Wednesday')
                                                                                ?
                                                                            Container(
                                                                              child: Column(
                                                                                children: [
                                                                                  Visibility(
                                                                                    visible: showWedRadioTime,
                                                                                    child: Container(
                                                                                      padding: EdgeInsets
                                                                                          .only(
                                                                                          left: 10,
                                                                                          right: 10),
                                                                                      child: Column(
                                                                                        children: [
                                                                                          Row(
                                                                                            mainAxisAlignment: MainAxisAlignment
                                                                                                .spaceEvenly,
                                                                                            children: [
                                                                                              Expanded(
                                                                                                flex: 1,
                                                                                                child: RadioListTile(
                                                                                                  activeColor: ColorConstants
                                                                                                      .themeBlue,
                                                                                                  contentPadding: EdgeInsets
                                                                                                      .symmetric(
                                                                                                      vertical:
                                                                                                      0),
                                                                                                  dense: true,
                                                                                                  title: Text(
                                                                                                      "Enter hours"),
                                                                                                  value: 'hourly',
                                                                                                  groupValue: wedWorkingHours,
                                                                                                  onChanged: (
                                                                                                      value) {
                                                                                                    setState(() {
                                                                                                      wedWorkingHours =
                                                                                                          value
                                                                                                              .toString();
                                                                                                      showWedTime =
                                                                                                      true;
                                                                                                      saveWedTime =
                                                                                                      false;
                                                                                                    });
                                                                                                  },
                                                                                                ),
                                                                                              ),
                                                                                              Expanded(
                                                                                                flex: 1,
                                                                                                child: RadioListTile(
                                                                                                  activeColor: ColorConstants
                                                                                                      .themeBlue,
                                                                                                  contentPadding: EdgeInsets
                                                                                                      .symmetric(
                                                                                                      vertical:
                                                                                                      0),
                                                                                                  dense: true,
                                                                                                  title: Text(
                                                                                                      "Open full day"),
                                                                                                  value: "Open full day",
                                                                                                  groupValue: wedWorkingHours,
                                                                                                  onChanged: (
                                                                                                      value) {
                                                                                                    setState(() {
                                                                                                      wedWorkingHours =
                                                                                                          value
                                                                                                              .toString();
                                                                                                      saveWedTime =
                                                                                                      true;
                                                                                                      showWedTime =
                                                                                                      false;
                                                                                                    });
                                                                                                  },
                                                                                                ),
                                                                                              ),
                                                                                            ],),
                                                                                          Row(
                                                                                            mainAxisAlignment: MainAxisAlignment
                                                                                                .spaceEvenly,
                                                                                            children: [

                                                                                              Expanded(
                                                                                                flex: 1,
                                                                                                child: RadioListTile(
                                                                                                  activeColor: ColorConstants
                                                                                                      .themeBlue,
                                                                                                  contentPadding: EdgeInsets
                                                                                                      .symmetric(
                                                                                                      vertical:
                                                                                                      0),
                                                                                                  dense: true,
                                                                                                  title: Text(
                                                                                                      "Closed full day"),
                                                                                                  value: "Closed full day",
                                                                                                  groupValue: wedWorkingHours,
                                                                                                  onChanged: (
                                                                                                      value) {
                                                                                                    setState(() {
                                                                                                      wedWorkingHours =
                                                                                                          value
                                                                                                              .toString();
                                                                                                      wedToTime =
                                                                                                      null;
                                                                                                      wedFromTime =
                                                                                                      null;
                                                                                                      saveWedTime =
                                                                                                      true;
                                                                                                      showWedTime =
                                                                                                      false;
                                                                                                    });
                                                                                                  },
                                                                                                ),
                                                                                              ),
                                                                                              Expanded(
                                                                                                flex: 1,
                                                                                                child: RadioListTile(
                                                                                                  activeColor: ColorConstants
                                                                                                      .themeBlue,
                                                                                                  contentPadding: EdgeInsets
                                                                                                      .all(
                                                                                                      0),
                                                                                                  dense: true,
                                                                                                  title: Text(
                                                                                                      "By appointment only"),
                                                                                                  value: "By appointment only",
                                                                                                  groupValue: wedWorkingHours,
                                                                                                  onChanged: (
                                                                                                      value) {
                                                                                                    setState(() {
                                                                                                      wedWorkingHours =
                                                                                                          value
                                                                                                              .toString();
                                                                                                      saveWedTime =
                                                                                                      true;
                                                                                                      showWedTime =
                                                                                                      false;
                                                                                                    });
                                                                                                  },
                                                                                                ),
                                                                                              ),
                                                                                            ],),
                                                                                        ],
                                                                                      ),
                                                                                    ),
                                                                                  ),
                                                                                  SizedBox(
                                                                                    height: 20
                                                                                        .h,),
                                                                                  Visibility(
                                                                                    visible: showWedTime,
                                                                                    child: Row(
                                                                                      mainAxisAlignment: MainAxisAlignment
                                                                                          .spaceEvenly,
                                                                                      crossAxisAlignment: CrossAxisAlignment
                                                                                          .center,
                                                                                      children: [
                                                                                        InkWell(
                                                                                            onTap: () async {
                                                                                              _showWedFrom(
                                                                                                  context,
                                                                                                  setState);
                                                                                            },
                                                                                            child: Container(
                                                                                              padding: EdgeInsets
                                                                                                  .all(
                                                                                                  10),
                                                                                              decoration: BoxDecoration(
                                                                                                  color: Colors
                                                                                                      .grey
                                                                                                      .shade200,
                                                                                                  borderRadius: BorderRadius
                                                                                                      .circular(
                                                                                                      20)
                                                                                              ),
                                                                                              child: Text(
                                                                                                wedFromTime !=
                                                                                                    null
                                                                                                    ? wedFromTime!
                                                                                                    : '0:00 AM',
                                                                                                style: const TextStyle(
                                                                                                    fontSize: 30),),
                                                                                            )),
                                                                                        Container(
                                                                                            padding: EdgeInsets
                                                                                                .all(
                                                                                                6),
                                                                                            // margin: EdgeInsets.only(top: 10.h,bottom: 5.h),
                                                                                            child: Image
                                                                                                .asset(
                                                                                              'assets/images/minus.png',
                                                                                              fit: BoxFit
                                                                                                  .fitWidth,
                                                                                              color: Colors
                                                                                                  .black54,
                                                                                              height: 4
                                                                                                  .h,
                                                                                              width: 28
                                                                                                  .w,)
                                                                                        ),
                                                                                        InkWell(
                                                                                            onTap: () async {
                                                                                              _showWedTo(
                                                                                                  context,
                                                                                                  setState);
                                                                                            },
                                                                                            child: Container(
                                                                                              padding: EdgeInsets
                                                                                                  .all(
                                                                                                  10),
                                                                                              decoration: BoxDecoration(
                                                                                                  color: Colors
                                                                                                      .grey
                                                                                                      .shade200,
                                                                                                  borderRadius: BorderRadius
                                                                                                      .circular(
                                                                                                      20)
                                                                                              ),
                                                                                              child: Text(
                                                                                                wedToTime !=
                                                                                                    null
                                                                                                    ? wedToTime!
                                                                                                    : '0:00 PM',
                                                                                                style: const TextStyle(
                                                                                                    fontSize: 30),),
                                                                                            )),
                                                                                      ],
                                                                                    ),
                                                                                  ),
                                                                                  SizedBox(
                                                                                    height: 20
                                                                                        .h,),
                                                                                  // Visibility(
                                                                                  //   visible: saveWedTime,
                                                                                  //   child: Container(
                                                                                  //     margin: EdgeInsets
                                                                                  //         .only(
                                                                                  //         right: 20
                                                                                  //             .w,
                                                                                  //         left: 20
                                                                                  //             .w),
                                                                                  //     width: double
                                                                                  //         .infinity,
                                                                                  //     // alignment: Alignment.bottomLeft,
                                                                                  //     child: TextButton(
                                                                                  //       onPressed: () async {
                                                                                  //         uploadWorkingHours();
                                                                                  //       },
                                                                                  //       style: TextButton
                                                                                  //           .styleFrom(
                                                                                  //         primary: Colors
                                                                                  //             .white,
                                                                                  //         splashFactory: NoSplash
                                                                                  //             .splashFactory,
                                                                                  //         backgroundColor: ColorConstants
                                                                                  //             .themeBlue, //
                                                                                  //         // padding: const EdgeInsets.only(top: 10, bottom: 10),
                                                                                  //       ),
                                                                                  //       child: Text(
                                                                                  //           "Save",
                                                                                  //           style: TextStyle(
                                                                                  //               fontSize: 20
                                                                                  //                   .sp)),
                                                                                  //     ),
                                                                                  //   ),
                                                                                  // ),
                                                                                ],
                                                                              ),
                                                                            )
                                                                                :
                                                                            (selectedDay ==
                                                                                'Thursday')
                                                                                ?
                                                                            Container(
                                                                              child: Column(
                                                                                children: [
                                                                                  Visibility(
                                                                                    visible: showThrRadioTime,
                                                                                    child: Container(
                                                                                      padding: EdgeInsets
                                                                                          .only(
                                                                                          left: 10,
                                                                                          right: 10),
                                                                                      child: Column(
                                                                                        children: [
                                                                                          Row(
                                                                                            mainAxisAlignment: MainAxisAlignment
                                                                                                .spaceEvenly,
                                                                                            children: [
                                                                                              Expanded(
                                                                                                flex: 1,
                                                                                                child: RadioListTile(
                                                                                                  activeColor: ColorConstants
                                                                                                      .themeBlue,
                                                                                                  contentPadding: EdgeInsets
                                                                                                      .symmetric(
                                                                                                      vertical:
                                                                                                      0),
                                                                                                  dense: true,
                                                                                                  title: Text(
                                                                                                      "Enter hours"),
                                                                                                  value: 'hourly',
                                                                                                  groupValue: thrWorkingHours,
                                                                                                  onChanged: (
                                                                                                      value) {
                                                                                                    setState(() {
                                                                                                      thrWorkingHours =
                                                                                                          value
                                                                                                              .toString();
                                                                                                      showThrTime =
                                                                                                      true;
                                                                                                      saveThrTime =
                                                                                                      false;
                                                                                                    });
                                                                                                  },
                                                                                                ),
                                                                                              ),
                                                                                              Expanded(
                                                                                                flex: 1,
                                                                                                child: RadioListTile(
                                                                                                  activeColor: ColorConstants
                                                                                                      .themeBlue,
                                                                                                  contentPadding: EdgeInsets
                                                                                                      .symmetric(
                                                                                                      vertical:
                                                                                                      0),
                                                                                                  dense: true,
                                                                                                  title: Text(
                                                                                                      "Open full day"),
                                                                                                  value: "Open full day",
                                                                                                  groupValue: thrWorkingHours,
                                                                                                  onChanged: (
                                                                                                      value) {
                                                                                                    setState(() {
                                                                                                      thrWorkingHours =
                                                                                                          value
                                                                                                              .toString();
                                                                                                      saveThrTime =
                                                                                                      true;
                                                                                                      showThrTime =
                                                                                                      false;
                                                                                                    });
                                                                                                  },
                                                                                                ),
                                                                                              ),
                                                                                            ],),
                                                                                          Row(
                                                                                            mainAxisAlignment: MainAxisAlignment
                                                                                                .spaceEvenly,
                                                                                            children: [

                                                                                              Expanded(
                                                                                                flex: 1,
                                                                                                child: RadioListTile(
                                                                                                  activeColor: ColorConstants
                                                                                                      .themeBlue,
                                                                                                  contentPadding: EdgeInsets
                                                                                                      .symmetric(
                                                                                                      vertical:
                                                                                                      0),
                                                                                                  dense: true,
                                                                                                  title: Text(
                                                                                                      "Closed full day"),
                                                                                                  value: "Closed full day",
                                                                                                  groupValue: thrWorkingHours,
                                                                                                  onChanged: (
                                                                                                      value) {
                                                                                                    setState(() {
                                                                                                      thrWorkingHours =
                                                                                                          value
                                                                                                              .toString();
                                                                                                      thrToTime =
                                                                                                      null;
                                                                                                      thrFromTime =
                                                                                                      null;
                                                                                                      saveThrTime =
                                                                                                      true;
                                                                                                      showThrTime =
                                                                                                      false;
                                                                                                    });
                                                                                                  },
                                                                                                ),
                                                                                              ),
                                                                                              Expanded(
                                                                                                flex: 1,
                                                                                                child: RadioListTile(
                                                                                                  activeColor: ColorConstants
                                                                                                      .themeBlue,
                                                                                                  contentPadding: EdgeInsets
                                                                                                      .all(
                                                                                                      0),
                                                                                                  dense: true,
                                                                                                  title: Text(
                                                                                                      "By appointment only"),
                                                                                                  value: "By appointment only",
                                                                                                  groupValue: thrWorkingHours,
                                                                                                  onChanged: (
                                                                                                      value) {
                                                                                                    setState(() {
                                                                                                      thrWorkingHours =
                                                                                                          value
                                                                                                              .toString();
                                                                                                      saveThrTime =
                                                                                                      true;
                                                                                                      showThrTime =
                                                                                                      false;
                                                                                                    });
                                                                                                  },
                                                                                                ),
                                                                                              ),
                                                                                            ],),
                                                                                        ],
                                                                                      ),
                                                                                    ),
                                                                                  ),
                                                                                  SizedBox(
                                                                                    height: 20
                                                                                        .h,),
                                                                                  Visibility(
                                                                                    visible: showThrTime,
                                                                                    child: Row(
                                                                                      mainAxisAlignment: MainAxisAlignment
                                                                                          .spaceEvenly,
                                                                                      crossAxisAlignment: CrossAxisAlignment
                                                                                          .center,
                                                                                      children: [
                                                                                        InkWell(
                                                                                            onTap: () async {
                                                                                              _showThrFrom(
                                                                                                  context,
                                                                                                  setState);
                                                                                            },
                                                                                            child: Container(
                                                                                              padding: EdgeInsets
                                                                                                  .all(
                                                                                                  10),
                                                                                              decoration: BoxDecoration(
                                                                                                  color: Colors
                                                                                                      .grey
                                                                                                      .shade200,
                                                                                                  borderRadius: BorderRadius
                                                                                                      .circular(
                                                                                                      20)
                                                                                              ),
                                                                                              child: Text(
                                                                                                thrFromTime !=
                                                                                                    null
                                                                                                    ? thrFromTime!
                                                                                                    : '0:00 AM',
                                                                                                style: const TextStyle(
                                                                                                    fontSize: 30),),
                                                                                            )),
                                                                                        Container(
                                                                                            padding: EdgeInsets
                                                                                                .all(
                                                                                                6),
                                                                                            // margin: EdgeInsets.only(top: 10.h,bottom: 5.h),
                                                                                            child: Image
                                                                                                .asset(
                                                                                              'assets/images/minus.png',
                                                                                              fit: BoxFit
                                                                                                  .fitWidth,
                                                                                              color: Colors
                                                                                                  .black54,
                                                                                              height: 4
                                                                                                  .h,
                                                                                              width: 28
                                                                                                  .w,)
                                                                                        ),
                                                                                        InkWell(
                                                                                            onTap: () async {
                                                                                              _showThrTo(
                                                                                                  context,
                                                                                                  setState);
                                                                                            },
                                                                                            child: Container(
                                                                                              padding: EdgeInsets
                                                                                                  .all(
                                                                                                  10),
                                                                                              decoration: BoxDecoration(
                                                                                                  color: Colors
                                                                                                      .grey
                                                                                                      .shade200,
                                                                                                  borderRadius: BorderRadius
                                                                                                      .circular(
                                                                                                      20)
                                                                                              ),
                                                                                              child: Text(
                                                                                                thrToTime !=
                                                                                                    null
                                                                                                    ? thrToTime!
                                                                                                    : '0:00 PM',
                                                                                                style: const TextStyle(
                                                                                                    fontSize: 30),),
                                                                                            )),
                                                                                      ],
                                                                                    ),
                                                                                  ),
                                                                                  SizedBox(
                                                                                    height: 20
                                                                                        .h,),
                                                                                  // Visibility(
                                                                                  //   visible: saveThrTime,
                                                                                  //   child: Container(
                                                                                  //     margin: EdgeInsets
                                                                                  //         .only(
                                                                                  //         right: 20
                                                                                  //             .w,
                                                                                  //         left: 20
                                                                                  //             .w),
                                                                                  //     width: double
                                                                                  //         .infinity,
                                                                                  //     // alignment: Alignment.bottomLeft,
                                                                                  //     child: TextButton(
                                                                                  //       onPressed: () async {
                                                                                  //         uploadWorkingHours();
                                                                                  //       },
                                                                                  //       style: TextButton
                                                                                  //           .styleFrom(
                                                                                  //         primary: Colors
                                                                                  //             .white,
                                                                                  //         splashFactory: NoSplash
                                                                                  //             .splashFactory,
                                                                                  //         backgroundColor: ColorConstants
                                                                                  //             .themeBlue, //
                                                                                  //         // padding: const EdgeInsets.only(top: 10, bottom: 10),
                                                                                  //       ),
                                                                                  //       child: Text(
                                                                                  //           "Save",
                                                                                  //           style: TextStyle(
                                                                                  //               fontSize: 20
                                                                                  //                   .sp)),
                                                                                  //     ),
                                                                                  //   ),
                                                                                  // ),
                                                                                ],
                                                                              ),
                                                                            )
                                                                                :
                                                                            (selectedDay ==
                                                                                'Friday')
                                                                                ?
                                                                            Container(
                                                                              child: Column(
                                                                                children: [
                                                                                  Visibility(
                                                                                    visible: showFriRadioTime,
                                                                                    child: Container(
                                                                                      padding: EdgeInsets
                                                                                          .only(
                                                                                          left: 10,
                                                                                          right: 10),
                                                                                      child: Column(
                                                                                        children: [
                                                                                          Row(
                                                                                            mainAxisAlignment: MainAxisAlignment
                                                                                                .spaceEvenly,
                                                                                            children: [
                                                                                              Expanded(
                                                                                                flex: 1,
                                                                                                child: RadioListTile(
                                                                                                  activeColor: ColorConstants
                                                                                                      .themeBlue,
                                                                                                  contentPadding: EdgeInsets
                                                                                                      .symmetric(
                                                                                                      vertical:
                                                                                                      0),
                                                                                                  dense: true,
                                                                                                  title: Text(
                                                                                                      "Enter hours"),
                                                                                                  value: 'hourly',
                                                                                                  groupValue: friWorkingHours,
                                                                                                  onChanged: (
                                                                                                      value) {
                                                                                                    setState(() {
                                                                                                      friWorkingHours =
                                                                                                          value
                                                                                                              .toString();
                                                                                                      showFriTime =
                                                                                                      true;
                                                                                                      saveFriTime =
                                                                                                      false;
                                                                                                    });
                                                                                                  },
                                                                                                ),
                                                                                              ),
                                                                                              Expanded(
                                                                                                flex: 1,
                                                                                                child: RadioListTile(
                                                                                                  activeColor: ColorConstants
                                                                                                      .themeBlue,
                                                                                                  contentPadding: EdgeInsets
                                                                                                      .symmetric(
                                                                                                      vertical:
                                                                                                      0),
                                                                                                  dense: true,
                                                                                                  title: Text(
                                                                                                      "Open full day"),
                                                                                                  value: "Open full day",
                                                                                                  groupValue: friWorkingHours,
                                                                                                  onChanged: (
                                                                                                      value) {
                                                                                                    setState(() {
                                                                                                      friWorkingHours =
                                                                                                          value
                                                                                                              .toString();
                                                                                                      saveFriTime =
                                                                                                      true;
                                                                                                      showFriTime =
                                                                                                      false;
                                                                                                    });
                                                                                                  },
                                                                                                ),
                                                                                              ),
                                                                                            ],),
                                                                                          Row(
                                                                                            mainAxisAlignment: MainAxisAlignment
                                                                                                .spaceEvenly,
                                                                                            children: [

                                                                                              Expanded(
                                                                                                flex: 1,
                                                                                                child: RadioListTile(
                                                                                                  activeColor: ColorConstants
                                                                                                      .themeBlue,
                                                                                                  contentPadding: EdgeInsets
                                                                                                      .symmetric(
                                                                                                      vertical:
                                                                                                      0),
                                                                                                  dense: true,
                                                                                                  title: Text(
                                                                                                      "Closed full day"),
                                                                                                  value: "Closed full day",
                                                                                                  groupValue: friWorkingHours,
                                                                                                  onChanged: (
                                                                                                      value) {
                                                                                                    setState(() {
                                                                                                      friWorkingHours =
                                                                                                          value
                                                                                                              .toString();
                                                                                                      friToTime =
                                                                                                      null;
                                                                                                      friFromTime =
                                                                                                      null;
                                                                                                      saveFriTime =
                                                                                                      true;
                                                                                                      showFriTime =
                                                                                                      false;
                                                                                                    });
                                                                                                  },
                                                                                                ),
                                                                                              ),
                                                                                              Expanded(
                                                                                                flex: 1,
                                                                                                child: RadioListTile(
                                                                                                  activeColor: ColorConstants
                                                                                                      .themeBlue,
                                                                                                  contentPadding: EdgeInsets
                                                                                                      .all(
                                                                                                      0),
                                                                                                  dense: true,
                                                                                                  title: Text(
                                                                                                      "By appointment only"),
                                                                                                  value: "By appointment only",
                                                                                                  groupValue: friWorkingHours,
                                                                                                  onChanged: (
                                                                                                      value) {
                                                                                                    setState(() {
                                                                                                      friWorkingHours =
                                                                                                          value
                                                                                                              .toString();
                                                                                                      saveFriTime =
                                                                                                      true;
                                                                                                      showFriTime =
                                                                                                      false;
                                                                                                    });
                                                                                                  },
                                                                                                ),
                                                                                              ),
                                                                                            ],),
                                                                                        ],
                                                                                      ),
                                                                                    ),
                                                                                  ),
                                                                                  SizedBox(
                                                                                    height: 20
                                                                                        .h,),
                                                                                  Visibility(
                                                                                    visible: showFriTime,
                                                                                    child: Row(
                                                                                      mainAxisAlignment: MainAxisAlignment
                                                                                          .spaceEvenly,
                                                                                      crossAxisAlignment: CrossAxisAlignment
                                                                                          .center,
                                                                                      children: [
                                                                                        InkWell(
                                                                                            onTap: () async {
                                                                                              _showFriFrom(
                                                                                                  context,
                                                                                                  setState);
                                                                                            },
                                                                                            child: Container(
                                                                                              padding: EdgeInsets
                                                                                                  .all(
                                                                                                  10),
                                                                                              decoration: BoxDecoration(
                                                                                                  color: Colors
                                                                                                      .grey
                                                                                                      .shade200,
                                                                                                  borderRadius: BorderRadius
                                                                                                      .circular(
                                                                                                      20)
                                                                                              ),
                                                                                              child: Text(
                                                                                                friFromTime !=
                                                                                                    null
                                                                                                    ? friFromTime!
                                                                                                    : '0:00 AM',
                                                                                                style: const TextStyle(
                                                                                                    fontSize: 30),),
                                                                                            )),
                                                                                        Container(
                                                                                            padding: EdgeInsets
                                                                                                .all(
                                                                                                6),
                                                                                            // margin: EdgeInsets.only(top: 10.h,bottom: 5.h),
                                                                                            child: Image
                                                                                                .asset(
                                                                                              'assets/images/minus.png',
                                                                                              fit: BoxFit
                                                                                                  .fitWidth,
                                                                                              color: Colors
                                                                                                  .black54,
                                                                                              height: 4
                                                                                                  .h,
                                                                                              width: 28
                                                                                                  .w,)
                                                                                        ),
                                                                                        InkWell(
                                                                                            onTap: () async {
                                                                                              _showFriTo(
                                                                                                  context,
                                                                                                  setState);
                                                                                            },
                                                                                            child: Container(
                                                                                              padding: EdgeInsets
                                                                                                  .all(
                                                                                                  10),
                                                                                              decoration: BoxDecoration(
                                                                                                  color: Colors
                                                                                                      .grey
                                                                                                      .shade200,
                                                                                                  borderRadius: BorderRadius
                                                                                                      .circular(
                                                                                                      20)
                                                                                              ),
                                                                                              child: Text(
                                                                                                friToTime !=
                                                                                                    null
                                                                                                    ? friToTime!
                                                                                                    : '0:00 PM',
                                                                                                style: const TextStyle(
                                                                                                    fontSize: 30),),
                                                                                            )),
                                                                                      ],
                                                                                    ),
                                                                                  ),
                                                                                  SizedBox(
                                                                                    height: 20
                                                                                        .h,),
                                                                                  // Visibility(
                                                                                  //   visible: saveFriTime,
                                                                                  //   child: Container(
                                                                                  //     margin: EdgeInsets
                                                                                  //         .only(
                                                                                  //         right: 20
                                                                                  //             .w,
                                                                                  //         left: 20
                                                                                  //             .w),
                                                                                  //     width: double
                                                                                  //         .infinity,
                                                                                  //     // alignment: Alignment.bottomLeft,
                                                                                  //     child: TextButton(
                                                                                  //       onPressed: () async {
                                                                                  //         uploadWorkingHours();
                                                                                  //       },
                                                                                  //       style: TextButton
                                                                                  //           .styleFrom(
                                                                                  //         primary: Colors
                                                                                  //             .white,
                                                                                  //         splashFactory: NoSplash
                                                                                  //             .splashFactory,
                                                                                  //         backgroundColor: ColorConstants
                                                                                  //             .themeBlue, //
                                                                                  //         // padding: const EdgeInsets.only(top: 10, bottom: 10),
                                                                                  //       ),
                                                                                  //       child: Text(
                                                                                  //           "Save",
                                                                                  //           style: TextStyle(
                                                                                  //               fontSize: 20
                                                                                  //                   .sp)),
                                                                                  //     ),
                                                                                  //   ),
                                                                                  // ),
                                                                                ],
                                                                              ),
                                                                            )
                                                                                :
                                                                            (selectedDay ==
                                                                                'Saturday')
                                                                                ?
                                                                            Container(
                                                                              child: Column(
                                                                                children: [
                                                                                  Visibility(
                                                                                    visible: showSatRadioTime,
                                                                                    child: Container(
                                                                                      padding: EdgeInsets
                                                                                          .only(
                                                                                          left: 10,
                                                                                          right: 10),
                                                                                      child: Column(
                                                                                        children: [
                                                                                          Row(
                                                                                            mainAxisAlignment: MainAxisAlignment
                                                                                                .spaceEvenly,
                                                                                            children: [
                                                                                              Expanded(
                                                                                                flex: 1,
                                                                                                child: RadioListTile(
                                                                                                  activeColor: ColorConstants
                                                                                                      .themeBlue,
                                                                                                  contentPadding: EdgeInsets
                                                                                                      .symmetric(
                                                                                                      vertical:
                                                                                                      0),
                                                                                                  dense: true,
                                                                                                  title: Text(
                                                                                                      "Enter hours"),
                                                                                                  value: 'hourly',
                                                                                                  groupValue: satWorkingHours,
                                                                                                  onChanged: (
                                                                                                      value) {
                                                                                                    setState(() {
                                                                                                      satWorkingHours =
                                                                                                          value
                                                                                                              .toString();
                                                                                                      showSatTime =
                                                                                                      true;
                                                                                                      saveSatTime =
                                                                                                      false;
                                                                                                    });
                                                                                                  },
                                                                                                ),
                                                                                              ),
                                                                                              Expanded(
                                                                                                flex: 1,
                                                                                                child: RadioListTile(
                                                                                                  activeColor: ColorConstants
                                                                                                      .themeBlue,
                                                                                                  contentPadding: EdgeInsets
                                                                                                      .symmetric(
                                                                                                      vertical:
                                                                                                      0),
                                                                                                  dense: true,
                                                                                                  title: Text(
                                                                                                      "Open full day"),
                                                                                                  value: "Open full day",
                                                                                                  groupValue: satWorkingHours,
                                                                                                  onChanged: (
                                                                                                      value) {
                                                                                                    setState(() {
                                                                                                      satWorkingHours =
                                                                                                          value
                                                                                                              .toString();
                                                                                                      saveSatTime =
                                                                                                      true;
                                                                                                      showSatTime =
                                                                                                      false;
                                                                                                    });
                                                                                                  },
                                                                                                ),
                                                                                              ),
                                                                                            ],),
                                                                                          Row(
                                                                                            mainAxisAlignment: MainAxisAlignment
                                                                                                .spaceEvenly,
                                                                                            children: [

                                                                                              Expanded(
                                                                                                flex: 1,
                                                                                                child: RadioListTile(
                                                                                                  activeColor: ColorConstants
                                                                                                      .themeBlue,
                                                                                                  contentPadding: EdgeInsets
                                                                                                      .symmetric(
                                                                                                      vertical:
                                                                                                      0),
                                                                                                  dense: true,
                                                                                                  title: Text(
                                                                                                      "Closed full day"),
                                                                                                  value: "Closed full day",
                                                                                                  groupValue: satWorkingHours,
                                                                                                  onChanged: (
                                                                                                      value) {
                                                                                                    setState(() {
                                                                                                      satWorkingHours =
                                                                                                          value
                                                                                                              .toString();
                                                                                                      satToTime =
                                                                                                      null;
                                                                                                      satFromTime =
                                                                                                      null;
                                                                                                      saveSatTime =
                                                                                                      true;
                                                                                                      showSatTime =
                                                                                                      false;
                                                                                                    });
                                                                                                  },
                                                                                                ),
                                                                                              ),
                                                                                              Expanded(
                                                                                                flex: 1,
                                                                                                child: RadioListTile(
                                                                                                  activeColor: ColorConstants
                                                                                                      .themeBlue,
                                                                                                  contentPadding: EdgeInsets
                                                                                                      .all(
                                                                                                      0),
                                                                                                  dense: true,
                                                                                                  title: Text(
                                                                                                      "By appointment only"),
                                                                                                  value: "By appointment only",
                                                                                                  groupValue: satWorkingHours,
                                                                                                  onChanged: (
                                                                                                      value) {
                                                                                                    setState(() {
                                                                                                      satWorkingHours =
                                                                                                          value
                                                                                                              .toString();
                                                                                                      saveSatTime =
                                                                                                      true;
                                                                                                      showSatTime =
                                                                                                      false;
                                                                                                    });
                                                                                                  },
                                                                                                ),
                                                                                              ),
                                                                                            ],),
                                                                                        ],
                                                                                      ),
                                                                                    ),
                                                                                  ),
                                                                                  SizedBox(
                                                                                    height: 20
                                                                                        .h,),
                                                                                  Visibility(
                                                                                    visible: showSatTime,
                                                                                    child: Row(
                                                                                      mainAxisAlignment: MainAxisAlignment
                                                                                          .spaceEvenly,
                                                                                      crossAxisAlignment: CrossAxisAlignment
                                                                                          .center,
                                                                                      children: [
                                                                                        InkWell(
                                                                                            onTap: () async {
                                                                                              _showSatFrom(
                                                                                                  context,
                                                                                                  setState);
                                                                                            },
                                                                                            child: Container(
                                                                                              padding: EdgeInsets
                                                                                                  .all(
                                                                                                  10),
                                                                                              decoration: BoxDecoration(
                                                                                                  color: Colors
                                                                                                      .grey
                                                                                                      .shade200,
                                                                                                  borderRadius: BorderRadius
                                                                                                      .circular(
                                                                                                      20)
                                                                                              ),
                                                                                              child: Text(
                                                                                                satFromTime !=
                                                                                                    null
                                                                                                    ? satFromTime!
                                                                                                    : '0:00 AM',
                                                                                                style: const TextStyle(
                                                                                                    fontSize: 30),),
                                                                                            )),
                                                                                        Container(
                                                                                            padding: EdgeInsets
                                                                                                .all(
                                                                                                6),
                                                                                            // margin: EdgeInsets.only(top: 10.h,bottom: 5.h),
                                                                                            child: Image
                                                                                                .asset(
                                                                                              'assets/images/minus.png',
                                                                                              fit: BoxFit
                                                                                                  .fitWidth,
                                                                                              color: Colors
                                                                                                  .black54,
                                                                                              height: 4
                                                                                                  .h,
                                                                                              width: 28
                                                                                                  .w,)
                                                                                        ),
                                                                                        InkWell(
                                                                                            onTap: () async {
                                                                                              _showSatTo(
                                                                                                  context,
                                                                                                  setState);
                                                                                            },
                                                                                            child: Container(
                                                                                              padding: EdgeInsets
                                                                                                  .all(
                                                                                                  10),
                                                                                              decoration: BoxDecoration(
                                                                                                  color: Colors
                                                                                                      .grey
                                                                                                      .shade200,
                                                                                                  borderRadius: BorderRadius
                                                                                                      .circular(
                                                                                                      20)
                                                                                              ),
                                                                                              child: Text(
                                                                                                satToTime !=
                                                                                                    null
                                                                                                    ? satToTime!
                                                                                                    : '0:00 PM',
                                                                                                style: const TextStyle(
                                                                                                    fontSize: 30),),
                                                                                            )),
                                                                                      ],
                                                                                    ),
                                                                                  ),
                                                                                  SizedBox(
                                                                                    height: 20
                                                                                        .h,),
                                                                                  // Visibility(
                                                                                  //   visible: saveSatTime,
                                                                                  //   child: Container(
                                                                                  //     margin: EdgeInsets
                                                                                  //         .only(
                                                                                  //         right: 20
                                                                                  //             .w,
                                                                                  //         left: 20
                                                                                  //             .w),
                                                                                  //     width: double
                                                                                  //         .infinity,
                                                                                  //     // alignment: Alignment.bottomLeft,
                                                                                  //     child: TextButton(
                                                                                  //       onPressed: () async {
                                                                                  //         uploadWorkingHours();
                                                                                  //       },
                                                                                  //       style: TextButton
                                                                                  //           .styleFrom(
                                                                                  //         primary: Colors
                                                                                  //             .white,
                                                                                  //         splashFactory: NoSplash
                                                                                  //             .splashFactory,
                                                                                  //         backgroundColor: ColorConstants
                                                                                  //             .themeBlue, //
                                                                                  //         // padding: const EdgeInsets.only(top: 10, bottom: 10),
                                                                                  //       ),
                                                                                  //       child: Text(
                                                                                  //           "Save",
                                                                                  //           style: TextStyle(
                                                                                  //               fontSize: 20
                                                                                  //                   .sp)),
                                                                                  //     ),
                                                                                  //   ),
                                                                                  // ),
                                                                                ],
                                                                              ),
                                                                            )
                                                                                :
                                                                            (selectedDay ==
                                                                                'Sunday')
                                                                                ?
                                                                            Container(
                                                                              child: Column(
                                                                                children: [
                                                                                  Visibility(
                                                                                    visible: showRadioTime,
                                                                                    child: Container(
                                                                                      padding: EdgeInsets
                                                                                          .only(
                                                                                          left: 10,
                                                                                          right: 10),
                                                                                      child: Column(
                                                                                        children: [
                                                                                          Row(
                                                                                            mainAxisAlignment: MainAxisAlignment
                                                                                                .spaceEvenly,
                                                                                            children: [
                                                                                              Expanded(
                                                                                                flex: 1,
                                                                                                child: RadioListTile(
                                                                                                  activeColor: ColorConstants
                                                                                                      .themeBlue,
                                                                                                  contentPadding: EdgeInsets
                                                                                                      .symmetric(
                                                                                                      vertical:
                                                                                                      0),
                                                                                                  dense: true,
                                                                                                  title: Text(
                                                                                                      "Enter hours"),
                                                                                                  value: 'hourly',
                                                                                                  groupValue: workingHours,
                                                                                                  onChanged: (
                                                                                                      value) {
                                                                                                    setState(() {
                                                                                                      workingHours =
                                                                                                          value
                                                                                                              .toString();
                                                                                                      showTime =
                                                                                                      true;
                                                                                                      saveTime =
                                                                                                      false;
                                                                                                    });
                                                                                                  },
                                                                                                ),
                                                                                              ),
                                                                                              Expanded(
                                                                                                flex: 1,
                                                                                                child: RadioListTile(
                                                                                                  activeColor: ColorConstants
                                                                                                      .themeBlue,
                                                                                                  contentPadding: EdgeInsets
                                                                                                      .symmetric(
                                                                                                      vertical:
                                                                                                      0),
                                                                                                  dense: true,
                                                                                                  title: Text(
                                                                                                      "Open full day"),
                                                                                                  value: "Open full day",
                                                                                                  groupValue: workingHours,
                                                                                                  onChanged: (
                                                                                                      value) {
                                                                                                    setState(() {
                                                                                                      workingHours =
                                                                                                          value
                                                                                                              .toString();
                                                                                                      saveTime =
                                                                                                      true;
                                                                                                      showTime =
                                                                                                      false;
                                                                                                    });
                                                                                                  },
                                                                                                ),
                                                                                              ),
                                                                                            ],),
                                                                                          Row(
                                                                                            mainAxisAlignment: MainAxisAlignment
                                                                                                .spaceEvenly,
                                                                                            children: [

                                                                                              Expanded(
                                                                                                flex: 1,
                                                                                                child: RadioListTile(
                                                                                                  activeColor: ColorConstants
                                                                                                      .themeBlue,
                                                                                                  contentPadding: EdgeInsets
                                                                                                      .symmetric(
                                                                                                      vertical:
                                                                                                      0),
                                                                                                  dense: true,
                                                                                                  title: Text(
                                                                                                      "Closed full day"),
                                                                                                  value: "Closed full day",
                                                                                                  groupValue: workingHours,
                                                                                                  onChanged: (
                                                                                                      value) {
                                                                                                    setState(() {
                                                                                                      workingHours =
                                                                                                          value
                                                                                                              .toString();
                                                                                                      _selectedToTime =
                                                                                                      null;
                                                                                                      _selectedFromTime =
                                                                                                      null;
                                                                                                      saveTime =
                                                                                                      true;
                                                                                                      showTime =
                                                                                                      false;
                                                                                                    });
                                                                                                  },
                                                                                                ),
                                                                                              ),
                                                                                              Expanded(
                                                                                                flex: 1,
                                                                                                child: RadioListTile(
                                                                                                  activeColor: ColorConstants
                                                                                                      .themeBlue,
                                                                                                  contentPadding: EdgeInsets
                                                                                                      .all(
                                                                                                      0),
                                                                                                  dense: true,
                                                                                                  title: Text(
                                                                                                      "By appointment only"),
                                                                                                  value: "By appointment only",
                                                                                                  groupValue: workingHours,
                                                                                                  onChanged: (
                                                                                                      value) {
                                                                                                    setState(() {
                                                                                                      workingHours =
                                                                                                          value
                                                                                                              .toString();
                                                                                                      saveTime =
                                                                                                      true;
                                                                                                      showTime =
                                                                                                      false;
                                                                                                    });
                                                                                                  },
                                                                                                ),
                                                                                              ),
                                                                                            ],),
                                                                                        ],
                                                                                      ),
                                                                                    ),
                                                                                  ),
                                                                                  SizedBox(
                                                                                    height: 20
                                                                                        .h,),
                                                                                  Visibility(
                                                                                    visible: showTime,
                                                                                    child: Row(
                                                                                      mainAxisAlignment: MainAxisAlignment
                                                                                          .spaceEvenly,
                                                                                      crossAxisAlignment: CrossAxisAlignment
                                                                                          .center,
                                                                                      children: [
                                                                                        InkWell(
                                                                                            onTap: () async {
                                                                                              _showFrom(
                                                                                                  context,
                                                                                                  setState);
                                                                                            },
                                                                                            child: Container(
                                                                                              padding: EdgeInsets
                                                                                                  .all(
                                                                                                  10),
                                                                                              decoration: BoxDecoration(
                                                                                                  color: Colors
                                                                                                      .grey
                                                                                                      .shade200,
                                                                                                  borderRadius: BorderRadius
                                                                                                      .circular(
                                                                                                      20)
                                                                                              ),
                                                                                              child: Text(
                                                                                                _selectedFromTime !=
                                                                                                    null
                                                                                                    ? _selectedFromTime!
                                                                                                    : '0:00 AM',
                                                                                                style: const TextStyle(
                                                                                                    fontSize: 30),),
                                                                                            )),
                                                                                        Container(
                                                                                            padding: EdgeInsets
                                                                                                .all(
                                                                                                6),
                                                                                            // margin: EdgeInsets.only(top: 10.h,bottom: 5.h),
                                                                                            child: Image
                                                                                                .asset(
                                                                                              'assets/images/minus.png',
                                                                                              fit: BoxFit
                                                                                                  .fitWidth,
                                                                                              color: Colors
                                                                                                  .black54,
                                                                                              height: 4
                                                                                                  .h,
                                                                                              width: 28
                                                                                                  .w,)
                                                                                        ),
                                                                                        InkWell(
                                                                                            onTap: () async {
                                                                                              _showTo(
                                                                                                  context,
                                                                                                  setState);
                                                                                            },
                                                                                            child: Container(
                                                                                              padding: EdgeInsets
                                                                                                  .all(
                                                                                                  10),
                                                                                              decoration: BoxDecoration(
                                                                                                  color: Colors
                                                                                                      .grey
                                                                                                      .shade200,
                                                                                                  borderRadius: BorderRadius
                                                                                                      .circular(
                                                                                                      20)
                                                                                              ),
                                                                                              child: Text(
                                                                                                _selectedToTime !=
                                                                                                    null
                                                                                                    ? _selectedToTime!
                                                                                                    : '0:00 PM',
                                                                                                style: const TextStyle(
                                                                                                    fontSize: 30),),
                                                                                            )),
                                                                                      ],
                                                                                    ),
                                                                                  ),
                                                                                  SizedBox(
                                                                                    height: 20
                                                                                        .h,),
                                                                                  // Visibility(
                                                                                  //   visible: saveTime,
                                                                                  //   child: Container(
                                                                                  //     margin: EdgeInsets
                                                                                  //         .only(
                                                                                  //         right: 20
                                                                                  //             .w,
                                                                                  //         left: 20
                                                                                  //             .w),
                                                                                  //     width: double
                                                                                  //         .infinity,
                                                                                  //     // alignment: Alignment.bottomLeft,
                                                                                  //     child: TextButton(
                                                                                  //       onPressed: () async {
                                                                                  //         uploadWorkingHours();
                                                                                  //       },
                                                                                  //       style: TextButton
                                                                                  //           .styleFrom(
                                                                                  //         primary: Colors
                                                                                  //             .white,
                                                                                  //         splashFactory: NoSplash
                                                                                  //             .splashFactory,
                                                                                  //         backgroundColor: ColorConstants
                                                                                  //             .themeBlue, //
                                                                                  //         // padding: const EdgeInsets.only(top: 10, bottom: 10),
                                                                                  //       ),
                                                                                  //       child: Text(
                                                                                  //           "Save",
                                                                                  //           style: TextStyle(
                                                                                  //               fontSize: 20
                                                                                  //                   .sp)),
                                                                                  //     ),
                                                                                  //   ),
                                                                                  // ),
                                                                                ],
                                                                              ),
                                                                            )
                                                                                :
                                                                            Container(),
                                                                            Visibility(
                                                                              visible: true,
                                                                              child: Container(
                                                                                margin: EdgeInsets
                                                                                    .only(
                                                                                    right: 20
                                                                                        .w,
                                                                                    left: 20
                                                                                        .w),
                                                                                width: double
                                                                                    .infinity,
                                                                                // alignment: Alignment.bottomLeft,
                                                                                child: TextButton(
                                                                                  onPressed: () async {
                                                                                    if (selectedDay ==
                                                                                        'Monday') {
                                                                                      if (monWorkingHours ==
                                                                                          'hourly') {
                                                                                        if (monFromTime ==
                                                                                            null ||
                                                                                            monToTime ==
                                                                                                null) {
                                                                                          setState(() {
                                                                                            showAddTiming =
                                                                                            true; // <-- Code run after delay
                                                                                          });
                                                                                          Timer(
                                                                                              Duration(
                                                                                                  seconds: 1), () { // <-- Delay here
                                                                                            setState(() {
                                                                                              showAddTiming =
                                                                                              false; // <-- Code run after delay
                                                                                            });
                                                                                          });
                                                                                        }
                                                                                        else {
                                                                                          setState(() {
                                                                                            showWorkingHourProgress =
                                                                                            true;
                                                                                          });
                                                                                          uploadWorkingHours(
                                                                                              user
                                                                                                  .openingHours[0]['enhours']
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[0]['open'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[0]['close'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[1]['enhours']
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[1]['open'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[1]['close'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[2]['enhours']
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[2]['open'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[2]['close'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[3]['enhours']
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[3]['open'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[3]['close'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[4]['enhours']
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[4]['open'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[4]['close'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[5]['enhours']
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[5]['open'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[5]['close'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[6]['enhours']
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[6]['open'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[6]['close'][0]
                                                                                                  .toString()
                                                                                          );
                                                                                        }
                                                                                      }
                                                                                      else {
                                                                                        setState(() {
                                                                                          showWorkingHourProgress =
                                                                                          true;
                                                                                        });
                                                                                        uploadWorkingHours(
                                                                                            user
                                                                                                .openingHours[0]['enhours']
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[0]['open'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[0]['close'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[1]['enhours']
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[1]['open'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[1]['close'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[2]['enhours']
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[2]['open'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[2]['close'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[3]['enhours']
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[3]['open'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[3]['close'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[4]['enhours']
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[4]['open'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[4]['close'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[5]['enhours']
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[5]['open'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[5]['close'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[6]['enhours']
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[6]['open'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[6]['close'][0]
                                                                                                .toString()
                                                                                        );
                                                                                      }
                                                                                    }
                                                                                    if (selectedDay ==
                                                                                        'Tuesday') {
                                                                                      if (tueWorkingHours ==
                                                                                          'hourly') {
                                                                                        if (tueFromTime ==
                                                                                            null ||
                                                                                            tueToTime ==
                                                                                                null) {
                                                                                          setState(() {
                                                                                            showAddTiming =
                                                                                            true; // <-- Code run after delay
                                                                                          });
                                                                                          Timer(
                                                                                              Duration(
                                                                                                  seconds: 1), () { // <-- Delay here
                                                                                            setState(() {
                                                                                              showAddTiming =
                                                                                              false; // <-- Code run after delay
                                                                                            });
                                                                                          });
                                                                                        }
                                                                                        else {
                                                                                          setState(() {
                                                                                            showWorkingHourProgress =
                                                                                            true;
                                                                                          });
                                                                                          uploadWorkingHours(
                                                                                              user
                                                                                                  .openingHours[0]['enhours']
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[0]['open'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[0]['close'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[1]['enhours']
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[1]['open'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[1]['close'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[2]['enhours']
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[2]['open'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[2]['close'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[3]['enhours']
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[3]['open'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[3]['close'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[4]['enhours']
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[4]['open'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[4]['close'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[5]['enhours']
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[5]['open'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[5]['close'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[6]['enhours']
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[6]['open'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[6]['close'][0]
                                                                                                  .toString()
                                                                                          );
                                                                                        }
                                                                                      }
                                                                                      else {
                                                                                        setState(() {
                                                                                          showWorkingHourProgress =
                                                                                          true;
                                                                                        });
                                                                                        uploadWorkingHours(
                                                                                            user
                                                                                                .openingHours[0]['enhours']
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[0]['open'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[0]['close'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[1]['enhours']
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[1]['open'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[1]['close'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[2]['enhours']
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[2]['open'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[2]['close'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[3]['enhours']
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[3]['open'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[3]['close'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[4]['enhours']
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[4]['open'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[4]['close'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[5]['enhours']
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[5]['open'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[5]['close'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[6]['enhours']
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[6]['open'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[6]['close'][0]
                                                                                                .toString()
                                                                                        );
                                                                                      }
                                                                                    }
                                                                                    if (selectedDay ==
                                                                                        'Wednesday') {
                                                                                      if (wedWorkingHours ==
                                                                                          'hourly') {
                                                                                        if (wedFromTime ==
                                                                                            null ||
                                                                                            wedToTime ==
                                                                                                null) {
                                                                                          setState(() {
                                                                                            showAddTiming =
                                                                                            true; // <-- Code run after delay
                                                                                          });
                                                                                          Timer(
                                                                                              Duration(
                                                                                                  seconds: 1), () { // <-- Delay here
                                                                                            setState(() {
                                                                                              showAddTiming =
                                                                                              false; // <-- Code run after delay
                                                                                            });
                                                                                          });
                                                                                        }
                                                                                        else {
                                                                                          setState(() {
                                                                                            showWorkingHourProgress =
                                                                                            true;
                                                                                          });
                                                                                          uploadWorkingHours(
                                                                                              user
                                                                                                  .openingHours[0]['enhours']
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[0]['open'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[0]['close'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[1]['enhours']
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[1]['open'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[1]['close'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[2]['enhours']
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[2]['open'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[2]['close'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[3]['enhours']
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[3]['open'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[3]['close'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[4]['enhours']
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[4]['open'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[4]['close'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[5]['enhours']
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[5]['open'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[5]['close'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[6]['enhours']
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[6]['open'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[6]['close'][0]
                                                                                                  .toString()
                                                                                          );
                                                                                        }
                                                                                      }
                                                                                      else {
                                                                                        setState(() {
                                                                                          showWorkingHourProgress =
                                                                                          true;
                                                                                        });
                                                                                        uploadWorkingHours(
                                                                                            user
                                                                                                .openingHours[0]['enhours']
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[0]['open'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[0]['close'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[1]['enhours']
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[1]['open'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[1]['close'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[2]['enhours']
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[2]['open'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[2]['close'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[3]['enhours']
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[3]['open'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[3]['close'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[4]['enhours']
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[4]['open'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[4]['close'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[5]['enhours']
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[5]['open'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[5]['close'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[6]['enhours']
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[6]['open'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[6]['close'][0]
                                                                                                .toString()
                                                                                        );
                                                                                      }
                                                                                    }
                                                                                    if (selectedDay ==
                                                                                        'Thursday') {
                                                                                      if (thrWorkingHours ==
                                                                                          'hourly') {
                                                                                        if (thrFromTime ==
                                                                                            null ||
                                                                                            thrToTime ==
                                                                                                null) {
                                                                                          setState(() {
                                                                                            showAddTiming =
                                                                                            true; // <-- Code run after delay
                                                                                          });
                                                                                          Timer(
                                                                                              Duration(
                                                                                                  seconds: 1), () { // <-- Delay here
                                                                                            setState(() {
                                                                                              showAddTiming =
                                                                                              false; // <-- Code run after delay
                                                                                            });
                                                                                          });
                                                                                        }
                                                                                        else {
                                                                                          setState(() {
                                                                                            showWorkingHourProgress =
                                                                                            true;
                                                                                          });
                                                                                          uploadWorkingHours(
                                                                                              user
                                                                                                  .openingHours[0]['enhours']
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[0]['open'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[0]['close'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[1]['enhours']
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[1]['open'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[1]['close'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[2]['enhours']
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[2]['open'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[2]['close'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[3]['enhours']
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[3]['open'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[3]['close'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[4]['enhours']
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[4]['open'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[4]['close'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[5]['enhours']
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[5]['open'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[5]['close'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[6]['enhours']
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[6]['open'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[6]['close'][0]
                                                                                                  .toString()
                                                                                          );
                                                                                        }
                                                                                      }
                                                                                      else {
                                                                                        setState(() {
                                                                                          showWorkingHourProgress =
                                                                                          true;
                                                                                        });
                                                                                        uploadWorkingHours(
                                                                                            user
                                                                                                .openingHours[0]['enhours']
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[0]['open'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[0]['close'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[1]['enhours']
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[1]['open'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[1]['close'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[2]['enhours']
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[2]['open'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[2]['close'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[3]['enhours']
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[3]['open'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[3]['close'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[4]['enhours']
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[4]['open'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[4]['close'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[5]['enhours']
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[5]['open'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[5]['close'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[6]['enhours']
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[6]['open'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[6]['close'][0]
                                                                                                .toString()
                                                                                        );
                                                                                      }
                                                                                    }
                                                                                    if (selectedDay ==
                                                                                        'Friday') {
                                                                                      if (friWorkingHours ==
                                                                                          'hourly') {
                                                                                        if (friFromTime ==
                                                                                            null ||
                                                                                            friToTime ==
                                                                                                null) {
                                                                                          setState(() {
                                                                                            showAddTiming =
                                                                                            true; // <-- Code run after delay
                                                                                          });
                                                                                          Timer(
                                                                                              Duration(
                                                                                                  seconds: 1), () { // <-- Delay here
                                                                                            setState(() {
                                                                                              showAddTiming =
                                                                                              false; // <-- Code run after delay
                                                                                            });
                                                                                          });
                                                                                        }
                                                                                        else {
                                                                                          setState(() {
                                                                                            showWorkingHourProgress =
                                                                                            true;
                                                                                          });
                                                                                          uploadWorkingHours(
                                                                                              user
                                                                                                  .openingHours[0]['enhours']
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[0]['open'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[0]['close'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[1]['enhours']
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[1]['open'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[1]['close'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[2]['enhours']
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[2]['open'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[2]['close'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[3]['enhours']
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[3]['open'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[3]['close'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[4]['enhours']
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[4]['open'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[4]['close'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[5]['enhours']
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[5]['open'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[5]['close'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[6]['enhours']
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[6]['open'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[6]['close'][0]
                                                                                                  .toString()
                                                                                          );
                                                                                        }
                                                                                      }
                                                                                      else {
                                                                                        setState(() {
                                                                                          showWorkingHourProgress =
                                                                                          true;
                                                                                        });
                                                                                        uploadWorkingHours(
                                                                                            user
                                                                                                .openingHours[0]['enhours']
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[0]['open'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[0]['close'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[1]['enhours']
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[1]['open'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[1]['close'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[2]['enhours']
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[2]['open'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[2]['close'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[3]['enhours']
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[3]['open'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[3]['close'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[4]['enhours']
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[4]['open'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[4]['close'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[5]['enhours']
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[5]['open'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[5]['close'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[6]['enhours']
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[6]['open'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[6]['close'][0]
                                                                                                .toString()
                                                                                        );
                                                                                      }
                                                                                    }
                                                                                    if (selectedDay ==
                                                                                        'Saturday') {
                                                                                      if (satWorkingHours ==
                                                                                          'hourly') {
                                                                                        if (satFromTime ==
                                                                                            null ||
                                                                                            satToTime ==
                                                                                                null) {
                                                                                          setState(() {
                                                                                            showAddTiming =
                                                                                            true; // <-- Code run after delay
                                                                                          });
                                                                                          Timer(
                                                                                              Duration(
                                                                                                  seconds: 1), () { // <-- Delay here
                                                                                            setState(() {
                                                                                              showAddTiming =
                                                                                              false; // <-- Code run after delay
                                                                                            });
                                                                                          });
                                                                                        }
                                                                                        else {
                                                                                          setState(() {
                                                                                            showWorkingHourProgress =
                                                                                            true;
                                                                                          });
                                                                                          uploadWorkingHours(
                                                                                              user
                                                                                                  .openingHours[0]['enhours']
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[0]['open'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[0]['close'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[1]['enhours']
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[1]['open'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[1]['close'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[2]['enhours']
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[2]['open'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[2]['close'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[3]['enhours']
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[3]['open'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[3]['close'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[4]['enhours']
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[4]['open'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[4]['close'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[5]['enhours']
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[5]['open'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[5]['close'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[6]['enhours']
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[6]['open'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[6]['close'][0]
                                                                                                  .toString()
                                                                                          );
                                                                                        }
                                                                                      }
                                                                                      else {
                                                                                        setState(() {
                                                                                          showWorkingHourProgress =
                                                                                          true;
                                                                                        });
                                                                                        uploadWorkingHours(
                                                                                            user
                                                                                                .openingHours[0]['enhours']
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[0]['open'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[0]['close'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[1]['enhours']
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[1]['open'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[1]['close'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[2]['enhours']
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[2]['open'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[2]['close'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[3]['enhours']
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[3]['open'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[3]['close'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[4]['enhours']
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[4]['open'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[4]['close'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[5]['enhours']
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[5]['open'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[5]['close'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[6]['enhours']
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[6]['open'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[6]['close'][0]
                                                                                                .toString()
                                                                                        );
                                                                                      }
                                                                                    }
                                                                                    if (selectedDay ==
                                                                                        'Sunday') {
                                                                                      if (workingHours ==
                                                                                          'hourly') {
                                                                                        if (_selectedFromTime ==
                                                                                            null ||
                                                                                            _selectedToTime ==
                                                                                                null) {
                                                                                          setState(() {
                                                                                            showAddTiming =
                                                                                            true; // <-- Code run after delay
                                                                                          });
                                                                                          Timer(
                                                                                              Duration(
                                                                                                  seconds: 1), () { // <-- Delay here
                                                                                            setState(() {
                                                                                              showAddTiming =
                                                                                              false; // <-- Code run after delay
                                                                                            });
                                                                                          });
                                                                                        }
                                                                                        else {
                                                                                          setState(() {
                                                                                            showWorkingHourProgress =
                                                                                            true;
                                                                                          });
                                                                                          uploadWorkingHours(
                                                                                              user
                                                                                                  .openingHours[0]['enhours']
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[0]['open'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[0]['close'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[1]['enhours']
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[1]['open'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[1]['close'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[2]['enhours']
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[2]['open'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[2]['close'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[3]['enhours']
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[3]['open'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[3]['close'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[4]['enhours']
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[4]['open'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[4]['close'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[5]['enhours']
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[5]['open'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[5]['close'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[6]['enhours']
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[6]['open'][0]
                                                                                                  .toString(),
                                                                                              user
                                                                                                  .openingHours[6]['close'][0]
                                                                                                  .toString()
                                                                                          );
                                                                                        }
                                                                                      }
                                                                                      else {
                                                                                        setState(() {
                                                                                          showWorkingHourProgress =
                                                                                          true;
                                                                                        });
                                                                                        uploadWorkingHours(
                                                                                            user
                                                                                                .openingHours[0]['enhours']
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[0]['open'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[0]['close'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[1]['enhours']
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[1]['open'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[1]['close'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[2]['enhours']
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[2]['open'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[2]['close'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[3]['enhours']
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[3]['open'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[3]['close'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[4]['enhours']
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[4]['open'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[4]['close'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[5]['enhours']
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[5]['open'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[5]['close'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[6]['enhours']
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[6]['open'][0]
                                                                                                .toString(),
                                                                                            user
                                                                                                .openingHours[6]['close'][0]
                                                                                                .toString()
                                                                                        );
                                                                                      }
                                                                                    }
                                                                                  },
                                                                                  style: TextButton
                                                                                      .styleFrom(
                                                                                    foregroundColor: Colors
                                                                                        .white,
                                                                                    splashFactory: NoSplash
                                                                                        .splashFactory,
                                                                                    backgroundColor: ColorConstants
                                                                                        .themeBlue, //
                                                                                    // padding: const EdgeInsets.only(top: 10, bottom: 10),
                                                                                  ),
                                                                                  child: Text(
                                                                                      "Save",
                                                                                      style: TextStyle(
                                                                                          fontSize: 20
                                                                                              .sp)),
                                                                                ),
                                                                              ),
                                                                            ),

                                                                          ],
                                                                        ),
                                                                        Visibility(
                                                                          visible: showWorkingHourProgress,
                                                                          child: Container(
                                                                            decoration: BoxDecoration(
                                                                              color: Colors
                                                                                  .white
                                                                                  .withOpacity(
                                                                                  0.5),
                                                                              borderRadius: BorderRadius
                                                                                  .only(
                                                                                topRight: Radius
                                                                                    .circular(
                                                                                    20.0),
                                                                                topLeft: Radius
                                                                                    .circular(
                                                                                    20.0),
                                                                              ),
                                                                            ),

                                                                            child: Center(
                                                                                child: CircularProgressIndicator()),
                                                                          ),
                                                                        ),
                                                                        Visibility(
                                                                          visible: showAddTiming,
                                                                          child: Container(
                                                                            decoration: BoxDecoration(
                                                                              color: Colors
                                                                                  .white
                                                                                  .withOpacity(
                                                                                  0.5),
                                                                              borderRadius: BorderRadius
                                                                                  .only(
                                                                                topRight: Radius
                                                                                    .circular(
                                                                                    20.0),
                                                                                topLeft: Radius
                                                                                    .circular(
                                                                                    20.0),
                                                                              ),
                                                                            ),
                                                                            child: Center(
                                                                                child: Container(
                                                                                    padding: EdgeInsets
                                                                                        .only(
                                                                                        right: 10
                                                                                            .w,
                                                                                        left: 10
                                                                                            .w,
                                                                                        top: 5
                                                                                            .h,
                                                                                        bottom: 5
                                                                                            .h),
                                                                                    decoration: BoxDecoration(
                                                                                      borderRadius: BorderRadius
                                                                                          .circular(
                                                                                          50),
                                                                                      color: ColorConstants
                                                                                          .themeBlue
                                                                                          .withOpacity(
                                                                                          0.8),
                                                                                    ),
                                                                                    child: Text(
                                                                                      'Add Timings',
                                                                                      style: TextStyle(
                                                                                          fontSize: 20
                                                                                              .sp,
                                                                                          color: Colors
                                                                                              .white),))),
                                                                          ),
                                                                        )
                                                                      ],
                                                                    );
                                                                  }
                                                              );
                                                            });
                                                      },
                                                      style: TextButton
                                                          .styleFrom(
                                                        foregroundColor: Colors
                                                            .white,
                                                        splashFactory: NoSplash
                                                            .splashFactory,
                                                        backgroundColor: ColorConstants
                                                            .themeBlue, //
                                                        // padding: const EdgeInsets.only(top: 10, bottom: 10),
                                                      ),
                                                      child: Text(
                                                          "+ Add Working hours",
                                                          style: TextStyle(
                                                              fontSize: 20.sp)),
                                                    ),
                                                  ),
                                                ],
                                              ),
                                            ),
                                          ),

                                        ]),
                                  ),
                              )
                                  .toList(),

                            )
                        ),

                      );
                    }
                ),
              ),
            ),
            Visibility(
              visible: showLoading,
              child: Container(
                width: MediaQuery
                    .of(context)
                    .size
                    .width,
                color: Colors.white.withOpacity(0.5),
                height: MediaQuery
                    .of(context)
                    .size
                    .height,
                child: const Center(
                    child: CircularProgressIndicator(
                    color: ColorConstants.themeBlue)),
              ),

            ),
          ],
        ),
      ),
    );
  }
}


//   @override
//   Future<void> serviceDialog(BuildContext context) {
//     print('dsfdsf');
//     return showDialog<void>(
//         context: context,
//         builder: (BuildContext bc) {
//           return
//             AlertDialog(
//               contentPadding: EdgeInsets.all(10),
//               title: Text(
//                 'Add Services',
//                 textAlign: TextAlign
//                     .center,
//                 style: TextStyle(
//                     color: ColorConstants
//                         .themeBlue),
//               ),
//               titleTextStyle: TextStyle(
//                 fontSize: 16.0,
//                 color: Colors.blue,
//                 fontWeight: FontWeight
//                     .w700,
//               ),
//               shape: RoundedRectangleBorder(
//                 borderRadius: BorderRadius
//                     .circular(8.0),
//               ),
//               content: StatefulBuilder(
//                   builder: (BuildContext context,
//                       StateSetter setState) {
//                     return
//                       Form(
//                         key: serviceFormKey,
//                         child: Column(
//                           mainAxisSize: MainAxisSize
//                               .min,
//                           crossAxisAlignment: CrossAxisAlignment
//                               .center,
//                           children: <
//                               Widget>[
//
//                             Container(
//                               padding: const EdgeInsets.only(
//                                   top: 5.0, bottom: 5.0, left: 0, right: 10),
//                               decoration: BoxDecoration(
//                                   color: Colors.grey.shade200,
//                                   borderRadius: BorderRadius.circular(10)
//                               ),
//                               child: DropdownButton2(
//                                 dropdownStyleData: DropdownStyleData(
//                                     useSafeArea: false,
//                                     offset: Offset(5, -10),
//                                     maxHeight: 300.h,
//                                     scrollbarTheme: ScrollbarThemeData(
//                                         thumbVisibility: MaterialStateProperty
//                                             .all(true)),
//                                     decoration: BoxDecoration(
//                                         borderRadius: BorderRadius.circular(10))
//                                 ),
//                                 underline: Container(),
//                                 isExpanded: true,
//                                 // value: awardType,
//                                 style: TextStyle(color: Colors.black54,
//                                     fontSize: 15),
//                                 hint: Text(
//                                   "Subcategories",
//                                   style: TextStyle(
//                                     color: Colors.grey.shade600,
//                                     fontSize: 15,
//                                   ),
//                                 ),
//                                 items: subCat.map((item) {
//                                   return DropdownMenuItem(
//                                     value: item['category_id'].toString(),
//                                     child: Text(item['name'].toString()),
//                                   );
//                                 }).toList(),
//
//                                 onChanged: (newVal) {
//                                   setState(() {
//                                     subcategoryDropdownvalue = newVal;
//                                   });
//                                 },
//                                 value: subcategoryDropdownvalue,
//                               ),
//                             ),
//                             SizedBox(height: 10.h,),
//                             TextFormField(
//                               controller: serviceController,
//                               autovalidateMode: AutovalidateMode.onUserInteraction,
//                               keyboardType: TextInputType.text,
//                               validator: (value) {
//                                 if (value!.isEmpty) {
//                                   return "Enter Service";
//                                 }
//                                 // else if (value.length <= 10) {
//                                 //   return "Describe yourself in greater than 10 words";
//                                 // }
//                                 else
//                                   return null;
//                               },
//                               decoration: InputDecoration(
//                                 filled: true,
//                                 //<-- SEE HERE
//                                 fillColor: Colors.grey.shade200,
//                                 border: OutlineInputBorder(
//                                     borderSide: BorderSide
//                                         .none,
//                                     borderRadius: BorderRadius
//                                         .circular(10)
//                                 ),
//                                 labelText: 'Service',
//                               ),
//                               textInputAction: TextInputAction.next,
//                               onEditingComplete: () {
//                                 // FocusScope.of(context).requestFocus(_nodePassword);
//                               },
//                             ),
//                             SizedBox(height: 10.h,),
//                             TextFormField(
//                               controller: serviceChargesController,
//                               autovalidateMode: AutovalidateMode.onUserInteraction,
//                               keyboardType: TextInputType.text,
//                               validator: (value) {
//                                 if (value!.isEmpty) {
//                                   return "Enter Charges";
//                                 }
//                                 // else if (value.length <= 10) {
//                                 //   return "Describe yourself in greater than 10 words";
//                                 // }
//                                 else
//                                   return null;
//                               },
//                               decoration: InputDecoration(
//                                 filled: true,
//                                 //<-- SEE HERE
//                                 fillColor: Colors.grey.shade200,
//                                 border: OutlineInputBorder(
//                                     borderSide: BorderSide
//                                         .none,
//                                     borderRadius: BorderRadius
//                                         .circular(10)
//                                 ),
//                                 labelText: 'Charges',
//                               ),
//                               textInputAction: TextInputAction.next,
//                               onEditingComplete: () {
//                                 // FocusScope.of(context).requestFocus(_nodePassword);
//                               },
//                             ),
//
//                             SizedBox(height: 5.h,),
//                             Row(
//                               mainAxisAlignment: MainAxisAlignment
//                                   .center,
//                               children: [
//
//                                 Expanded(
//                                   child: Container(
//                                     child: TextButton(
//                                       onPressed: () async {
//                                         uploadGalImage =
//                                         null;
//                                         Navigator
//                                             .of(
//                                             context)
//                                             .pop();
//                                       },
//                                       style: ButtonStyle(
//                                           foregroundColor: MaterialStateProperty
//                                               .all<
//                                               Color>(
//                                               ColorConstants
//                                                   .themeBlue),
//                                           shape: MaterialStateProperty
//                                               .all<
//                                               RoundedRectangleBorder>(
//                                               RoundedRectangleBorder(
//                                                   borderRadius: BorderRadius
//                                                       .circular(
//                                                       5.0),
//                                                   side: BorderSide(
//                                                       color: ColorConstants
//                                                           .themeBlue)
//                                               )
//                                           )
//                                       ),
//                                       child: Text(
//                                           "Cancel",
//                                           style: TextStyle(
//                                               fontSize: 20
//                                                   .sp)),
//                                     ),
//                                   ),
//                                 ),
//                                 SizedBox(
//                                   width: 10
//                                       .w,),
//                                 Expanded(
//                                   child:
//
//                                   Container(
//                                     child: TextButton(
//                                       onPressed: () async {
//                                         if (serviceFormKey.currentState!
//                                             .validate()) {
//                                           uploadService();
//                                         }
//                                       },
//                                       style: TextButton
//                                           .styleFrom(
//                                         foregroundColor: Colors
//                                             .white,
//                                         splashFactory: NoSplash
//                                             .splashFactory,
//                                         backgroundColor: ColorConstants
//                                             .themeBlue, //
//                                         // padding: const EdgeInsets.only(top: 10, bottom: 10),
//                                       ),
//                                       child:
//                                       Text(
//                                           "Add",
//                                           style: TextStyle(
//                                               fontSize: 20
//                                                   .sp)),
//                                     ),
//                                   ),
//                                 ),
//
//                               ],
//                             ),
//
//                           ],
//                         ),
//                       );
//                   }
//               ),
//
//             );
//         }
//     );
//   }
// }
